function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}function isOwn$(o,p){return{}.hasOwnProperty.call(o,p)}function extends$(child,parent){function ctor(){this.constructor=child}for(var key in parent)isOwn$(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child}function in$(member,list){for(var i=0,length=list.length;length>i;++i)if(i in list&&list[i]===member)return!0;return!1}void function(){var safeInit;null!=window.Tracking?window.Tracking:window.Tracking={},safeInit=function(obj,payload,cb){var err;try{return obj.init(payload,cb)}catch(e$){return err=e$,OptimizeSuite.TrackingHub.add("DealPage-FrontEndInit-Error",{error:err}),cb()}},Tracking.Initializer=function(timeoutInMs){var finished,inFlight;return null==timeoutInMs&&(timeoutInMs=3e4),inFlight=0,this._hasRun=!1,finished=!1,{run:function(modules,payload,cb){for(var module,i$=0,length$=modules.length;length$>i$;++i$)module=modules[i$],inFlight++,safeInit(module,payload,function(this$){return function(){return inFlight--,0===inFlight&&this$._hasRun&&!finished?(finished=!0,cb()):void 0}}(this));return this._hasRun=!0,0!==inFlight||finished||(finished=!0,cb()),setTimeout(function(){return finished?void 0:(OptimizeSuite.TrackingHub.add("DealPage-FrontEndInit-Timeout",{numberInFlight:inFlight}),finished=!0,cb())},timeoutInMs)}}}}.call(this),window.swfobject=function(){var abstractAltContent,addDomLoadEvent,addListener,addLoadEvent,autoHideShow,callDomLoadFunctions,canExpressInstall,cleanup,createCSS,createElement,createObjParam,createSWF,displayAltContent,doc,domLoadFnArr,dynamicStylesheet,dynamicStylesheetMedia,EXPRESS_INSTALL_ID,FLASH_MIME_TYPE,getElementById,getObjectById,hasPlayerVersion,isDomLoaded,isExpressInstallActive,listenersArr,main,matchVersions,nav,OBJECT,objIdArr,ON_READY_STATE_CHANGE,onDomLoad,plugin,regObjArr,removeObjectInIE,removeSWF,setVisibility,SHOCKWAVE_FLASH,SHOCKWAVE_FLASH_AX,showExpressInstall,storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,testPlayerVersion,ua,UNDEF,urlEncodeIfNecessary,win;return UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=!1,regObjArr=[],objIdArr=[],listenersArr=[],isDomLoaded=!1,isExpressInstallActive=!1,autoHideShow=!0,storedAltContent=storedAltContentId=storedCallbackFn=storedCallbackObj=dynamicStylesheet=dynamicStylesheetMedia=null,callDomLoadFunctions=function(){var dl,e,t;if(!isDomLoaded){try{t=doc.getElementsByTagName("body")[0].appendChild(createElement("span")),t.parentNode.removeChild(t)}catch(e$){return e=e$,void 0}return isDomLoaded=!0,dl=domLoadFnArr,function(accum$){for(var dlFn,i,cache$=domLoadFnArr||[],i$=0,length$=cache$.length;length$>i$;++i$)dlFn=cache$[i$],i=i$,accum$.push(dlFn());return accum$}.call(this,[])}},addDomLoadEvent=function(fn){return isDomLoaded?fn():domLoadFnArr[domLoadFnArr.length]=fn},addLoadEvent=function(fn){var fnOld;return typeof win.addEventListener!==UNDEF?win.addEventListener("load",fn,!1):typeof doc.addEventListener!==UNDEF?doc.addEventListener("load",fn,!1):typeof win.attachEvent!==UNDEF?addListener(win,"onload",fn):"function"==typeof win.onload?(fnOld=win.onload,win.onload=function(){return fnOld(),fn()}):win.onload=fn},main=function(){return plugin?testPlayerVersion():matchVersions()},domLoadFnArr=[main],testPlayerVersion=function(){var b,counter,o,t;return b=doc.getElementsByTagName("body")[0],o=createElement(OBJECT),o.setAttribute("type",FLASH_MIME_TYPE),t=b.appendChild(o),t?(counter=0,function(){var d;if(typeof t.GetVariable!==UNDEF)d=t.GetVariable("$version"),d&&(d=d.split(" ")[1].split(","),ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]);else if(10>counter)return counter++,setTimeout(arguments.callee,10),void 0;return b.removeChild(o),t=null,matchVersions()}()):matchVersions()},matchVersions=function(){var rl;return rl=regObjArr.length,regObjArr.length?function(accum$){for(var att,cb,cbObj,i,id,o,obj,p,par,pl,regObj,i$=0,length$=regObjArr.length;length$>i$;++i$)regObj=regObjArr[i$],i=i$,id=regObj.id,cb=regObj.callbackFn,cbObj={success:!1,id:id},accum$.push(ua.pv[0]>0?(obj=getElementById(id),obj?!hasPlayerVersion(regObj.swfVersion)||ua.wk&&ua.wk<312?regObj.expressInstall&&canExpressInstall()?(att={},att.data=regObj.expressInstall,att.width=obj.getAttribute("width")||"0",att.height=obj.getAttribute("height")||"0",obj.getAttribute("class")?att.styleclass=obj.getAttribute("class"):void 0,obj.getAttribute("align")?att.align=obj.getAttribute("align"):void 0,par={},p=obj.getElementsByTagName("param"),pl=p.length,function(accum$1){for(var pair,cache$=p||[],i$1=0,length$1=cache$.length;length$1>i$1;++i$1)pair=cache$[i$1],accum$1.push("movie"!==pair.getAttribute("name").toLowerCase()?par[pair.getAttribute("name")]=pair.getAttribute("value"):void 0);return accum$1}.call(this,[]),showExpressInstall(att,par,id,cb)):(displayAltContent(obj),cb?cb(cbObj):void 0):(setVisibility(id,!0),cb?(cbObj.success=!0,cbObj.ref=getObjectById(id),cb(cbObj)):void 0):void 0):(setVisibility(id,!0),cb?(o=getObjectById(id),o&&typeof o.SetVariable!==UNDEF?(cbObj.success=!0,cbObj.ref=o):void 0,cb(cbObj)):void 0));return accum$}.call(this,[]):void 0},getObjectById=function(objectIdStr){var n,o,r;return r=null,o=getElementById(objectIdStr),o&&"OBJECT"===o.nodeName&&(typeof o.SetVariable!==UNDEF?r=o:(n=o.getElementsByTagName(OBJECT)[0],n&&(r=n))),r},canExpressInstall=function(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312)},showExpressInstall=function(att,par,replaceElemIdStr,callbackFn){var fv,newObj,obj,pt;return isExpressInstallActive=!0,storedCallbackFn=callbackFn||null,storedCallbackObj={success:!1,id:replaceElemIdStr},obj=getElementById(replaceElemIdStr),obj?("OBJECT"===obj.nodeName?(storedAltContent=abstractAltContent(obj),storedAltContentId=null):(storedAltContent=obj,storedAltContentId=replaceElemIdStr),att.id=EXPRESS_INSTALL_ID,(typeof att.width===UNDEF||!/%$/.test(att.width)&&parseInt(att.width,10)<310)&&(att.width="310"),(typeof att.height===UNDEF||!/%$/.test(att.height)&&parseInt(att.height,10)<137)&&(att.height="137"),doc.title=doc.title.slice(0,47)+" - Flash Player Installation",pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+win.location.toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title,typeof par.flashvars!==UNDEF?par.flashvars+="&"+fv:par.flashvars=fv,ua.ie&&ua.win&&4!==obj.readyState&&(newObj=createElement("div"),replaceElemIdStr+="SWFObjectNew",newObj.setAttribute("id",replaceElemIdStr),obj.parentNode.insertBefore(newObj,obj),obj.style.display="none",function(){return 4===obj.readyState?obj.parentNode.removeChild(obj):setTimeout(arguments.callee,10)}()),createSWF(att,par,replaceElemIdStr)):void 0},displayAltContent=function(obj){var el;return ua.ie&&ua.win&&4!==obj.readyState?(el=createElement("div"),obj.parentNode.insertBefore(el,obj),el.parentNode.replaceChild(abstractAltContent(obj),el),obj.style.display="none",function(){return 4===obj.readyState?obj.parentNode.removeChild(obj):setTimeout(arguments.callee,10)}()):obj.parentNode.replaceChild(abstractAltContent(obj),obj)},abstractAltContent=function(obj){var ac,c,childNode,cl,nestedObj;if(ac=createElement("div"),ua.win&&ua.ie)ac.innerHTML=obj.innerHTML;else if(nestedObj=obj.getElementsByTagName(OBJECT)[0],nestedObj&&(c=nestedObj.childNodes)){cl=c.length;for(var i$=0,length$=c.length;length$>i$;++i$)childNode=c[i$],1===childNode.nodeType&&"PARAM"===childNode.nodeName||8===childNode.nodeType||ac.appendChild(childNode.cloneNode(!0))}return ac},createSWF=function(attObj,parObj,id){var att,el,i,j,m,n,o,par,r;if(r=void 0,el=getElementById(id),ua.wk&&ua.wk<312)return r;if(el)if(typeof attObj.id===UNDEF&&(attObj.id=id),ua.ie&&ua.win){att="";for(i in attObj)attObj[i]!==Object.prototype[i]&&("data"===i.toLowerCase()?parObj.movie=attObj[i]:"styleclass"===i.toLowerCase()?att+=' class="'+attObj[i]+'"':"classid"!==i.toLowerCase()&&(att+=" "+i+'="'+attObj[i]+'"'));par="";for(j in parObj)parObj[j]!==Object.prototype[j]&&(par+='<param name="'+j+'" value="'+parObj[j]+'" />');el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+">"+par+"</object>",objIdArr[objIdArr.length]=attObj.id,r=getElementById(attObj.id)}else{o=createElement(OBJECT),o.setAttribute("type",FLASH_MIME_TYPE);for(m in attObj)attObj[m]!==Object.prototype[m]&&("styleclass"===m.toLowerCase()?o.setAttribute("class",attObj[m]):"classid"!==m.toLowerCase()&&o.setAttribute(m,attObj[m]));for(n in parObj)parObj[n]!==Object.prototype[n]&&"movie"!==n.toLowerCase()&&createObjParam(o,n,parObj[n]);el.parentNode.replaceChild(o,el),r=o}return r},createObjParam=function(el,pName,pValue){var p;return p=createElement("param"),p.setAttribute("name",pName),p.setAttribute("value",pValue),el.appendChild(p)},removeSWF=function(id){var obj;return obj=getElementById(id),obj&&"OBJECT"===obj.nodeName?ua.ie&&ua.win?(obj.style.display="none",function(){return 4===obj.readyState?removeObjectInIE(id):setTimeout(arguments.callee,10)}()):obj.parentNode.removeChild(obj):void 0},removeObjectInIE=function(id){var obj,thing;if(obj=getElementById(id)){for(var i$=0,length$=obj.length;length$>i$;++i$)thing=obj[i$],"function"==typeof thing&&(thing=null);return obj.parentNode.removeChild(obj)}},getElementById=function(id){var e,el;el=null;try{el=doc.getElementById(id)}catch(e$){e=e$}return el},createElement=function(el){return doc.createElement(el)},addListener=function(target,eventType,fn){return target.attachEvent(eventType,fn),listenersArr[listenersArr.length]=[target,eventType,fn]},hasPlayerVersion=function(rv){var pv,v;return pv=ua.pv,v=rv.split("."),v[0]=parseInt(v[0],10),v[1]=parseInt(v[1],10)||0,v[2]=parseInt(v[2],10)||0,null!=(pv[0]>v[0]||pv[0]===v[0]&&pv[1]>v[1]||pv[0]===v[0]&&pv[1]===v[1]&&pv[2]>=v[2])?pv[0]>v[0]||pv[0]===v[0]&&pv[1]>v[1]||pv[0]===v[0]&&pv[1]===v[1]&&pv[2]>=v[2]:{"true":!1}},createCSS=function(sel,decl,media,newStyle){var h,m,s;if((!ua.ie||!ua.mac)&&(h=doc.getElementsByTagName("head")[0]))if(m=null!=(media&&"string"==typeof media)?media&&"string"==typeof media:{media:"screen"},newStyle&&(dynamicStylesheet=null,dynamicStylesheetMedia=null),dynamicStylesheet&&dynamicStylesheetMedia===m||(s=createElement("style"),s.setAttribute("type","text/css"),s.setAttribute("media",m),dynamicStylesheet=h.appendChild(s),ua.ie&&ua.win&&typeof doc.styleSheets!==UNDEF&&doc.styleSheets.length>0&&(dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1]),dynamicStylesheetMedia=m),ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule===OBJECT)return dynamicStylesheet.addRule(sel,decl)}else if(dynamicStylesheet&&typeof doc.createTextNode!==UNDEF)return dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"))},setVisibility=function(id,isVisible){var v;if(autoHideShow)return v=null!=isVisible?isVisible:{visible:"hidden"},isDomLoaded&&getElementById(id)?getElementById(id).style.visibility=v:createCSS("#"+id,"visibility:"+v)},urlEncodeIfNecessary=function(s){var hasBadChars,regex;return regex=/[\\\"<>\.;]/,hasBadChars=null!==regex.exec(s),hasBadChars&&typeof encodeURIComponent!==(UNDEF?encodeURIComponent(s):s)},ua=function(){var a,d,e,ie,mac,p,playerVersion,u,w3cdom,webkit,windows;if(w3cdom=typeof doc.getElementById!==UNDEF&&typeof doc.getElementsByTagName!==UNDEF&&typeof doc.createElement!==UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,ie=!1,playerVersion=[0,0,0],d=null,typeof nav.plugins!==UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]===OBJECT)d=nav.plugins[SHOCKWAVE_FLASH].description,!d||typeof nav.mimeTypes!==UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin||(plugin=!0,ie=!1,d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10),playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10),playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof win.ActiveXObject!==UNDEF)try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX),a&&(d=a.GetVariable("$version"),d&&(ie=!0,d=d.split(" ")[1].split(","),playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]))}catch(e$){e=e$}return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac}}(),onDomLoad=function(){return ua.w3?((typeof doc.readyState!==UNDEF&&"complete"===doc.readyState||typeof doc.readyState===UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))&&callDomLoadFunctions(),isDomLoaded?void 0:(typeof doc.addEventListener!==UNDEF&&doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,!1),ua.ie&&ua.win&&(doc.attachEvent(ON_READY_STATE_CHANGE,function(){return"complete"===doc.readyState?(doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee),callDomLoadFunctions()):void 0}),win===top&&function(){var e;if(!isDomLoaded){try{doc.documentElement.doScroll("left")}catch(e$){return e=e$,setTimeout(arguments.callee,0),void 0}return callDomLoadFunctions()}}()),ua.wk&&function(){return isDomLoaded?void 0:/loaded|complete/.test(doc.readyState)?callDomLoadFunctions():(setTimeout(arguments.callee,0),void 0)}(),addLoadEvent(callDomLoadFunctions))):void 0}(),cleanup=function(){return ua.ie&&ua.win?window.attachEvent("onunload",function(){for(var k,l,listener,obj,swfobject,i$=0,length$=listenersArr.length;length$>i$;++i$)listener=listenersArr[i$],listener[0].detachEvent(listener[1],listener[2]);for(var i$1=0,length$1=objIdArr.length;length$1>i$1;++i$1)obj=objIdArr[i$1],removeSWF(obj);for(k in ua)ua[k]=null;ua=null;for(l in swfobject)swfobject[l]=null;return swfobject=null}):void 0}(),{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){var regObj;return ua.w3&&objectIdStr&&swfVersionStr?(regObj={},regObj.id=objectIdStr,regObj.swfVersion=swfVersionStr,regObj.expressInstall=xiSwfUrlStr,regObj.callbackFn=callbackFn,regObjArr[regObjArr.length]=regObj,setVisibility(objectIdStr,!1)):"function"==typeof callbackFn?callbackFn({success:!1,id:objectIdStr}):void 0
},getObjectById:function(objectIdStr){return ua.w3?getObjectById(objectIdStr):void 0},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj;return callbackObj={success:!1,id:replaceElemIdStr},ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr?(setVisibility(replaceElemIdStr,!1),addDomLoadEvent(function(){var att,i,j,k,obj,par;if(widthStr+="",heightStr+="",att={},attObj&&typeof attObj===OBJECT)for(i in attObj)att[i]=attObj[i];if(att.data=swfUrlStr,att.width=widthStr,att.height=heightStr,par={},parObj&&typeof parObj===OBJECT)for(j in parObj)par[j]=parObj[j];if(flashvarsObj&&typeof flashvarsObj===OBJECT)for(k in flashvarsObj)typeof par.flashvars!==UNDEF?par.flashvars+="&"+k+"="+flashvarsObj[k]:par.flashvars=k+"="+flashvarsObj[k];if(hasPlayerVersion(swfVersionStr))obj=createSWF(att,par,replaceElemIdStr),att.id===replaceElemIdStr&&setVisibility(replaceElemIdStr,!0),callbackObj.success=!0,callbackObj.ref=obj;else{if(xiSwfUrlStr&&canExpressInstall())return att.data=xiSwfUrlStr,showExpressInstall(att,par,replaceElemIdStr,callbackFn),void 0;setVisibility(replaceElemIdStr,!0)}return"function"==typeof callbackFn?callbackFn(callbackObj):void 0})):"function"==typeof callbackFn?callbackFn(callbackObj):void 0},switchOffAutoHideShow:function(){return autoHideShow=!1},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]}},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){return ua.w3?createSWF(attObj,parObj,replaceElemIdStr):void 0},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){return ua.w3&&canExpressInstall()?showExpressInstall(att,par,replaceElemIdStr,callbackFn):void 0},removeSWF:function(objElemIdStr){return ua.w3?removeSWF(objElemIdStr):void 0},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){return ua.w3?createCSS(selStr,declStr,mediaStr,newStyleBoolean):void 0},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var pair,pairs,q;if(q=doc.location.search||doc.location.hash){if(/\?/.test(q)&&(q=q.split("?")[1]),null===param)return urlEncodeIfNecessary(q);pairs=q.split("&");for(var i$=0,length$=pairs.length;length$>i$;++i$)if(pair=pairs[i$],pair.substring(0,pair.indexOf("="))===param)return urlEncodeIfNecessary(pair.substring(pair.indexOf("=")+1))}return""},expressInstallCallback:function(){var obj;return isExpressInstallActive?(obj=getElementById(EXPRESS_INSTALL_ID),obj&&storedAltContent&&(obj.parentNode.replaceChild(storedAltContent,obj),storedAltContentId&&(setVisibility(storedAltContentId,!0),ua.ie&&ua.win&&(storedAltContent.style.display="block")),storedCallbackFn&&storedCallbackFn(storedCallbackObj)),isExpressInstallActive=!1):void 0}}}(),null!=window.DetectFlash?window.DetectFlash:window.DetectFlash={},DetectFlash.hasFlash=swfobject.hasFlashPlayerVersion("1"),void function(){var DEFAULT_EL;null!=window.DealCarousel?window.DealCarousel:window.DealCarousel={},DEFAULT_EL=".featured-image",DealCarousel.Helpers={getMedia:function(carousel){var cache$,dealImages,dealVideos,forceVideos,media,showVideos,videoPosition;return cache$=carousel,dealImages=cache$.dealImages,forceVideos=cache$.forceVideos,dealVideos=cache$.dealVideos,videoPosition=cache$.videoPosition,media=dealImages.slice(0),showVideos=forceVideos||DetectFlash.hasFlash||!!("undefined"!=typeof Modernizr&&null!=Modernizr?Modernizr.video:void 0),showVideos&&(null!=dealVideos?dealVideos.length:void 0)>0&&media.splice(videoPosition,0,dealVideos[0]),{media:media,showVideos:showVideos}},prepareCarouselOptions:function(carousel,currentDealMedia,featuredImage,i18n){var cache$,carouselOptions,dealId,el,imageZoomState,mediaHeight,showThumbs,zoomMessage;switch(cache$=carousel,el=cache$.el,imageZoomState=cache$.imageZoomState,mediaHeight=cache$.mediaHeight,dealId=cache$.dealId,showThumbs=cache$.showThumbs,imageZoomState){case"hover":zoomMessage=i18n.t(".hoverZoom");break;case"click":zoomMessage=i18n.t(".clickZoom");break;default:zoomMessage=!1}return carouselOptions={collection:currentDealMedia,el:el||DEFAULT_EL,imageZoomState:imageZoomState,mediaHeight:mediaHeight,showThumbs:showThumbs,uuid:dealId,zoomMessage:zoomMessage},null!=featuredImage&&(carouselOptions.featured=currentDealMedia.findWhere({baseURL:featuredImage})),carouselOptions},setVideoLoaderFlags:function(showVideos,carousel){var loadKaltura,loadOoyala,video;if(loadKaltura=!1,loadOoyala=!1,showVideos&&("undefined"==typeof kWidget||null==kWidget||"undefined"==typeof OO||null==OO))for(var cache$=carousel.dealVideos||[],i$=0,length$=cache$.length;length$>i$;++i$)video=cache$[i$],loadKaltura||"KALTURA"!==video.provider||(loadKaltura=!0),loadOoyala||"OOYALA"!==video.provider||(loadOoyala=!0);return{loadKaltura:loadKaltura,loadOoyala:loadOoyala}},loadVideoScripts:function(carousel,currentCarouselView,loadKaltura,loadOoyala){return!loadKaltura||"undefined"!=typeof kWidget&&null!=kWidget||$.getScript(carousel.kalturaScriptUrl).fail(function(){return currentCarouselView.collection.remove(currentCarouselView.collection.where({provider:"KALTURA"})),currentCarouselView.collection.classes.indexOf("script-load-fail")>-1||(currentCarouselView.collection.classes+=" script-load-fail"),currentCarouselView.render()}),!loadOoyala||"undefined"!=typeof OO&&null!=OO?void 0:$.getScript(carousel.ooyalaScriptUrl).fail(function(){return currentCarouselView.collection.remove(currentCarouselView.collection.where({provider:"OOYALA"})),currentCarouselView.collection.classes.indexOf("script-load-fail")>-1||(currentCarouselView.collection.classes+=" script-load-fail"),currentCarouselView.render()})}}}.call(this),null!=window.DealCarousel?window.DealCarousel:window.DealCarousel={},DealCarousel.Media=Backbone.Model.extend({initialize:function(param$){var cache$;return null==param$&&(param$={}),cache$=param$,this.id=cache$.id,this.type=cache$.type,this.media=cache$.media,this.thumb=cache$.thumb,this.provider=cache$.provider,this.baseURL=cache$.baseURL,null!=this.id?this.id:this.id=this.cid},isFeatured:function(){return(null!=this.collection?this.collection.view.currentFeatured:void 0)===this},isLast:function(){return(null!=this.collection?this.collection.last():void 0)===this},isVideo:function(){return"video"===this.type}});/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(Hogan,useArrayBuffer){function coerceToString(val){return String(null===val||void 0===val?"":val)}function hoganEscape(str){return str=coerceToString(str),hChars.test(str)?str.replace(rAmp,"&amp;").replace(rLt,"&lt;").replace(rGt,"&gt;").replace(rApos,"&#39;").replace(rQuot,"&quot;"):str}Hogan.Template=function(renderFunc,text,compiler,options){this.r=renderFunc||this.r,this.c=compiler,this.options=options,this.text=text||"",this.buf=useArrayBuffer?[]:""},Hogan.Template.prototype={r:function(){return""},v:hoganEscape,t:coerceToString,render:function(context,partials,indent){return this.ri([context],partials||{},indent)},ri:function(context,partials,indent){return this.r(context,partials,indent)},rp:function(name,context,partials,indent){var partial=partials[name];return partial?(this.c&&"string"==typeof partial&&(partial=this.c.compile(partial,this.options)),partial.ri(context,partials,indent)):""},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail))return section(context,partials,this),void 0;for(var i=0;i<tail.length;i++)context.push(tail[i]),section(context,partials,this),context.pop()},s:function(val,ctx,partials,inverted,start,end,tags){var pass;return isArray(val)&&0===val.length?!1:("function"==typeof val&&(val=this.ls(val,ctx,partials,inverted,start,end,tags)),pass=""===val||!!val,!inverted&&pass&&ctx&&ctx.push("object"==typeof val?val:ctx[ctx.length-1]),pass)},d:function(key,ctx,partials,returnFound){var names=key.split("."),val=this.f(names[0],ctx,partials,returnFound),cx=null;if("."===key&&isArray(ctx[ctx.length-2]))return ctx[ctx.length-1];for(var i=1;i<names.length;i++)val&&"object"==typeof val&&names[i]in val?(cx=val,val=val[names[i]]):val="";return returnFound&&!val?!1:(returnFound||"function"!=typeof val||(ctx.push(cx),val=this.lv(val,ctx,partials),ctx.pop()),val)},f:function(key,ctx,partials,returnFound){for(var val=!1,v=null,found=!1,i=ctx.length-1;i>=0;i--)if(v=ctx[i],v&&"object"==typeof v&&key in v){val=v[key],found=!0;break}return found?(returnFound||"function"!=typeof val||(val=this.lv(val,ctx,partials)),val):returnFound?!1:""},ho:function(val,cx,partials,text,tags){var compiler=this.c,options=this.options;options.delimiters=tags;var text=val.call(cx,text);return text=null==text?String(text):text.toString(),this.b(compiler.compile(text,options).render(cx,partials)),!1},b:useArrayBuffer?function(s){this.buf.push(s)}:function(s){this.buf+=s},fl:useArrayBuffer?function(){var r=this.buf.join("");return this.buf=[],r}:function(){var r=this.buf;return this.buf="",r},ls:function(val,ctx,partials,inverted,start,end,tags){var cx=ctx[ctx.length-1],t=null;if(!inverted&&this.c&&val.length>0)return this.ho(val,cx,partials,this.text.substring(start,end),tags);if(t=val.call(cx),"function"==typeof t){if(inverted)return!0;if(this.c)return this.ho(t,cx,partials,this.text.substring(start,end),tags)}return t},lv:function(val,ctx,partials){var cx=ctx[ctx.length-1],result=val.call(cx);return"function"==typeof result&&(result=coerceToString(result.call(cx)),this.c&&~result.indexOf("{{"))?this.c.compile(result,this.options).render(cx,partials):coerceToString(result)}};var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\'/g,rQuot=/\"/g,hChars=/[&<>\"\']/,isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof exports?exports:Hogan),function(Hogan){function cleanTripleStache(token){"}"===token.n.substr(token.n.length-1)&&(token.n=token.n.substring(0,token.n.length-1))}function trim(s){return s.trim?s.trim():s.replace(/^\s*|\s*$/g,"")}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0))return!1;for(var i=1,l=tag.length;l>i;i++)if(text.charAt(index+i)!=tag.charAt(i))return!1;return!0}function buildTree(tokens,kind,stack,customTags){for(var instructions=[],opener=null,token=null;tokens.length>0;)if(token=tokens.shift(),"#"==token.tag||"^"==token.tag||isOpener(token,customTags))stack.push(token),token.nodes=buildTree(tokens,token.tag,stack,customTags),instructions.push(token);else{if("/"==token.tag){if(0===stack.length)throw new Error("Closing tag without opener: /"+token.n);if(opener=stack.pop(),token.n!=opener.n&&!isCloser(token.n,opener.n,customTags))throw new Error("Nesting error: "+opener.n+" vs. "+token.n);return opener.end=token.i,instructions}instructions.push(token)}if(stack.length>0)throw new Error("missing closing tag: "+stack.pop().n);return instructions}function isOpener(token,tags){for(var i=0,l=tags.length;l>i;i++)if(tags[i].o==token.n)return token.tag="#",!0}function isCloser(close,open,tags){for(var i=0,l=tags.length;l>i;i++)if(tags[i].c==close&&tags[i].o==open)return!0}function esc(s){return s.replace(rSlash,"\\\\").replace(rQuot,'\\"').replace(rNewline,"\\n").replace(rCr,"\\r")}function chooseMethod(s){return~s.indexOf(".")?"d":"f"}function walk(tree){for(var code="",i=0,l=tree.length;l>i;i++){var tag=tree[i].tag;"#"==tag?code+=section(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n),tree[i].i,tree[i].end,tree[i].otag+" "+tree[i].ctag):"^"==tag?code+=invertedSection(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n)):"<"==tag||">"==tag?code+=partial(tree[i]):"{"==tag||"&"==tag?code+=tripleStache(tree[i].n,chooseMethod(tree[i].n)):"\n"==tag?code+=text('"\\n"'+(tree.length-1==i?"":" + i")):"_v"==tag?code+=variable(tree[i].n,chooseMethod(tree[i].n)):void 0===tag&&(code+=text('"'+esc(tree[i])+'"'))}return code}function section(nodes,id,method,start,end,tags){return"if(_.s(_."+method+'("'+esc(id)+'",c,p,1),'+"c,p,0,"+start+","+end+',"'+tags+'")){'+"_.rs(c,p,"+"function(c,p,_){"+walk(nodes)+"});c.pop();}"}function invertedSection(nodes,id,method){return"if(!_.s(_."+method+'("'+esc(id)+'",c,p,1),c,p,1,0,0,"")){'+walk(nodes)+"};"}function partial(tok){return'_.b(_.rp("'+esc(tok.n)+'",c,p,"'+(tok.indent||"")+'"));'}function tripleStache(id,method){return"_.b(_.t(_."+method+'("'+esc(id)+'",c,p,0)));'}function variable(id,method){return"_.b(_.v(_."+method+'("'+esc(id)+'",c,p,0)));'}function text(id){return"_.b("+id+");"}var rIsWhitespace=/\S/,rQuot=/\"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g,tagTypes={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};Hogan.scan=function(text,delimiters){function addBuf(){buf.length>0&&(tokens.push(new String(buf)),buf="")}function lineIsWhitespace(){for(var isAllWhitespace=!0,j=lineStart;j<tokens.length;j++)if(isAllWhitespace=tokens[j].tag&&tagTypes[tokens[j].tag]<tagTypes._v||!tokens[j].tag&&null===tokens[j].match(rIsWhitespace),!isAllWhitespace)return!1;return isAllWhitespace}function filterLine(haveSeenTag,noNewLine){if(addBuf(),haveSeenTag&&lineIsWhitespace())for(var next,j=lineStart;j<tokens.length;j++)tokens[j].tag||((next=tokens[j+1])&&">"==next.tag&&(next.indent=tokens[j].toString()),tokens.splice(j,1));else noNewLine||tokens.push({tag:"\n"});seenTag=!1,lineStart=tokens.length}function changeDelimiters(text,index){var close="="+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf("=",index)+1,closeIndex)).split(" ");return otag=delimiters[0],ctag=delimiters[1],closeIndex+close.length-1}var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf="",tokens=[],seenTag=!1,i=0,lineStart=0,otag="{{",ctag="}}";for(delimiters&&(delimiters=delimiters.split(" "),otag=delimiters[0],ctag=delimiters[1]),i=0;len>i;i++)state==IN_TEXT?tagChange(otag,text,i)?(--i,addBuf(),state=IN_TAG_TYPE):"\n"==text.charAt(i)?filterLine(seenTag):buf+=text.charAt(i):state==IN_TAG_TYPE?(i+=otag.length-1,tag=tagTypes[text.charAt(i+1)],tagType=tag?text.charAt(i+1):"_v","="==tagType?(i=changeDelimiters(text,i),state=IN_TEXT):(tag&&i++,state=IN_TAG),seenTag=i):tagChange(ctag,text,i)?(tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:"/"==tagType?seenTag-ctag.length:i+otag.length}),buf="",i+=ctag.length-1,state=IN_TEXT,"{"==tagType&&("}}"==ctag?i++:cleanTripleStache(tokens[tokens.length-1]))):buf+=text.charAt(i);return filterLine(seenTag,!0),tokens},Hogan.generate=function(tree,text,options){var code='var _=this;_.b(i=i||"");'+walk(tree)+"return _.fl();";return options.asString?"function(c,p,i){"+code+";}":new Hogan.Template(new Function("c","p","i",code),text,Hogan,options)},Hogan.parse=function(tokens,text,options){return options=options||{},buildTree(tokens,"",[],options.sectionTags||[])},Hogan.cache={},Hogan.compile=function(text,options){options=options||{};var key=text+"||"+!!options.asString,t=this.cache[key];return t?t:(t=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options),this.cache[key]=t)}}("undefined"!=typeof exports?exports:Hogan),null!=window.DealCarousel?window.DealCarousel:window.DealCarousel={},DealCarousel.CarouselTemplate=Hogan.compile('{{# renderFullCarousel }}\n  <div class="gallery {{ classes }}" data-bhw="PromNightGallery" data-bhc="PromNightGallery:{{ uuid }}">\n    <div class="gallery-featured">\n      <div class="click-blocker"></div>\n      {{# featured }}\n        {{# isVideo }}\n          <img src="http://cdnapi.kaltura.com/p/1302621/thumbnail/entry_id/{{ media }}/height/{{ collection.view.options.mediaHeight}}" id="gallery-video-{{ id }}" data-id="{{ id }}" />\n        {{/ isVideo }}\n        {{^ isVideo }}\n          <img src="{{ media }}" id="gallery-image-{{ id }}" data-id="{{ id }}" />\n        {{/ isVideo }}\n      {{/ featured }}\n    </div>\n\n    {{# showThumbs }}\n      <ul class="gallery-thumbs">\n        {{# models }}\n          <li class="gallery-thumbnail{{# isFeatured }} selected{{/ isFeatured }}{{# isVideo }} video{{/ isVideo }}{{^ thumb }} no-thumbnail{{/ thumb }}{{# isLast }} last{{/ isLast }}" id="gallery-thumb-{{ id }}" data-id="{{ id }}" data-bhc="thumbnail_click:{{ id }}"{{# isVideo }} data-bhd="{{ videoBHD }}"{{/ isVideo }}>{{# thumb }}<img src="{{ thumb }}" />{{/ thumb }}</li>\n        {{/ models }}\n      </ul>\n    {{/ showThumbs }}\n\n    <div class="gallery-controls">\n      {{# zoomMessage }}\n        <div class="image-zoom"></div>\n        <div class="image-zoom-label">\n          <span class="icon-zoom">\n            &nbsp;{{ zoomMessage }}\n          </span>\n        </div>\n      {{/ zoomMessage }}\n\n      {{# showThumbs }}\n        <div class="gallery-control-back icon-arrow-left-large disabled" data-bhc="thumbnail_back:{{ uuid }}"></div>\n        <div class="gallery-control-forward icon-arrow-right-large" data-bhc="thumbnail_forward:{{ uuid }}"></div>\n      {{/ showThumbs }}\n\n      <div class="gallery-control-left icon-arrow-left-large disabled" data-bhc="bumper_left:{{ uuid }}"></div>\n      <div class="gallery-control-right icon-arrow-right-large" data-bhc="bumper_right:{{ uuid }}"></div>\n    </div>\n  </div>\n{{/ renderFullCarousel }}\n{{^ renderFullCarousel }}\n  <div class="gallery-single">\n    <div class="gallery-featured">\n      {{# first }}\n        <img class="featured-image" src="{{ media }}" data-id="{{ id }}" />\n      {{/ first }}\n    </div>\n    <div class="gallery-controls">\n      {{# zoomMessage }}\n        <div class="image-zoom"></div>\n        <div class="image-zoom-label">\n          <span class="icon-zoom">\n            &nbsp;{{ zoomMessage }}\n          </span>\n        </div>\n      {{/ zoomMessage }}\n    </div>\n  </div>\n{{/ renderFullCarousel }}'),void function(){var IMAGE_ASPECT_RATION,IZ_DOUBLE_HEIGHT,IZ_DOUBLE_WIDTH,IZ_EXT_DOUBLE,IZ_EXT_TRIPLE,IZ_TRIPLE_HEIGHT,IZ_TRIPLE_WIDTH,RETRIEVE_IMAGE_DIMENSIONS_REGEX,TABLET_MQ_WIDTH;TABLET_MQ_WIDTH=768,IMAGE_ASPECT_RATION=.6,IZ_DOUBLE_WIDTH=1400,IZ_DOUBLE_HEIGHT=840,IZ_TRIPLE_WIDTH=2100,IZ_TRIPLE_HEIGHT=1260,RETRIEVE_IMAGE_DIMENSIONS_REGEX=/\/\w+-(\d+x\d+)?\/v1/,IZ_EXT_DOUBLE="c"+IZ_DOUBLE_WIDTH+"x"+IZ_DOUBLE_HEIGHT+".jpg",IZ_EXT_TRIPLE="c"+IZ_TRIPLE_WIDTH+"x"+IZ_TRIPLE_HEIGHT+".jpg",null!=window.DealCarousel?window.DealCarousel:window.DealCarousel={},DealCarousel.View=Backbone.View.extend({events:{"click .gallery-control-back":"onBackClick","click .gallery-control-forward":"onForwardClick","click .gallery-control-left":"onLeftClick","click .gallery-control-right":"onRightClick","click .gallery-thumbnail":"onThumbnailClick","mouseenter .image-zoom":"_startImageZoom","mouseleave .gallery-controls":"_disableImageZoom","click .image-zoom":"_toggleImageZoom"},initialize:function(){return null!=this.$el?this.$el:this.$el=$(this.el),this.currentFeatured=this.options.featured||this.collection.first(),this.collection.classes="",this.collection.view=this,this.collection.videoBHD=JSON.stringify({video:!0}),this.collection.featured=function(this$){return function(){return this$.currentFeatured}}(this),this.collection.uuid=this.options.uuid,this.collection.renderFullCarousel=this.collection.length>1,this.collection.showThumbs=this.options.showThumbs,this.imageZoomState=this.options.imageZoomState,this.imageZoomActive=!1},render:function(){var bodyWidth,el,featuredIndex,height,renderOptions;return this.$el=$(this.el),renderOptions=_.extend({zoomMessage:this.options.zoomMessage},this.collection),el=DealCarousel.CarouselTemplate.render(renderOptions),this.$el=$(el).replaceAll(this.$el),this.el=this.$el[0],this.$thumbs=this.$el.find(".gallery-thumbs"),this.$thumbnails=this.$thumbs.children(),this.$gallery=this.$el.find(".gallery-featured"),this.$galleryMedia=this.$gallery.find("img"),this.$clickBlocker=this.$el.find(".click-blocker"),this.$controls=this.$el.find(".gallery-controls"),this.$backButton=this.$controls.find(".gallery-control-back"),this.$forwardButton=this.$controls.find(".gallery-control-forward"),this.$leftButton=this.$controls.find(".gallery-control-left"),this.$rightButton=this.$controls.find(".gallery-control-right"),this.containerWidth=this.$el.width(),this.insideContainerWidth=this.containerWidth-this.$backButton.width()-this.$forwardButton.width(),this.$body=$(document.body),this.rtl=this.$body.hasClass("rtl"),this.animateViaJS=!this.$body.parent("html").hasClass("cssanimations"),this.thumbsWidth=this.$thumbs.width(),this.thumbWidth=this.$thumbs.children().outerWidth(),this.thumbMargin=this.rtl?parseInt(this.$thumbs.children().css("margin-left")):parseInt(this.$thumbs.children().css("margin-right")),this.thumbsWidth=this._calculateThumbsWidth(),this.media={},this.currentPosition=0,this.hasOverflow=this.thumbsWidth>this.containerWidth,("click"===this.imageZoomState||"hover"===this.imageZoomState)&&(this.$imageZoom=this.$el.find(".image-zoom"),this.$imageZoomLabel=this.$el.find(".image-zoom-label"),this.carouselOffset=this.$imageZoom.offset(),this.lastZoomTime=Date.now(),this._zoomBackgroundImage()),this.options.mediaHeight<this.$galleryMedia.height()||0===this.$galleryMedia.height()?(bodyWidth=this.$body.width(),bodyWidth>TABLET_MQ_WIDTH?this.setFeaturedHeight(this.options.mediaHeight):(height=IMAGE_ASPECT_RATIO*this.containerWidth,this.setFeaturedHeight(height))):this.setFeaturedHeight(this.$galleryMedia.height()),this.centerThumbs(),featuredIndex=this.collection.indexOf(this.currentFeatured),this.fetchInitialMedia(featuredIndex),this._prepareGroups(),0!==featuredIndex&&this._adjustThumbs(featuredIndex),this.delegateEvents()},centerThumbs:function(){var direction;return this.thumbsWidth=this._calculateThumbsWidth(),this.$thumbs.width(this.thumbsWidth),this.hasOverflow?(direction=this.rtl?"right":"left",this.visibleThumbs=Math.floor(this.insideContainerWidth/this.thumbWidth),this.visibleThumbs--,this.$el.addClass("has-navigation"),this.$thumbs.css(direction,this.$backButton.width()+this.thumbMargin)):this.visibleThumbs=this.$thumbnails.length},fetchMedia:function(index){var media;return media=this.collection.at(index),null!=this.media[media.id]?!1:"video"===media.type?this.fetchVideo(media):this.fetchImage(media)},fetchImage:function(image){var $newImage,newImage;return newImage=new Image,newImage.src=image.media,$newImage=$(newImage),$newImage.data("id",image.id),$newImage.attr("id","gallery-image-"+image.id),this.media[image.id]=$newImage},fetchVideo:function(video){var playerId;return playerId="KALTURA"===video.provider?"kaltura-player-1360194818":"OOYALA"===video.provider?"ooyala-player":void 0,this.media[video.id]=$("<div/>",{id:"video-container"}).attr("data-bhw","PromNightVideo").html('<div id="'+playerId+'" style="width:'+this.containerWidth+"px; height:"+this.options.mediaHeight+'px; margin: 0 auto;"></div>')},fetchInitialMedia:function(start){var collectionSize,loadCount;return null==start&&(start=0),collectionSize=this.collection.size(),loadCount=this.visibleThumbs,start+loadCount>collectionSize&&(loadCount=collectionSize-start),function(accum$){for(var i,cache$=function(){var accum$1;accum$1=[];for(var i$=start;start+loadCount>=start?start+loadCount>i$:i$>start+loadCount;start+loadCount>=start?++i$:--i$)accum$1.push(i$);return accum$1}.apply(this,arguments),i$=0,length$=cache$.length;length$>i$;++i$)i=cache$[i$],accum$.push(this.fetchMedia(i));return accum$}.call(this,[])},onBackClick:function(){return this.hasOverflow?(this.activeGroup>0?this.activeGroup--:this.activeGroup=this.totalGroups-1,this._updateThumbsPosition()):void 0},onForwardClick:function(){return this.hasOverflow?(this.activeGroup<this.totalGroups-1?this.activeGroup++:this.activeGroup=0,this._updateThumbsPosition()):void 0},onLeftClick:function(){var currentThumb,newMedia;return currentThumb=this.collection.indexOf(this.currentFeatured),currentThumb>0?(newMedia=this.collection.at(currentThumb-1),this.updateGallery(newMedia)):(newMedia=this.collection.at(this.collection.length-1),this.updateGallery(newMedia)),this._setActiveGroup(),this._disableImageZoom()},onRightClick:function(){var currentThumb,newMedia;return currentThumb=this.collection.indexOf(this.currentFeatured),currentThumb<this.collection.size()-1?(newMedia=this.collection.at(currentThumb+1),this.updateGallery(newMedia)):(newMedia=this.collection.at(0),this.updateGallery(newMedia)),this._setActiveGroup(),this._disableImageZoom()},onThumbnailClick:function(e){var $thumb,newMedia;return $thumb=this.$thumbs.find(e.currentTarget),newMedia=this.collection.get($thumb.data("id")),newMedia!==this.currentFeatured?this.updateGallery(newMedia):void 0},playVideo:function(media){return"KALTURA"===media.provider?kWidget.embed({targetId:"kaltura-player-1360194818",cache_st:1360194818,wid:"_1302621",uiconf_id:"11486911",flashvars:{autoPlay:!0,streamerType:"hdnetwork",akamaiHD:{loadingPolicy:"preInitialize",asyncInit:"true"}},entry_id:media.media}):"OOYALA"===media.provider?this.videoPlayer=OO.Player.create("ooyala-player",media.media,{autoplay:!0}):void 0},setFeaturedHeight:function(mediaHeight){return this.$gallery.height(mediaHeight),this.$body.hasClass("goods")||this.$body.hasClass("getaways")||this.$body.hasClass("getaways-booking")||(mediaHeight+=3),this.$controls.height(mediaHeight)},updateGallery:function(newMedia){var $newGalleryMedia,isCurrentVideo,newGalleryMedia,newMediaIndex,onComplete,transitionCSS;return newMediaIndex=this.collection.indexOf(newMedia),this.media[newMedia.id]?newGalleryMedia=this.media[newMedia.id]:(this.fetchMedia(newMediaIndex),newGalleryMedia=this.media[newMedia.id]),$newGalleryMedia=$(newGalleryMedia),this.animateViaJS&&(transitionCSS={opacity:0},$newGalleryMedia.css(transitionCSS)),$newGalleryMedia.appendTo(this.$gallery),newMediaIndex>0?this.$leftButton.removeClass("disabled"):this.$leftButton.addClass("disabled"),newMediaIndex<this.collection.size()-1?this.$rightButton.removeClass("disabled"):this.$rightButton.addClass("disabled"),this._adjustThumbs(this.collection.indexOf(newMedia)),"video"===newMedia.type?(this.playVideo(newMedia),this.$clickBlocker.hide(),this.$controls.hide()):(this.$clickBlocker.show(),this.$controls.show()),isCurrentVideo="video"===this.currentFeatured.type,onComplete=function(this$){return function(){return this$.$gallery.children("[id^='gallery-']:not(#gallery-video-"+this$.currentFeatured.id+", #gallery-image-"+this$.currentFeatured.id+")").remove(),isCurrentVideo?(null!=this$.videoPlayer&&this$.videoPlayer.destroy(),this$.$gallery.children("#video-container").remove()):void 0}}(this),this.animateViaJS?(transitionCSS={opacity:1},$newGalleryMedia.animate(transitionCSS,{complete:onComplete},"slow")):setTimeout(onComplete,600),this.$thumbs.find("#gallery-thumb-"+newMedia.id).addClass("selected").siblings().removeClass("selected"),this.$galleryMedia=$newGalleryMedia,this.currentFeatured=newMedia,this.$body.trigger("carouselUpdate",{image:newMedia.baseURL,uuid:this.options.uuid})},updateCollection:function(param$){var currentHeight,singleImage;return this.collection=param$,this.collection?(singleImage=1===this.collection.length,singleImage&&(currentHeight=this.$el.height()),this.collection.uuid=this.options.uuid,this.collection.renderFullCarousel=!singleImage,this.currentFeatured=this.collection.first(),this.render(),singleImage?this.$el.css("min-height",currentHeight):void 0):void 0},_calculateThumbMargins:function(marginalia){return this.visibleThumbs>1?Math.floor(marginalia/(this.visibleThumbs-1)):Math.floor(marginalia)},_calculateThumbsWidth:function(){return(this.thumbWidth+this.thumbMargin)*this.$thumbnails.length-this.thumbMargin},_prepareGroups:function(){return this.thumbGroups=[],this.totalGroups=0,this.thumbsPerGroup=0,this.activeGroup=0,this.pnThumbWidth=this.thumbWidth+this.thumbMargin,this.pnThumbWrapWidth=this.$thumbnails.length*this.pnThumbWidth,this.hasOverflow?(this._setThumbsPerGroup(),this._setTotalGroups(),this._setThumbGroups(),this._setLastGroupThumbsShort(),this._setActiveGroup(),this._updateThumbsPosition()):void 0},_scrollThumbsPosition:function(){var direction,options;return direction=this.rtl?"right":"left",options={},options[direction]=-1*$(this.$thumbnails[this.currentPosition]).position()[direction]+this.$backButton.width(),this.animateViaJS?this.$thumbs.animate(options):this.$thumbs.css(options),0===this.currentPosition?this.$backButton.addClass("disabled"):this.$backButton.removeClass("disabled"),this.currentPosition===this.collection.size()-this.visibleThumbs?this.$forwardButton.addClass("disabled"):this.$forwardButton.removeClass("disabled")},_setActiveGroup:function(){var currentIndex,lastRange;return currentIndex=this.collection.indexOf(this.currentFeatured),lastRange=this.thumbGroups[this.totalGroups-1],function(accum$){for(var group,i,i$=0,length$=this.thumbGroups.length;length$>i$;++i$)group=this.thumbGroups[i$],i=i$,accum$.push(currentIndex>=group[0]&&currentIndex<=group[1]?this.activeGroup!==i?(this.activeGroup=i,this._updateThumbsPosition()):void 0:void 0);return accum$}.call(this,[])},_setLastGroupThumbsShort:function(){return this.thumbsShort=this.thumbsPerGroup-(this.thumbGroups[this.totalGroups-1][1]-this.thumbGroups[this.totalGroups-1][0]+1)},_setThumbGroups:function(){return function(accum$){for(var end,i,start,cache$=function(){var accum$1;accum$1=[];for(var i$=0;0<=this.totalGroups-1?i$<=this.totalGroups-1:i$>=this.totalGroups-1;0<=this.totalGroups-1?++i$:--i$)accum$1.push(i$);return accum$1}.apply(this,arguments),i$=0,length$=cache$.length;length$>i$;++i$)i=cache$[i$],start=i*this.thumbsPerGroup,end=start+this.thumbsPerGroup-1,end>=this.$thumbnails.length&&(end=this.$thumbnails.length-1),accum$.push(this.thumbGroups[i]=[start,end]);return accum$}.call(this,[])},_setThumbsPerGroup:function(){return this.thumbsPerGroup=Math.floor(this.insideContainerWidth/(this.thumbWidth+this.thumbMargin))},_setTotalGroups:function(){return this.totalGroups=Math.ceil(this.thumbsWidth/this.insideContainerWidth)},_updateThumbsPosition:function(){var direction,modifier,options;return modifier=0,this.activeGroup===this.totalGroups-1&&(modifier=(this.thumbWidth+this.thumbMargin)*this.thumbsShort),direction=this.rtl?"right":"left",options={},options[direction]=""+-1*((this.insideContainerWidth-this.thumbMargin)*this.activeGroup-modifier-this.$backButton.width()-this.thumbMargin)+"px",this.animateViaJS?this.$thumbs.animate(options):this.$thumbs.css(options)},_startImageZoom:function(){return"hover"===this.imageZoomState?this._performImageZoom():void 0},_disableImageZoom:function(){return("hover"===this.imageZoomState||"click"===this.imageZoomState&&this.imageZoomActive)&&(this.$imageZoom.fadeTo("normal",0),"click"===this.imageZoomState)?this.imageZoomActive=!this.imageZoomActive:void 0},_toggleImageZoom:function(){return"click"===this.imageZoomState?this.imageZoomActive?this._disableImageZoom():this._performImageZoom():void 0},_performImageZoom:function(){var message,zoomFactor;return zoomFactor=this._zoomBackgroundImage(),"click"===this.imageZoomState&&(this.imageZoomActive=!this.imageZoomActive),this.$imageZoom.fadeTo("normal",1),message="click"===this.imageZoomState?"ImageZoom-Click":"ImageZoom-Hover","undefined"!=typeof OptimizeSuite&&null!=OptimizeSuite&&null!=OptimizeSuite.TrackingHub&&OptimizeSuite.TrackingHub.add(message,{image:this.currentFeatured.baseURL}),this.$imageZoom.mousemove(function(this$){return function(e){var left,top;return e.timeStamp-this$.lastZoomTime>25?(this$.lastZoomTime=e.timeStamp,left=-1*(e.pageX-this$.carouselOffset.left)*zoomFactor,top=-1*(e.pageY-this$.carouselOffset.top)*zoomFactor,this$.$imageZoom.css("background-position",""+String(left)+"px "+String(top)+"px")):void 0}}(this))},_zoomBackgroundImage:function(){var zoomFactor;return zoomFactor=this._calculateZoomFactor(),this.$imageZoom.css("background-image","url('"+this.currentFeatured.baseURL+this._getImageExtension(zoomFactor)+"')"),zoomFactor},_calculateZoomFactor:function(){var cache$,height,width;return cache$=this._getImageDimensions(this.currentFeatured.baseURL),width=cache$[0],height=cache$[1],width>=IZ_TRIPLE_WIDTH&&height>=IZ_TRIPLE_HEIGHT?2:1},_getImageDimensions:function(baseUrl){var cache$,cache$1,dimensions,height,width;return dimensions=null!=(cache$=baseUrl.match(RETRIEVE_IMAGE_DIMENSIONS_REGEX))&&null!=cache$[1]?cache$[1].split("x"):void 0,2!==(null!=dimensions?dimensions.length:void 0)?[0,0]:(cache$1=dimensions,width=cache$1[0],height=cache$1[1],[parseInt(width,10),parseInt(height,10)])},_getImageExtension:function(factor){switch(factor){case 1:return IZ_EXT_DOUBLE;case 2:return IZ_EXT_TRIPLE;default:return IZ_EXT_DOUBLE}},_adjustThumbs:function(index){for(var group,i,i$=0,length$=this.thumbGroups.length;length$>i$;++i$)if(group=this.thumbGroups[i$],i=i$,index>=group[0]&&index<=group[1]&&this.activeGroup!==i){this.activeGroup=i,this._updateThumbsPosition();for(var cache$=function(){var accum$;accum$=[];for(var i$1=group[0];group[0]<=group[1]?i$1<=group[1]:i$1>=group[1];group[0]<=group[1]?++i$1:--i$1)accum$.push(i$1);return accum$}.apply(this,arguments),i$1=0,length$1=cache$.length;length$1>i$1;++i$1)i=cache$[i$1],this.fetchMedia(i);break}}})}.call(this),void function(){var cache$,getMedia,loadVideoScripts,prepareCarouselOptions,setVideoLoaderFlags;null!=window.DealCarousel?window.DealCarousel:window.DealCarousel={},DealCarousel.carouselViews={},DealCarousel.dealMedia={},DealCarousel.current={},cache$=DealCarousel.Helpers,getMedia=cache$.getMedia,prepareCarouselOptions=cache$.prepareCarouselOptions,setVideoLoaderFlags=cache$.setVideoLoaderFlags,loadVideoScripts=cache$.loadVideoScripts,DealCarousel.init=function(param$,done){var cache$1,cache$2,cache$3,cache$4,carousel,carouselOptions,currentCarouselView,currentDealMedia,dealId,enabled,featuredImage,loadKaltura,loadOoyala,media,showVideos;return cache$1=param$,carousel=cache$1.carousel,featuredImage=cache$1.featuredImage,cache$2=carousel,dealId=cache$2.dealId,(enabled=cache$2.enabled)?(cache$3=getMedia(carousel),media=cache$3.media,showVideos=cache$3.showVideos,null!=this.i18n?this.i18n:this.i18n=I18n.scoped("modules.carousel"),this.dealMedia[dealId]=currentDealMedia=new Backbone.Collection(media,{model:DealCarousel.Media}),this.current.currentDealMedia=currentDealMedia,carouselOptions=prepareCarouselOptions(carousel,currentDealMedia,featuredImage,this.i18n),this.carouselViews[dealId]=currentCarouselView=new DealCarousel.View(carouselOptions),this.current.currentCarouselView=currentCarouselView,cache$4=setVideoLoaderFlags(showVideos,carousel),loadKaltura=cache$4.loadKaltura,loadOoyala=cache$4.loadOoyala,$(function(){return loadVideoScripts(carousel,currentCarouselView,loadKaltura,loadOoyala),currentCarouselView.render(),"function"==typeof done?done():void 0})):"function"==typeof done?done():void 0},DealCarousel.updateCurrent=function(param$){var cache$1,cache$2,cache$3,cache$4,carousel,carouselOptions,dealId,enabled,featuredImage,loadKaltura,loadOoyala,media,showVideos;return cache$1=param$,carousel=cache$1.carousel,featuredImage=cache$1.featuredImage,this.current.currentDealMedia&&this.current.currentCarouselView&&(cache$2=carousel,dealId=cache$2.dealId,enabled=cache$2.enabled)?(delete this.dealMedia[this.current.currentDealMedia.uuid],delete this.carouselViews[this.current.currentDealMedia.uuid],cache$3=getMedia(carousel),media=cache$3.media,showVideos=cache$3.showVideos,this.current.currentDealMedia.reset(media,{model:DealCarousel.Media}),carouselOptions=prepareCarouselOptions(carousel,this.current.currentDealMedia,featuredImage,this.i18n),this.current.currentCarouselView.options=carouselOptions,this.current.currentCarouselView.initialize(),this.current.currentCarouselView.updateCollection(this.current.currentDealMedia),cache$4=setVideoLoaderFlags(showVideos,carousel),loadKaltura=cache$4.loadKaltura,loadOoyala=cache$4.loadOoyala,$(function(this$){return function(){return loadVideoScripts(carousel,this$.current.currentCarouselView,loadKaltura,loadOoyala)}}(this))):void 0}}.call(this),null!=window.Gift?window.Gift:window.Gift={},Gift.init=function(payload,done){return $(function(){return Gift.bindGiftButton(),done()})},Gift.bindGiftButton=function(){var $gift_button;return $gift_button=$("#gift-button"),$gift_button.length>0?$gift_button.on("click",function(e){return e.preventDefault(),Gift.createCookie(),BuyButton.view.giftButtonClicked=!0,BuyButton.eventBus.go("buy_button_clicked")}):void 0},Gift.createCookie=function(){var cookieDomain;return cookieDomain="undefined"!=typeof payload&&null!=payload&&null!=payload.giftButton?payload.giftButton.cookieDomain:void 0,Cookie.set("modalForGiftOnLoad","true",60,cookieDomain),Gift.cookieCreated=!0},Gift.removeCookie=function(){var cookieDomain;return cookieDomain="undefined"!=typeof payload&&null!=payload&&null!=payload.giftButton?payload.giftButton.cookieDomain:void 0,Cookie.unset("modalForGiftOnLoad",cookieDomain),Gift.cookieCreated=!1},void function(){var addLeadingZero,countdownTimeKey,countdownTimestamp,countdownTimeTouch,countdownTimeTouchKey,millisRemaining,timeRemaining;timeRemaining=function(timeRemainingMilliseconds){var days,hours,millisecondsLeft,minutes,seconds;return null==timeRemainingMilliseconds?{days:0,hours:0,minutes:0,seconds:0}:(days=Math.floor(timeRemainingMilliseconds/864e5),millisecondsLeft=Math.floor(timeRemainingMilliseconds-864e5*days),hours=Math.floor(millisecondsLeft/36e5),millisecondsLeft=Math.floor(millisecondsLeft-36e5*hours),minutes=Math.floor(millisecondsLeft/6e4),millisecondsLeft=Math.floor(millisecondsLeft-60*1e3*minutes),seconds=Math.floor(millisecondsLeft/1e3),{days:days,hours:hours,minutes:minutes,seconds:seconds})},millisRemaining=function(endTime){var millsRemaining,rightNow;return null==endTime?0:(rightNow=(new Date).getTime(),millsRemaining=endTime-rightNow,0>millsRemaining?0:millsRemaining)},addLeadingZero=function(number){return 0>number?void 0:10>number?"0"+number:""+number},countdownTimeKey=function(timeLeft){switch(!1){case!(timeLeft.days>=15):return"";case!(timeLeft.days>1):return".countdown_time_many_days";case!(1===timeLeft.days):return".countdown_time_1_day";default:return".countdown_time_today"}},countdownTimeTouchKey=function(timeLeft,unit){var metric;switch(metric=""+unit+"s",!1){case!(timeLeft[metric]>1||0===timeLeft[metric]):return".touch_countdown_time_"+unit+"s";case!(1===timeLeft[metric]):return".touch_countdown_time_"+unit;default:return""}},countdownTimeTouch=function(timeLeft,i18n){var daysTxn,expiresIn,hoursTxn,minutesTxn;return daysTxn=countdownTimeTouchKey(timeLeft,"day"),hoursTxn=countdownTimeTouchKey(timeLeft,"hour"),minutesTxn=countdownTimeTouchKey(timeLeft,"minute"),expiresIn="",expiresIn+=i18n.t(daysTxn,{days:daysTxn?timeLeft.days:void 0}),expiresIn+=i18n.t(hoursTxn,{hours:hoursTxn?timeLeft.hours:void 0}),expiresIn+=i18n.t(minutesTxn,{minutes:minutesTxn?timeLeft.minutes:void 0})
},countdownTimestamp=function(timeLeft){var hh,mm,ss;return hh=addLeadingZero(timeLeft.hours),mm=addLeadingZero(timeLeft.minutes),ss=addLeadingZero(timeLeft.seconds),""+hh+":"+mm+":"+ss},"undefined"!=typeof window&&null!=window&&(null!=window.CountdownTimer?window.CountdownTimer:window.CountdownTimer={},null!=CountdownTimer.Helpers?CountdownTimer.Helpers:CountdownTimer.Helpers={},CountdownTimer.Helpers.timeRemaining=timeRemaining,CountdownTimer.Helpers.millisRemaining=millisRemaining,CountdownTimer.Helpers.countdownTimeKey=countdownTimeKey,CountdownTimer.Helpers.countdownTimestamp=countdownTimestamp),"undefined"!=typeof module&&null!=module&&(module.exports={timeRemaining:timeRemaining,millisRemaining:millisRemaining,countdownTimeKey:countdownTimeKey,countdownTimeTouch:countdownTimeTouch,countdownTimestamp:countdownTimestamp})}.call(this),null!=window.CountdownTimer?window.CountdownTimer:window.CountdownTimer={},CountdownTimer.Model=Backbone.Model.extend({timeLeft:function(){var millisLeft;return millisLeft=CountdownTimer.Helpers.millisRemaining(this.get("endAt")),CountdownTimer.Helpers.timeRemaining(millisLeft)}}),void function(){var DEFAULT_EL;DEFAULT_EL=".limited-time > #counter li.countdown-timer",null!=window.CountdownTimer?window.CountdownTimer:window.CountdownTimer={},CountdownTimer.View=Backbone.View.extend({UPDATE_FREQUENCY_MS:1e3,initialize:function(){return this.i18n=this.options.i18n,this.el=this.options.el||DEFAULT_EL},render:function(){return this.$el=$(this.el),setInterval(function(this$){return function(){return this$.updateCountdown()}}(this),this.UPDATE_FREQUENCY_MS)},updateCountdown:function(){var countdownTime,timeLeft;return timeLeft=this.model.timeLeft(),countdownTime=this.t("js.modules.timer"+CountdownTimer.Helpers.countdownTimeKey(timeLeft),{days:timeLeft.days,timerIcon:'<span class="icon-now"></span>',timestamp:CountdownTimer.Helpers.countdownTimestamp(timeLeft)}),this.$el.html(countdownTime)},t:function(){return this.i18n.t.apply(this.i18n,arguments)}})}.call(this),null!=window.CountdownTimer?window.CountdownTimer:window.CountdownTimer={},null!=window.CountdownTimer.current?window.CountdownTimer.current:window.CountdownTimer.current={},CountdownTimer.init=function(param$,done){var endAt,timerData,timerModel,timerView;return timerData=param$.timerData,(endAt=null!=timerData&&null!=timerData.expiringSoon?timerData.expiringSoon.endAt:void 0)?(timerModel=new CountdownTimer.Model({endAt:endAt}),window.CountdownTimer.current.timerModel=timerModel,timerView=new CountdownTimer.View({model:timerModel,i18n:I18n.scoped(),el:null!=timerData?timerData.el:void 0}),$(function(){return timerView.render(),"function"==typeof done?done():void 0})):"function"==typeof done?done():void 0},void function(){var GIFT_MODAL_OFFSET,MODAL_OFFSET,OFFERS_MODAL_OFFSET,TABLET_MQ_WIDTH;MODAL_OFFSET={left:112,top:-130},GIFT_MODAL_OFFSET={left:60,top:-145},OFFERS_MODAL_OFFSET={left:136,top:-118},TABLET_MQ_WIDTH=768,null!=window.MultiOptionModal?window.MultiOptionModal:window.MultiOptionModal={},MultiOptionModal.init=function(payload,done){var openMultiOptionModal,positionModal;return(null!=payload?payload.buyButton.multiOptionEnabled:void 0)?(positionModal=function(){var $modal,$trigger,modalSelector,offset,position,scrollAmount;return modalSelector=BuyButton.view.offersClicked?"#offer-options":"#options",$modal=$(modalSelector),$modal.length?(scrollAmount=0,window.scrollTo(0,0),Gift.cookieCreated?($trigger=$("#gift-button"),$modal.addClass("gift-modal"),offset=GIFT_MODAL_OFFSET):($modal.removeClass("gift-modal"),"#offer-options"===modalSelector?($trigger=$("a.btn-multi-offer.offer-buy-button"),offset=OFFERS_MODAL_OFFSET):($trigger=BuyButton.view.$buyButton,offset=MODAL_OFFSET)),position=$trigger.offset(),$(document.body).width()>TABLET_MQ_WIDTH||$("html").hasClass("lt-ie9")?position.left+=$trigger.width()+offset.left:position.left=void 0,position.top+=offset.top-scrollAmount,$modal.children(".modal-body").css(position),$modal.addClass("positioned"),$modal):void 0},openMultiOptionModal=function(e){var $modal,$otherTooltip,$tooltipTrigger,modalSelector;return null!=e&&e.preventDefault(),modalSelector=BuyButton.view.offersClicked?"#offer-options":"#options",$modal=$(modalSelector),$modal.length?($modal.hasClass("tooltip")?($otherTooltip="#options"===modalSelector?$("#offer-options"):$("#options"),$otherTooltip.is(":visible")&&$otherTooltip.find(".tooltip-close").click(),$tooltipTrigger=BuyButton.view.offersClicked?$(".offer-buy-button"):Gift.cookieCreated?$("#gift-button"):$(".buy-button"),$tooltipTrigger.attr({"data-position":"bottom","data-tooltip-id":modalSelector.slice(1),"data-trigger-event":"js-trigger"}),$tooltipTrigger.find(".tooltip-target").attr("data-position","bottom"),GIG.Tooltip.helpers.tooltip.apply($tooltipTrigger[0],[{preventDefault:function(){}}])):GIG.Modal.open({el:$modal}),{stopTheBus:!0}):void 0},BuyButton.eventBus.board("buy_button_clicked",openMultiOptionModal)(998),$(function(){var $body,$triggers;return $triggers=$(".show-multi-option-modal"),$triggers.click(openMultiOptionModal),$body=$(document.body),$body.on("modal-open:options",positionModal),$body.on("modal-open:offer-options",positionModal),GIG.Modal.onClose(Gift.removeCookie,"options"),GIG.Modal.onClose(Gift.removeCookie,"offer-options"),$("#options, #offer-options").on("click",".tooltip-close",Gift.removeCookie),done()})):done()}}.call(this),null!=window.GMap?window.GMap:window.GMap={},GMap.vent=_(Backbone.Events).clone(),GMap._start=function(){return GMap.vent.trigger("start")},null!=window.GMap?window.GMap:window.GMap={},GMap.Markers=function(googleMaps){return{googleMaps:googleMaps,makeMarkers:function(markerData){return this.markers=[],function(accum$){for(var icon,locationMarker,marker,markerOptions,i$=0,length$=markerData.length;length$>i$;++i$){marker=markerData[i$],locationMarker={currentIndex:0,coloredMarkers:[]};for(var i$1=0,length$1=marker.icons.length;length$1>i$1;++i$1)icon=marker.icons[i$1],markerOptions={position:new this.googleMaps.LatLng(marker.lat,marker.lng),icon:{url:icon.url,scaledSize:marker.size?new this.googleMaps.Size(marker.size.width,marker.size.height):void 0}},locationMarker.coloredMarkers.push({color:icon.color,dynamicMarker:new this.googleMaps.Marker(markerOptions)});accum$.push(this.markers.push(locationMarker))}return accum$}.call(this,[])},createBounds:function(markers){var bounds,marker;bounds=new this.googleMaps.LatLngBounds;for(var i$=0,length$=markers.length;length$>i$;++i$)marker=markers[i$],bounds.extend(marker.getPosition());return bounds},connectMapToMarkers:function(map,markers){return function(accum$){for(var marker,i$=0,length$=markers.length;length$>i$;++i$)marker=markers[i$],accum$.push(marker.setMap(map));return accum$}.call(this,[])},addMarkersToMap:function(map){var activeMarkers,bounds,marker;activeMarkers=[];for(var i$=0,length$=this.markers.length;length$>i$;++i$)marker=this.markers[i$],activeMarkers.push(marker.coloredMarkers[0].dynamicMarker);return this.connectMapToMarkers(map,activeMarkers),activeMarkers.length>1?(bounds=this.createBounds(activeMarkers),map.fitBounds(bounds)):void 0},toggleMarkerColor:function(i){var map,marker,newMarker,oldMarker;if(!(0>i))return marker=this.markers[i],oldMarker=marker.coloredMarkers[marker.currentIndex].dynamicMarker,marker.currentIndex=(marker.currentIndex+1)%marker.coloredMarkers.length,newMarker=marker.coloredMarkers[marker.currentIndex].dynamicMarker,map=oldMarker.getMap(),oldMarker.setMap(null),newMarker.setMap(map)}}},null!=window.GMap?window.GMap:window.GMap={},GMap.View=Backbone.View.extend({events:{"click .static-map":"changeToDynamic"},initialize:function(){var cache$;return cache$=this.options,this.mapOptions=cache$.mapOptions,this.markerData=cache$.markerData,this.googleMapsJS=cache$.googleMapsJS,this.staticMapOptions=cache$.staticMapOptions,this.$staticMap=this.$el.find(".static-map"),this.$dynamicMap=this.$el.find(".dynamic-map"),null!=(null!=this.staticMapOptions?this.staticMapOptions.url:void 0)&&this.renderStaticMap(this.staticMapOptions.url),GMap.vent.on("start",function(this$){return function(){return this$.start()}}(this))},renderStaticMap:function(staticMapUrl){var $imgElement,mapHeight,mapWidth,sizeStr;return mapWidth=this.$staticMap.width(),mapHeight=this.$staticMap.height(),sizeStr="size="+mapWidth+"x"+mapHeight,staticMapUrl=staticMapUrl.replace(/size=\d+x\d+/,sizeStr),$imgElement=this.$staticMap.find("img"),$imgElement.hasClass("lazy-load")?$imgElement.attr("data-original",staticMapUrl):$imgElement.attr("src",staticMapUrl)},changeToDynamic:_.once(function(){return $.getScript(this.googleMapsJS),!1}),start:function(){var map;return GMap.vent.off("start"),null!=this.googleMaps?this.googleMaps:this.googleMaps=window.google.maps,(map=this.createDynamicMap(this.mapOptions))?(this.markerHandler=new GMap.Markers(this.googleMaps),this.markerHandler.makeMarkers(this.markerData),this.markerHandler.addMarkersToMap(map),this.revealDynamicMap()):void 0},createDynamicMap:function(options){var mapOptions;return mapOptions=this.buildMapOptions(options),new this.googleMaps.Map(this.$dynamicMap[0],mapOptions)},revealDynamicMap:function(){return this.$staticMap.hide(),this.$dynamicMap.show(),GMap.vent.trigger("dynamicMapRevealed")},buildMapOptions:function(mapOptions){return mapOptions.center=new this.googleMaps.LatLng(mapOptions.center.lat,mapOptions.center.lng),mapOptions.mapTypeId=this.googleMaps.MapTypeId.ROADMAP,mapOptions}}),null!=window.GMap?window.GMap:window.GMap={},GMap.SuperMapMultipleLocationsHandler=function(gmapView){return{gmapView:gmapView,changeToDynamicMap:_.once(function(){return $(".static-map").trigger("click")}),bindEvents:function(){var $locationsToggleElement,$merchantLocations,$redemptionLocationsElement,i18n;return $redemptionLocationsElement=$("#redemption-locations"),$merchantLocations=$("#redemption-locations .merchant-location"),$locationsToggleElement=$("#show-locations"),$redemptionLocationsElement.addClass("hide"),$merchantLocations.addClass("hide"),i18n=I18n.scoped("modules.g_map"),$locationsToggleElement.click(function(this$){return function(){return this$.changeToDynamicMap(),$redemptionLocationsElement.toggleClass("hide"),$redemptionLocationsElement.hasClass("hide")?$locationsToggleElement.text(i18n.translate(".supermap.see_addresses")):$locationsToggleElement.text(i18n.translate(".supermap.hide_addresses"))}}(this)),$merchantLocations.hover(function(gmapView){return function(){return gmapView.markerHandler.toggleMarkerColor($merchantLocations.index($(this))),$(this).find(".address").toggleClass("secondary-marker")}}(this.gmapView)),GMap.vent.on("dynamicMapRevealed",function(){return $merchantLocations.removeClass("hide"),$redemptionLocationsElement.addClass("wrap")})}}},null!=window.GMap?window.GMap:window.GMap={},GMap.init=function(param$,done){var cache$,dynamicMaps,showSuperMapMultipleLocations,staticMapOptions;return cache$=param$,dynamicMaps=cache$.dynamicMaps,staticMapOptions=cache$.staticMapOptions,showSuperMapMultipleLocations=cache$.showSuperMapMultipleLocations,null==dynamicMaps?done():$(function(){for(var map,superMapHandler,view,i$=0,length$=dynamicMaps.length;length$>i$;++i$)map=dynamicMaps[i$],view=new GMap.View(_.extend(map,{staticMapOptions:staticMapOptions})),showSuperMapMultipleLocations&&(superMapHandler=new GMap.SuperMapMultipleLocationsHandler(view),superMapHandler.bindEvents());return done()})},void function(){var isBlackListedLink,isLinkToEmptyUrl,isLinkToExternalUrl,isLinkToJs,isLinkToPdf,isMailToLink,isWhiteListedLink;null!=window.ExternalLinks?window.ExternalLinks:window.ExternalLinks={},isMailToLink=function(obj){return obj.href.match(/^mailto\:/)},isLinkToPdf=function(obj){return/.pdf$/.test(obj.href)},isLinkToJs=function(obj){return obj.href.match(/^javascript\:/)},isLinkToEmptyUrl=function(obj){return obj.href.match(/^$/)},isLinkToExternalUrl=function(obj){return obj.hostname!==location.hostname&&-1===obj.hostname.indexOf("groupon.com")},isWhiteListedLink=function(obj){var $obj,selector,selectors;selectors=[".fine-print a"],$obj=$(obj);for(var i$=0,length$=selectors.length;length$>i$;++i$)if(selector=selectors[i$],$obj.is(selector))return!0;return!1},isBlackListedLink=function(obj){var $obj,selector,selectors;selectors=[".fine-print a.discussion-links.comments",".diy-gift-card-msg a","#buy-link","#options a"],$obj=$(obj);for(var i$=0,length$=selectors.length;length$>i$;++i$)if(selector=selectors[i$],$obj.is(selector))return!0;return!1},$.expr[":"].external=function(obj){return(isLinkToExternalUrl(obj)||isLinkToPdf(obj)||isWhiteListedLink(obj))&&!(isMailToLink(obj)||isLinkToJs(obj)||isLinkToEmptyUrl(obj)||isBlackListedLink(obj))},ExternalLinks.init=function(payload,done){return $(function(){return $("a:external").click(function(e){return e.preventDefault(),window.open($(this).attr("href"),"_blank")}),done()})}}.call(this),null!=window.DealTypes?window.DealTypes:window.DealTypes={},DealTypes.Model=Backbone.Model.extend({urlRoot:function(){return this.get("rootUrl")},url:function(){return""+this.urlRoot()+"/proxy/v2/consumers/"+this.get("consumerId")+"/feedback"},toJSON:function(){return{_csrf:this.get("csrf"),deal_types:[{id:this.get("id"),value:this.get("value")}]}},isNew:function(){return!0},toggle:function(){return"positive"===this.get("value")?this.set("value","neutral"):this.set("value","positive")}}),null!=window.DealTypes?window.DealTypes:window.DealTypes={},DealTypes.View=Backbone.View.extend({events:{"click a":"_toggle"},initialize:function(){return this.model.on("change:value",function(this$){return function(){return this$._updateClass()}}(this))},_toggle:function(e){return null!=e&&e.preventDefault(),this.model.toggle(),this.model.save()},_updateClass:function(){return"positive"===this.model.get("value")?this.$("a").addClass("matching"):this.$("a").removeClass("matching")}}),null!=window.DealTypes?window.DealTypes:window.DealTypes={},DealTypes.init=function(param$,done){var cache$,consumerId,csrf,dealTypes,rootUrl;return cache$=param$,dealTypes=cache$.dealTypes,consumerId=cache$.consumerId,csrf=cache$.csrf,rootUrl=cache$.rootUrl,(null!=consumerId?consumerId.length:void 0)>0&&(null!=dealTypes?dealTypes.length:void 0)>0?$(function(){for(var cache$1,el,id,model,value,i$=0,length$=dealTypes.length;length$>i$;++i$)cache$1=dealTypes[i$],id=cache$1.id,value=cache$1.value,el=cache$1.el,model=new DealTypes.Model({id:id,value:value,consumerId:consumerId,csrf:csrf,rootUrl:rootUrl}),new DealTypes.View({el:el,model:model});return done()}):done()},null!=window.ChannelTabs?window.ChannelTabs:window.ChannelTabs={},ChannelTabs.init=function(param$,done){var categoriesBaseUrl;return categoriesBaseUrl=param$.categoriesBaseUrl,$(function(){return $(".primary-nav").find("a[href='"+categoriesBaseUrl+"']").parent().addClass("active"),done()})},null!=window.SearchBar?window.SearchBar:window.SearchBar={},SearchBar.init=function(param$,done){var division;return division=param$.division,division&&Groupon.Modules.SearchBar.Common.Location.setDivision(division),done()},null!=window.FacebookPromNight?window.FacebookPromNight:window.FacebookPromNight={},FacebookPromNight.init=function(payload,done){return $(function(){return $(".share-links .icon-facebook").on({click:function(e){return e.preventDefault(),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent($(this).attr("href")),"_blank","width=626,height=436")}}),done()})},null!=window.DealEventPipe?window.DealEventPipe:window.DealEventPipe=_(Backbone.Events).clone(),null!=window.Discount?window.Discount:window.Discount={},Discount.View=Backbone.View.extend({el:"#discount-data",initialize:function(){return DealEventPipe.on("priceUpdate",function(this$){return function(priceData){return this$.updateTiles(priceData)}}(this))},updateTiles:function(param$){var cache$,percent,savings,value;return cache$=param$,value=cache$.value,percent=cache$.percent,savings=cache$.savings,this.$("#discount-value").html(value),this.$("#discount-percent").html(percent),this.$("#discount-you-save").html(savings)}}),null!=window.DealController?window.DealController:window.DealController={},DealController.init=function(payload,done){return $(function(){return new Discount.View,done()})},window.IframeLogin={init:function(param$,done){var iframeLogin;return iframeLogin=param$.iframeLogin,this.authenticated=null!=iframeLogin?iframeLogin.authenticated:void 0,null!=this.authenticated?this.authenticated:this.authenticated=!0,this.authenticated?"function"==typeof done?done():void 0:$(function(this$){return function(){return this$.$modal=$("#login-modal"),this$.$iframe=this$.$modal.find("iframe"),this$.iframeName=this$.$iframe.attr("name"),IframeLogin.reloadBindings(),"function"==typeof done?done():void 0}}(this))},go:function(path,data){var key,value;if(data){path+="?ref="+encodeURIComponent(this.destination);for(key in data)value=data[key],path+="&"+key+"="+value}return window.location.assign(path)},reloadBindings:function(el){return null==el&&(el=document.body),$(el).find("[data-login-required]").on("click",function(e){var $this;return e.preventDefault(),$this=$(this),IframeLogin.openModal($this.attr("href"))})},openModal:function(path){null==path&&(path=window.location.href),this.destination=path,GIG.Modal.open({el:this.$modal});try{if(null!=frames[this.iframeName])return frames[this.iframeName].IframeLogin.iframeView.resetHeight()}catch(e$){return window.location.assign(path)}},success:function(){return window.location.assign(this.destination)},updateHeight:function(height){return this.$iframe.attr("height",height)}},void function(){var MagicEventBus;MagicEventBus=function(){function MagicEventBus(){this.handlers={},this.statuses={}}return MagicEventBus.prototype.board=function(eventName,callback,errorHandler){var position;return null!=this.handlers[eventName]?this.handlers[eventName]:this.handlers[eventName]=[],position=this._pushHandler(eventName,callback,errorHandler),function(this$){return function(zIndex){return this$.handlers[eventName][position].zIndex=zIndex}}(this)},MagicEventBus.prototype.go=function(eventName){var handler,sortedHandlers;if(null==this.handlers[eventName])return!1;this.statuses[eventName]="going",sortedHandlers=this.handlers[eventName].slice().sort(function(a,b){return(a.zIndex||0)-(b.zIndex||0)});for(var i$=0,length$=sortedHandlers.length;length$>i$&&(handler=sortedHandlers[i$],"stopTheBus"!==this.statuses[eventName]);++i$)this._callback(eventName,handler);return this.statuses[eventName]="stopped"},MagicEventBus.prototype._callback=function(eventName,param$){var cache$,callback,errorHandler,results;return cache$=param$,callback=cache$.callback,errorHandler=cache$.errorHandler,results=function(){var error;try{return callback()}catch(e$){if(error=e$,"undefined"!=typeof TrackingHub&&null!=TrackingHub&&TrackingHub.add("MagicEventBus "+eventName+" Error",{error:error}),"function"==typeof errorHandler)return errorHandler()}}.call(this),(null!=results?results.stopTheBus:void 0)?this.statuses[eventName]="stopTheBus":void 0},MagicEventBus.prototype._pushHandler=function(eventName,callback,errorHandler){return this.handlers[eventName].push({callback:callback,errorHandler:errorHandler}),this.handlers[eventName].length-1},MagicEventBus}(),"undefined"!=typeof window&&null!=window&&(window.MagicEventBus=MagicEventBus),"undefined"!=typeof module&&null!=module&&(module.exports=MagicEventBus)}.call(this),null!=window.BuyButton?window.BuyButton:window.BuyButton={},BuyButton.View=Backbone.View.extend({el:"#purchase-cluster",events:{"click a.buy-button":"buyButtonClicked","click a.offer-buy-button":"offersBuyButtonClicked","click .multi-option-breakout input":"updateMultiOptionBreakoutButton"},initialize:function(param$){var multiOptionEnabled,processLink;return multiOptionEnabled=param$.multiOptionEnabled,this.$buyContainer=this.$(".buy"),this.$buyButton=this.$("a.buy-button"),this.$offersBuyButton=this.$("a.offer-buy-button"),this.$dealHeroPrice=this.$("#deal-hero-price"),this.$mainBtnPrice=this.$("#main-button-formatted-price"),this.$priceBox=this.$(".price"),this.$priceLabel=this.$(".price-label"),this.$multiOptionBreakout=this.$(".multi-option-breakout"),this.$buyButtonLoader=this.$buyButton.siblings(".order-processing-loader"),this.hasBeenClicked=!1,this.variationsSelected=!1,this.multiOptionEnabled=multiOptionEnabled,processLink=function(this$){return function(){return this$.processLink()}}(this),BuyButton.eventBus.board("buy_button_clicked",processLink)(1e3),DealEventPipe.on("priceUpdate",function(this$){return function(priceData){return this$.variationsSelected=priceData.variationsSelected,this$.$buyButton.removeClass("login-disabled"),this$.updatePrice(priceData),this$.updateBuyButton(priceData)}}(this))},buyButtonClicked:function(e){return this.offersClicked=!1,this.giftButtonClicked=!1,e.preventDefault(),BuyButton.eventBus.go("buy_button_clicked")},offersBuyButtonClicked:function(e){return this.offersClicked=!0,this.giftButtonClicked=!1,e.preventDefault(),BuyButton.eventBus.go("buy_button_clicked")},shouldShowPriceInTwoRows:function(){return this.$priceBox.width()+this.$smallPrice.width()>this.$dealHeroPrice.width()},setPriceWithSale:function(newPrice,regularPrice){return this.$priceBox.text(newPrice),this.$priceBox.after("<span class='price-small'>"+regularPrice+"</span>"),this.$smallPrice=this.$dealHeroPrice.find(".price-small"),this.shouldShowPriceInTwoRows()?(this.$priceBox.addClass("two-rows"),this.$smallPrice.addClass("two-rows")):void 0},setOfferLabel:function(offerLabel){return offerLabel?this.$dealHeroPrice.append("<span class='urgency-pricing-label'>"+offerLabel+"</span>"):void 0},cleanPriceBox:function(){return this.$priceBox.removeClass("two-rows"),this.$dealHeroPrice.find(".price-small").remove(),this.$dealHeroPrice.removeClass("urgency-pricing"),this.$(".urgency-pricing-label").remove()},setPriceBox:function(price,sale){return this.cleanPriceBox(),null!=(null!=sale?sale.urgencyPricing:void 0)?(this.$dealHeroPrice.addClass("urgency-pricing"),this.setPriceWithSale(sale.urgencyPricing.newPrice,sale.urgencyPricing.regularPrice),this.setOfferLabel(null!=sale.urgencyPricing.pricingMetadata?sale.urgencyPricing.pricingMetadata.offerLabel:void 0)):null!=(null!=sale?sale.offer:void 0)?(this.$mainBtnPrice.text(sale.offer.formattedNewPrice),this.setPriceWithSale(sale.offer.formattedOldPrice,sale.offer.formattedValue)):this.$priceBox.text(price)},updatePrice:function(param$){var cache$,lengthClass,price,sale,variationsSelected;return cache$=param$,variationsSelected=cache$.variationsSelected,price=cache$.price,sale=cache$.sale,lengthClass=cache$.lengthClass,this.currentPriceClass&&this.$buyContainer.removeClass(this.currentPriceClass),lengthClass&&this.$buyContainer.addClass(lengthClass),this.setPriceBox(price,sale),this.currentPriceClass=lengthClass,variationsSelected?this.$priceLabel.hide():this.$priceLabel.show()},updateBuyButton:function(param$){var buyUrl,cache$,sale,variationsSelected;return cache$=param$,variationsSelected=cache$.variationsSelected,buyUrl=cache$.buyUrl,sale=cache$.sale,variationsSelected&&(this.$buyButton.attr("href",buyUrl),null!=(null!=sale?sale.offer:void 0))?this.$offersBuyButton.attr("href",sale.offer.buyUrl):void 0},disableBuyButton:function(){return this.hasBeenClicked=!0,this.$buyButton.removeClass("state-buy"),this.$offersBuyButton.removeClass("state-buy"),this.$buyButton.addClass("state-disabled"),this.$offersBuyButton.addClass("state-disabled"),this.$buyButtonLoader.show()},enableBuyButton:function(){return this.hasBeenClicked=!1,this.$buyButton.removeClass("state-disabled"),this.$offersBuyButton.removeClass("state-disabled"),this.$buyButton.addClass("state-buy"),this.$offersBuyButton.addClass("state-buy"),this.$buyButtonLoader.hide()},processLink:function(){var button;return this.hasBeenClicked||(button=this.offersClicked?this.$offersBuyButton:this.$buyButton,window.location=button.attr("href")),this.disableBuyButton()},updateMultiOptionBreakoutButton:function(e){var $option,value;return $option=this.$multiOptionBreakout.find(e.currentTarget),value=$option.val(),this.$buyButton.attr("href",value),$option.parent("a").length?BuyButton.eventBus.go("buy_button_clicked"):void 0}}),null!=window.BuyButton?window.BuyButton:window.BuyButton={},BuyButton.init=function(param$,done){var buyButton,cache$,handleBuyButton,iframeLogin;return cache$=param$,buyButton=cache$.buyButton,iframeLogin=cache$.iframeLogin,this.eventBus=new MagicEventBus,null==iframeLogin||iframeLogin.authenticated||iframeLogin.disabledOnBuyButton||(handleBuyButton=function(){return IframeLogin.openModal(BuyButton.view.$buyButton.attr("href")),{stopTheBus:!0}},this.eventBus.board("buy_button_clicked",handleBuyButton)(999)),$(function(this$){return function(){return this$.view=new BuyButton.View({multiOptionEnabled:buyButton.multiOptionEnabled}),done()}}(this))},function(g,H,T){g.ProductReviews||(g.ProductReviews={}),g.ProductReviews.Templates={product_reviews_review_list:new T(function(c,p,i){var _=this;return _.b(i=i||""),_.s(_.f("reviews",c,p,1),c,p,0,14,181,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('  <div class="review-card" id="'),_.b(_.v(_.d("reviewIds.card",c,p,0))),_.b('" data-bhc="product-review:'),_.b(_.v(_.f("uuid",c,p,0))),_.b('" data-bh-viewport="respect">'),_.b("\n"+i),_.b(_.rp("product_reviews_review_card",c,p,"    ")),_.b("  </div>"),_.b("\n")}),c.pop()),_.fl()},'{{# reviews }}\n  <div class="review-card" id="{{ reviewIds.card }}" data-bhc="product-review:{{ uuid }}" data-bh-viewport="respect">\n    {{> product_reviews_review_card }}\n  </div>\n{{/ reviews }}\n',H,{}),product_reviews_review_card:new T(function(c,p,i){var _=this;return _.b(i=i||""),_.b('<div class="review-header">'),_.b("\n"+i),_.b('  <div class="review-header-line">'),_.b("\n"+i),_.b('    <span class="review-display-name should-truncate" data-display-name="'),_.b(_.v(_.f("displayName",c,p,0))),_.b('">'),_.b(_.v(_.f("username",c,p,0))),_.b("</span>"),_.b("\n"+i),_.b('    <span class="review-rating" id="'),_.b(_.v(_.d("reviewIds.rating",c,p,0))),_.b('">'),_.b("\n"+i),_.b(_.rp("product_reviews_stars",c,p,"      ")),_.b("    </span>"),_.b("\n"+i),_.s(_.f("isPending",c,p,1),c,p,0,305,614,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('      <a class="review-status tooltip-trigger" data-tooltip-id="product-reviews-pending-tooltip" data-bhw="ProductReviewsPendingTooltipTrigger" data-position="right">'),_.b("\n"+i),_.b("        "),_.s(_.f("translate",c,p,1),c,p,0,497,547,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("modules.product_reviews.review_card.review_pending")}),c.pop()),_.b('<span class="icon-question"></span>'),_.b("\n"+i),_.b("      </a>"),_.b("\n")}),c.pop()),_.s(_.f("isRejected",c,p,1),c,p,0,652,1108,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('      <span class="review-status'),_.s(_.f("rejectionReasons",c,p,1),c,p,0,708,724,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b(" tooltip-trigger")}),c.pop()),_.b('" '),_.s(_.f("rejectionReasons",c,p,1),c,p,0,772,892,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('data-tooltip-id="product-reviews-rejected-tooltip" data-bhw="ProductReviewsRejectedTooltipTrigger" data-position="right"')}),c.pop()),_.b(">"),_.b("\n"+i),_.b("        "),_.s(_.f("translate",c,p,1),c,p,0,941,992,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("modules.product_reviews.review_card.review_rejected")}),c.pop()),_.s(_.f("rejectionReasons",c,p,1),c,p,0,1031,1066,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('<span class="icon-question"></span>')}),c.pop()),_.b("\n"+i),_.b("      </span>"),_.b("\n")}),c.pop()),_.b('    <span class="review-date">'),_.b(_.v(_.f("date",c,p,0))),_.b("</span>"),_.b("\n"+i),_.b("  </div>"),_.b("\n"+i),_.b("</div>"),_.b("\n"+i),_.b('<div class="review-text '),_.s(_.f("isRatingOnly",c,p,1),c,p,0,1233,1251,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("rating-only-review")}),c.pop()),_.b('">'),_.b(_.v(_.f("text",c,p,0))),_.b("</div>"),_.b("\n"+i),_.b('<div class="review-actions">'),_.b("\n"+i),_.s(_.f("helpfulUpvote",c,p,1),c,p,0,1340,1999,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('    <div class="review-vote">'),_.b("\n"+i),_.b("      <span>"),_.s(_.f("translate",c,p,1),c,p,0,1399,1449,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("modules.product_reviews.review_card.helpful.prompt")}),c.pop()),_.b("</span>"),_.b("\n"+i),_.b("      <button"),_.b("\n"+i),_.b('        id="'),_.b(_.v(_.d("reviewIds.vote",c,p,0))),_.b('"'),_.b("\n"+i),_.b('        class="btn-secondary btn-small '),_.b(_.v(_.d("displayOptions.loginRequired.triggerClass",c,p,0))),_.b(" "),_.b(_.v(_.f("buttonClass",c,p,0))),_.b('"'),_.b("\n"+i),_.b("        "),_.b(_.t(_.d("displayOptions.loginRequired.triggerData.vote",c,p,0))),_.b("\n"+i),_.b("        "),_.s(_.d("displayOptions.loginRequired.iframeLogin",c,p,1),c,p,0,1744,1770,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('data-login-required="true"')}),c.pop()),_.b("\n"+i),_.b('        data-review-id="'),_.b(_.v(_.f("uuid",c,p,0))),_.b('"'),_.b("\n"+i),_.b('        data-review-placement="'),_.b(_.v(_.f("placement",c,p,0))),_.b('"'),_.b("\n"+i),_.b('        data-bhw="ProductReviewsVote">'),_.b("\n"+i),_.b("          "),_.b(_.v(_.f("buttonText",c,p,0))),_.b("\n"+i),_.b("        </button>"),_.b("\n"+i),_.b("    </div>"),_.b("\n")}),c.pop()),_.s(_.f("isUserReview",c,p,1),c,p,0,2041,2494,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("    <a"),_.b("\n"+i),_.b('      id="review-delete"'),_.b("\n"+i),_.b('      class="'),_.b(_.v(_.d("displayOptions.loginRequired.triggerClass",c,p,0))),_.b('"'),_.b("\n"+i),_.b("      "),_.b(_.t(_.d("displayOptions.loginRequired.triggerData.review",c,p,0))),_.b("\n"+i),_.b("      "),_.s(_.d("displayOptions.loginRequired.iframeLogin",c,p,1),c,p,0,2251,2277,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('data-login-required="true"')}),c.pop()),_.b("\n"+i),_.b('      data-review-id="'),_.b(_.v(_.f("uuid",c,p,0))),_.b('"'),_.b("\n"+i),_.b('      data-bhw="ProductReviewsDelete">'),_.b("\n"+i),_.b("        "),_.s(_.f("translate",c,p,1),c,p,0,2422,2464,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("modules.product_reviews.review_card.delete")}),c.pop()),_.b("\n"+i),_.b("      </a>"),_.b("\n")}),c.pop()),_.s(_.d("displayOptions.showShare",c,p,1),c,p,0,2547,2880,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('    <div class="review-share tooltip-trigger" data-tooltip-id="product-reviews-share-tooltip" data-trigger-event="click" data-bhw="ProductReviewShare" data-position="bottom">'),_.b("\n"+i),_.b('      <span class="icon-share"></span><span class="share-text">'),_.s(_.f("translate",c,p,1),c,p,0,2802,2843,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("modules.product_reviews.review_card.share")}),c.pop()),_.b("</span>"),_.b("\n"+i),_.b("    </div>"),_.b("\n")}),c.pop()),_.b("</div>"),_.b("\n"+i),_.s(_.f("helpfulUpvote",c,p,1),c,p,0,2939,3019,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('  <div id="'),_.b(_.v(_.d("reviewIds.voteText",c,p,0))),_.b('" class="review-vote-text">'),_.b(_.v(_.f("text",c,p,0))),_.b("</div>"),_.b("\n")}),c.pop()),_.b('<div id="'),_.b(_.v(_.d("reviewIds.notification",c,p,0))),_.b('" class="notification review-notification"></div>'),_.b("\n"),_.fl()},'<div class="review-header">\n  <div class="review-header-line">\n    <span class="review-display-name should-truncate" data-display-name="{{ displayName }}">{{ username }}</span>\n    <span class="review-rating" id="{{ reviewIds.rating }}">\n      {{> product_reviews_stars }}\n    </span>\n    {{# isPending }}\n      <a class="review-status tooltip-trigger" data-tooltip-id="product-reviews-pending-tooltip" data-bhw="ProductReviewsPendingTooltipTrigger" data-position="right">\n        {{# translate }}modules.product_reviews.review_card.review_pending{{/ translate }}<span class="icon-question"></span>\n      </a>\n    {{/ isPending }}\n    {{# isRejected }}\n      <span class="review-status{{# rejectionReasons }} tooltip-trigger{{/ rejectionReasons }}" {{# rejectionReasons }}data-tooltip-id="product-reviews-rejected-tooltip" data-bhw="ProductReviewsRejectedTooltipTrigger" data-position="right"{{/ rejectionReasons }}>\n        {{# translate }}modules.product_reviews.review_card.review_rejected{{/ translate }}{{# rejectionReasons }}<span class="icon-question"></span>{{/ rejectionReasons }}\n      </span>\n    {{/ isRejected }}\n    <span class="review-date">{{ date }}</span>\n  </div>\n</div>\n<div class="review-text {{# isRatingOnly }}rating-only-review{{/ isRatingOnly }}">{{ text }}</div>\n<div class="review-actions">\n  {{# helpfulUpvote }}\n    <div class="review-vote">\n      <span>{{# translate }}modules.product_reviews.review_card.helpful.prompt{{/ translate }}</span>\n      <button\n        id="{{ reviewIds.vote }}"\n        class="btn-secondary btn-small {{ displayOptions.loginRequired.triggerClass }} {{ buttonClass }}"\n        {{{ displayOptions.loginRequired.triggerData.vote }}}\n        {{# displayOptions.loginRequired.iframeLogin }}data-login-required="true"{{/ displayOptions.loginRequired.iframeLogin }}\n        data-review-id="{{ uuid }}"\n        data-review-placement="{{ placement }}"\n        data-bhw="ProductReviewsVote">\n          {{ buttonText }}\n        </button>\n    </div>\n  {{/ helpfulUpvote }}\n  {{# isUserReview }}\n    <a\n      id="review-delete"\n      class="{{ displayOptions.loginRequired.triggerClass }}"\n      {{{ displayOptions.loginRequired.triggerData.review }}}\n      {{# displayOptions.loginRequired.iframeLogin }}data-login-required="true"{{/ displayOptions.loginRequired.iframeLogin }}\n      data-review-id="{{ uuid }}"\n      data-bhw="ProductReviewsDelete">\n        {{# translate }}modules.product_reviews.review_card.delete{{/ translate }}\n      </a>\n  {{/ isUserReview }}\n  {{# displayOptions.showShare }}\n    <div class="review-share tooltip-trigger" data-tooltip-id="product-reviews-share-tooltip" data-trigger-event="click" data-bhw="ProductReviewShare" data-position="bottom">\n      <span class="icon-share"></span><span class="share-text">{{# translate }}modules.product_reviews.review_card.share{{/ translate }}</span>\n    </div>\n  {{/ displayOptions.showShare }}\n</div>\n{{# helpfulUpvote }}\n  <div id="{{ reviewIds.voteText }}" class="review-vote-text">{{ text }}</div>\n{{/ helpfulUpvote }}\n<div id="{{ reviewIds.notification }}" class="notification review-notification"></div>\n',H,{}),product_reviews_stars:new T(function(c,p,i){var _=this;
return _.b(i=i||""),_.s(_.f("ratingStars",c,p,1),c,p,0,18,129,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('  <ul class="rating" data-bhc="'),_.b(_.v(_.f("bhc",c,p,0))),_.b('">'),_.b("\n"+i),_.s(_.f("stars",c,p,1),c,p,0,78,108,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b("      <li>"),_.b(_.t(_.d(".",c,p,0))),_.b("</li>"),_.b("\n")}),c.pop()),_.b("  </ul>"),_.b("\n")}),c.pop()),_.fl()},'{{# ratingStars }}\n  <ul class="rating" data-bhc="{{ bhc }}">\n    {{# stars }}\n      <li>{{{ . }}}</li>\n    {{/ stars }}\n  </ul>\n{{/ ratingStars }}\n',H,{}),product_reviews_user_review:new T(function(c,p,i){var _=this;return _.b(i=i||""),_.s(_.f("userReview",c,p,1),c,p,0,17,216,"{{ }}")&&(_.rs(c,p,function(c,p,_){_.b('  <div id="user-review-card" class="review-card" data-bhw="ProductReviewsUserReview" data-bhc="product-review:'),_.b(_.v(_.f("uuid",c,p,0))),_.b('" data-bh-viewport="respect">'),_.b("\n"+i),_.b(_.rp("product_reviews_review_card",c,p,"    ")),_.b("  </div>"),_.b("\n")}),c.pop()),_.fl()},'{{# userReview }}\n  <div id="user-review-card" class="review-card" data-bhw="ProductReviewsUserReview" data-bhc="product-review:{{ uuid }}" data-bh-viewport="respect">\n    {{> product_reviews_review_card }}\n  </div>\n{{/ userReview }}\n',H,{})}}(this,Hogan,Hogan.Template),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=window.ProductReviews.Views?window.ProductReviews.Views:window.ProductReviews.Views={},ProductReviews.Views.ReviewCard=Backbone.View.extend({render:function(){var data;return data=_.extend({},this.model.attributes,{displayOptions:this.model.displayOptions,translate:function(){return function(text){return I18n.t("js."+text)}}}),this.$el.append(ProductReviews.Templates.product_reviews_review_card.render(data))}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=window.ProductReviews.Views?window.ProductReviews.Views:window.ProductReviews.Views={},ProductReviews.Views.ReviewRating=Backbone.View.extend({render:function(){return this.$el.append(ProductReviews.Templates.product_reviews_stars.render(this.model.attributes))}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=window.ProductReviews.Views?window.ProductReviews.Views:window.ProductReviews.Views={},ProductReviews.Views.ReviewList=Backbone.View.extend({el:"#product-reviews-list",render:function(){var fetchedReviews;return fetchedReviews=this.collection.fetchedReviews(),1===this.collection.page?this.$el.html(ProductReviews.Templates.product_reviews_review_list.render({reviews:_.pluck(fetchedReviews,"attributes")})):this.$el.append(ProductReviews.Templates.product_reviews_review_list.render({reviews:_.pluck(fetchedReviews,"attributes")})),function(accum$){for(var review,i$=0,length$=fetchedReviews.length;length$>i$;++i$)review=fetchedReviews[i$],new ProductReviews.Views.ReviewCard({model:review,el:"#review-card-"+review.id}).render(),accum$.push(new ProductReviews.Views.ReviewRating({model:review,el:"#review-rating-"+review.id}).render());return accum$}.call(this,[])}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=window.ProductReviews.Views?window.ProductReviews.Views:window.ProductReviews.Views={},ProductReviews.Views.Main=Backbone.View.extend({el:"#product-reviews",events:{"mouseover #user-rating.allow-submission .review-star":"hoverStar","click #user-rating.allow-submission .review-star":"clickStar","mouseout #user-rating":"clearHoverStar","keyup #product-reviews-form-extension textarea":"updateMinimumLengthNotification","click #product-reviews-form-extension button":"submitReview","click #product-reviews-form-extension a":"resetForm","click .review-vote button.allow-submission":"voteReview","click #review-delete.allow-submission":"deleteReview","click .review-share":"showShareTooltip","click #product-reviews-pagination-button":"showMoreReviews","change #product-reviews-sort-filter select":"resortReviews"},initialize:function(){return null!=this.$el?this.$el:this.$el=$(this.el),_.extend(this,this.options),this.listenTo(this.model,"change:rating",this.updateStars),this.$el.find("textarea[placeholder]").PlaceholderField(),this.initializeTooltip(),this.$userRating=this.$el.find("#user-rating"),this.$userStars=this.$el.find("#user-rating .review-star"),this.$userReviewNotification=this.$el.find("#user-review-notification"),this.$reviewFormExtension=this.$el.find("#product-reviews-form-extension"),this.$reviewLengthNotification=this.$el.find("#product-reviews-review-length-notification"),this.$reviewText=this.$el.find("#product-reviews-form-extension textarea"),this.$reviewSubmit=this.$el.find("#product-reviews-form-extension button"),this.$reviewCancel=this.$el.find("#product-reviews-form-extension a"),this.$sortNotification=this.$el.find("#product-reviews-sort-notification"),this.$paginationNotification=this.$el.find("#product-reviews-pagination-notification"),this.$paginationLoader=this.$el.find("#product-reviews-pagination-loader"),this.$paginationButton=this.$el.find("#product-reviews-pagination"),this.$reviewFilter=this.$el.find("#product-reviews-sort-filter select"),this.$reviewList=this.$el.find("#product-reviews-list"),this.$loginRequiredTooltip=$("#product-reviews-login-required-tooltip"),this.$shareTooltip=$("#product-reviews-share-tooltip"),this.countdownOpen='<span id="review-character-countdown">',this.countdownClose="</span>"},render:function(reviewList){return this.resetNotifications(),reviewList.render(),this.reloadBindings(),this.updatePagination(),this.$paginationLoader.hide(),this.$reviewList.show()},initializeTooltip:function(){return this.$quickViewTooltipTrigger=$("#product-reviews-quick-view.tooltip-trigger"),this.$formRatingTooltipTrigger=$("#product-reviews-form-rating.tooltip-trigger"),this.$quickViewTooltip=$("#product-reviews-quick-view-tooltip"),this.$quickViewTooltipTrigger.mouseover(function(this$){return function(){return this$.$quickViewTooltip.attr("data-trigger","product-reviews-quick-view")}}(this)),this.$formRatingTooltipTrigger.mouseover(function(this$){return function(){return this$.$quickViewTooltip.attr("data-trigger","product-reviews-form-rating")}}(this))},resetNotifications:function(){return this.$el.find(".review-notification").hide()},httpsRedirect:function(element){return window.location.assign(""+this.dealUrl+element)},hideTooltips:function(){return this.$loginRequiredTooltip.find(".tooltip-close").click(),this.$shareTooltip.find(".tooltip-close").click()},showShareTooltip:function(e){var $reviewCard,emailBody,emailSubject,hrefText,text,username;return $reviewCard=$(e.currentTarget).closest(".review-card"),$reviewCard.length?(username=$reviewCard.find(".review-display-name").data("display-name"),text=$reviewCard.find(".review-text").text(),emailSubject=encodeURIComponent(I18n.t("js.modules.product_reviews.share_review.email_subject",{dealTitle:this.dealTitle,username:username})),emailBody=encodeURIComponent(""+this.dealTitle+"\n"+this.dealUrl+'\n\n"'+text+'"\n- '+username),hrefText="mailto:?subject="+emailSubject+"&body="+emailBody+"&utm_campaign=UserReferral&utm_medium=email&utm_source=uu",this.$shareTooltip.find(".icon-email").attr("href",hrefText)):void 0},updateMinimumLengthNotification:function(){var remainder,reviewLength,text;return reviewLength=this.$reviewText.val().length,remainder=this.minimumReviewLength-reviewLength,0>=remainder?(this.$reviewLengthNotification.removeClass("warning").addClass("success"),remainder=0):this.$reviewLengthNotification.removeClass("success").addClass("warning"),this.maximumReviewLength-reviewLength<0&&(text=this.$reviewText.val().substring(0,this.maximumReviewLength),this.$reviewText.val(text)),this.$reviewLengthNotification.html(I18n.p(remainder,"js.modules.product_reviews.review_form.review_length",{minimumLength:this.minimumReviewLength,countdownOpen:this.countdownOpen,countdownClose:this.countdownClose}))},showMoreReviews:function(){return this.resetNotifications(),this.hideTooltips(),this.$paginationLoader.show(),this.collection.nextPage(this.$reviewFilter.val())},resortReviews:function(){return this.resetNotifications(),this.hideTooltips(),this.$reviewList.hide(),this.$paginationLoader.show(),this.collection.resortReviews(this.$reviewFilter.val())},updatePagination:function(){var displayedReviewCount,reviewsLength;return reviewsLength=this.collection.length,displayedReviewCount={formatted:I18n.toNumber(reviewsLength),value:reviewsLength},this.$el.find("#product-reviews-display-count span").text(I18n.t("js.modules.product_reviews.pagination.showing_count",{formattedDisplayedReviewCount:displayedReviewCount.formatted,formattedReviewCount:this.reviewCount.formatted})),displayedReviewCount.value<this.reviewCount.value?this.$paginationButton.show():this.$paginationButton.hide()},reloadBindings:function(){return($("#product-reviews-login-required-tooltip").length||$("#product-reviews-pending-tooltip").length||$("#product-reviews-share-tooltip").length)&&GIG.Tooltip.reloadBindings(this.$el),$("#login-modal").length?IframeLogin.reloadBindings(this.$el):void 0},findReview:function(placement,id){return"helpful"===placement?this.helpfulCollection.get(id):this.collection.get(id)},showPaginationError:function(action){return this.$paginationLoader.hide(),this.$reviewList.show(),this.$reviewFilter.val(this.collection.sortBy),"nextPage"===action?this.$paginationNotification.show():this.$sortNotification.show()},updateRatingDescriptionText:function(star){return this.$ratingDescription||($("#product-reviews-product-info").append($("<span id='rating-description'/>")),this.$ratingDescription=this.$el.find("#rating-description")),this.$ratingDescription.text(star?'"'+I18n.t("js.modules.product_reviews.review_form.rating_description.rating_"+star)+'"':"")},hoverStar:function(e){var i$,rating,star,x;for(this.$userStars.removeClass("selected-star"),rating=$(e.currentTarget).data("star-rating"),i$=1;5>=i$;++i$)x=i$,star=$("#review-star-"+x),rating>=x?star.addClass("hovered-star"):star.removeClass("hovered-star").addClass("empty-star");return this.updateRatingDescriptionText(rating)},clearHoverStar:function(){var i$,rating,star,x;for(this.$userStars.removeClass("hovered-star"),rating=this.model.get("rating"),i$=1;5>=i$;++i$)x=i$,star=$("#review-star-"+x),rating>=x?star.addClass("selected-star"):star.addClass("empty-star");return this.updateRatingDescriptionText(rating)},clickStar:function(e){return this.reviewable?(this.model.set("rating",$(e.currentTarget).data("star-rating")),this.$reviewFormExtension.slideDown("slow")):this.httpsRedirect("#product-reviews")},updateStars:function(){var i$,rating,star,x;for(rating=this.model.get("rating"),i$=1;5>=i$;++i$)x=i$,star=$("#review-star-"+x),rating>=x?star.removeClass("empty-star").addClass("selected-star"):star.addClass("empty-star").removeClass("selected-star");return this.updateRatingDescriptionText(rating)},submitReview:function(){return this.resetNotifications(),this.model.set("text",$("#product-reviews-form-extension textarea").val()),this.$reviewSubmit.attr("disabled","disabled").addClass("btn-secondary"),this.$reviewCancel.hide(),this.model.review()},showReviewSuccess:function(userReview){return this.resetForm(),userReview.render(),this.$reviewSubmit.hide(),this.$ratingDescription.hide(),this.$userReviewNotification.removeClass("error").addClass("success").text(I18n.t("js.modules.product_reviews.create_review.success")).show(),this.reloadBindings(),this.disableStarButton()},showReviewError:function(){return this.$userReviewNotification.removeClass("success").addClass("error").text(I18n.t("js.modules.product_reviews.create_review.error")).show(),this.enableSubmit(),this.$reviewCancel.show()},enableSubmit:function(){return this.$reviewSubmit.removeAttr("disabled").removeClass("btn-secondary").html("Submit")},disableStarButton:function(){return this.$userRating.removeClass("allow-submission").hide(),this.$userStars.removeClass("hovered-star")},resetForm:function(){return this.model.set("rating",0),this.$reviewFormExtension.slideUp("slow"),this.enableSubmit(),this.$reviewCancel.show()},voteReview:function(e){var $target,anchor,review;return $target=$(e.currentTarget),this.reviewable?(review=this.findReview($target.data("review-placement"),$target.data("review-id")),$target.attr("disabled","disabled"),this.resetNotifications(),review.view=this,$target.hasClass("upvoted")?review.unvote():review.upvote()):(anchor="helpful"===$target.data("review-placement")?"#product-reviews-helpful-reviews":"#product-reviews-list",this.httpsRedirect(anchor))},showVoteSuccess:function(model){var helpfulUpvote,reviewIds,successMessage,voteButton;return reviewIds=model.get("reviewIds"),helpfulUpvote=model.get("helpfulUpvote"),voteButton=$("#"+reviewIds.vote),"upvoted"===helpfulUpvote.buttonClass?(voteButton.addClass("upvoted"),successMessage=I18n.t("js.modules.product_reviews.upvote_review.success")):(voteButton.removeClass("upvoted"),successMessage=I18n.t("js.modules.product_reviews.unvote_review.success")),voteButton.text(helpfulUpvote.buttonText).removeAttr("disabled"),this.$el.find("#"+reviewIds.voteText).text(helpfulUpvote.text),this.$el.find("#"+reviewIds.notification).removeClass("error").addClass("success").text(successMessage).show()},showVoteError:function(model){var errorMessage,helpfulUpvote,reviewIds;return reviewIds=model.get("reviewIds"),$("#"+reviewIds.vote).removeAttr("disabled"),helpfulUpvote=model.get("helpfulUpvote"),errorMessage="upvoted"===helpfulUpvote.buttonClass?I18n.t("js.modules.product_reviews.unvote_review.error"):I18n.t("js.modules.product_reviews.upvote_review.error"),this.$el.find("#"+reviewIds.notification).removeClass("success").addClass("error").text(errorMessage).show()},deleteReview:function(){return this.reviewable?(this.resetNotifications(),$("#user-review-notification-"+this.model.id).hide(),this.model["delete"]()):this.httpsRedirect("#product-reviews")},showDeleteSuccess:function(model){var reviewIds;return reviewIds=model.get("reviewIds"),this.$el.find("#review-delete").hide(),this.$el.find("#"+reviewIds.notification).removeClass("error").addClass("success").text(I18n.t("js.modules.product_reviews.delete_review.success")).show()},showDeleteError:function(model){var reviewIds;return reviewIds=model.get("reviewIds"),this.$el.find("#review-delete").hide(),this.$el.find("#"+reviewIds.notification).removeClass("success").addClass("error").text(I18n.t("js.modules.product_reviews.delete_review.error")).show()}}),//! license : MIT
function(undefined){function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function deprecate(msg,fn){function printMsg(){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}var firstTime=!0;return extend(function(){return firstTime&&(printMsg(),firstTime=!1),fn.apply(this,arguments)},fn)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function cloneMoment(m){var i,result={};for(i in m)m.hasOwnProperty(i)&&momentProperties.hasOwnProperty(i)&&(result[i]=m[i]);return result}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return 0===year%4&&0!==year%100||0===year%400}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length)),m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function loadLang(key,values){return values.abbr=key,languages[key]||(languages[key]=new Language),languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var j,lang,next,split,i=0,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.lang()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.lang().invalidDate()}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input,10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":token=token.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=input)}}function dateFromConfig(config){var i,date,currentDate,yearToUse,fixYear,w,temp,lang,weekday,week,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&(fixYear=function(val){var intVal=parseInt(val,10);return val?val.length<3?intVal>68?1900+intVal:2e3+intVal:intVal:null==config._a[YEAR]?moment().weekYear():config._a[YEAR]},w=config._w,null!=w.GG||null!=w.W||null!=w.E?temp=dayOfYearFromWeeks(fixYear(w.GG),w.W||1,w.E,4,1):(lang=getLangDefinition(config._l),weekday=null!=w.d?parseWeekday(w.d,lang):null!=w.e?parseInt(w.e,10)+lang._week.dow:0,week=parseInt(w.w,10)||1,null!=w.d&&weekday<lang._week.dow&&week++,temp=dayOfYearFromWeeks(fixYear(w.gg),week,weekday,lang._week.doy,lang._week.dow)),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear),config._dayOfYear&&(yearToUse=null==config._a[YEAR]?currentDate[YEAR]:config._a[YEAR],config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];input[HOUR]+=toInt((config._tzm||0)/60),input[MINUTE]+=toInt((config._tzm||0)%60),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,lang=getLangDefinition(config._l),string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,config._d=new Date(0/0),void 0;for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=extend({},config),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else moment.createFromInputFallback(config)}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);input===undefined?config._d=new Date:matched?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):isDate(input)?config._d=new Date(+input):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,language){if("string"==typeof input)if(isNaN(input)){if(input=language.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=45>seconds&&["s",seconds]||1===minutes&&["m"]||45>minutes&&["mm",minutes]||1===hours&&["h"]||22>hours&&["hh",hours]||1===days&&["d"]||25>=days&&["dd",days]||45>=days&&["M"]||345>days&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;return null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=getLangDefinition().preparse(input)),moment.isMoment(input)?(config=cloneMoment(input),config._d=new Date(+input._d)):format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),new Moment(config))}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.lang().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.6.0",globalScope="undefined"!=typeof global?global:this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},momentProperties={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=lang,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)}),moment.utc=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=lang,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))&&(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}),ret=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_lang")&&(ret._lang=input._lang),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.lang=function(key,values){var r;return key?(values?loadLang(normalizeLanguage(key),values):null===values?(unloadLang(key),key="en"):languages[key]||getLangDefinition(key),r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr):moment.fn._lang._abbr},moment.langData=function(key){return key&&key._lang&&key._lang._abbr&&(key=key._lang._abbr),getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)
},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var sod=makeAs(moment(),this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.lang()),this.add({d:input-day})):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoWeek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:function(other){return other=moment.apply(null,arguments),this>other?this:other},max:function(other){return other=moment.apply(null,arguments),other>this?this:other},zone:function(input,keepTime){var offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),this._offset=input,this._isUTC=!0,offset!==input&&(!keepTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,0===(this.zone()-input)%60},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this._lang._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},lang:function(key){return key===undefined?this._lang:(this._lang=getLangDefinition(key),this)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,years,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());return withSuffix&&(output=this.lang().pastFuture(difference,output)),this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"}});for(i in unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&(makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase()));makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),void function(){var cache$,cache$1,cache$2,extend,extractDisplayNames,extractHelpfulUpvote,extractReviews,formatDate,indexOf,map,placement,processReview,processUserReview,ratingToStars,reviewIds,starToHtml,trim;"undefined"!=typeof window&&null!=window&&(cache$=_,extend=cache$.extend,map=cache$.map,indexOf=cache$.indexOf,cache$1=$,trim=cache$1.trim),"undefined"!=typeof module&&null!=module&&(cache$2=require("underscore"),extend=cache$2.extend,map=cache$2.map,indexOf=cache$2.indexOf),formatDate=function(dateString,datetime,i18n){var date;return date=datetime(dateString),(null!=date?date.isValid():void 0)?date.format(i18n.t("js.modules.product_reviews.review_card.date_format_string")):""},starToHtml=function(starType,position,userInput){return null==userInput&&(userInput=!1),userInput?"<span class='review-star "+starType+"' id='review-star-"+position+"' data-star-rating='"+position+"' data-bhw='ProductReviewUserRatingStar"+position+"'></span>":"<span class='"+starType+"'></span>"},ratingToStars=function(rating,userInput){var bhc,i$,position,stars,starType;for(stars=[],bhc="deal-review-rating:"+rating,i$=1;5>=i$;++i$)position=i$,starType=function(){switch(!1){case!(rating>7/8):return"full-star";case!(rating>5/8):return"three-fourth-star";case!(rating>3/8):return"half-star";case!(rating>1/8):return"fourth-star";default:return"empty-star"}}.call(this),stars.push(starToHtml(starType,position,userInput)),rating--;return{stars:stars,bhc:bhc}},placement=function(review){return review.isUserReview?"user":review.isHelpfulReview?"helpful":"list"},reviewIds=function(review){var prefix;return prefix="list"===review.placement?"":""+review.placement+"-",{card:""+prefix+"review-card-"+review.uuid,notification:""+prefix+"review-notification-"+review.uuid,rating:""+prefix+"review-rating-"+review.uuid,vote:""+prefix+"review-vote-"+review.uuid,voteText:""+prefix+"review-vote-text-"+review.uuid}},extractHelpfulUpvote=function(review,displayOptions,i18n){var userVoted;if(!review.byCurrentUser&&(null!=displayOptions?displayOptions.showVotes:0))return(userVoted=indexOf(displayOptions.userUpvotedReviews||[],review.uuid)>-1)&&review.upvoteCount++,{buttonClass:userVoted?"upvoted":void 0,buttonText:userVoted?i18n.t("js.modules.product_reviews.review_card.helpful.undo"):i18n.t("js.modules.product_reviews.review_card.helpful.yes"),text:review.upvoteCount?i18n.p(review.upvoteCount,"js.modules.product_reviews.review_card.helpful.message"):"",userVoted:userVoted}},extractDisplayNames=function(review,i18n){var displayName,username;return displayName=review.displayName,(null!=displayName?displayName.length:void 0)?username=review.byCurrentUser?i18n.t("js.modules.product_reviews.review_card.display_name.current_user",{displayName:displayName}):displayName:(displayName=i18n.t("js.modules.product_reviews.review_card.display_name.anonymous_user"),username=review.byCurrentUser?i18n.t("js.modules.product_reviews.review_card.display_name.current_user_missing_name"):i18n.t("js.modules.product_reviews.review_card.display_name.anonymous_user")),{username:username,displayName:displayName}},processReview=function(review,displayOptions,i18n,datetime){var cache$3,displayName,username;return review.byCurrentUser=indexOf((null!=displayOptions?displayOptions.userReviewIds:void 0)||[],review.uuid)>-1,review.placement=placement(review),cache$3=extractDisplayNames(review,i18n),username=cache$3.username,displayName=cache$3.displayName,extend(review,{date:formatDate(review.submittedAt,datetime,i18n),helpfulUpvote:extractHelpfulUpvote(review,displayOptions,i18n),ratingStars:ratingToStars(review.rating),reviewIds:reviewIds(review),username:username,displayName:displayName})},extractReviews=function(productReviews,displayOptions,i18n,datetime){return(null!=productReviews&&null!=productReviews.reviews?productReviews.reviews.length:void 0)?map(productReviews.reviews,function(review){return processReview(review,displayOptions,i18n,datetime)}):void 0},processUserReview=function(userReview,displayOptions,i18n,datetime){var isRatingOnly,userReviewText;return userReviewText=userReview.text||"",userReviewText=trim?trim(userReviewText):userReviewText.trim(),isRatingOnly=!userReviewText.length,extend(userReview,{isPending:"PENDING"===userReview.status,isRatingOnly:isRatingOnly,isRejected:"REJECTED"===userReview.status,isUserReview:!0,text:isRatingOnly?i18n.t("js.modules.product_reviews.review_card.rating_only_review"):userReview.text}),processReview(userReview,displayOptions,i18n,datetime)},"undefined"!=typeof window&&null!=window&&(null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=ProductReviews.Helpers?ProductReviews.Helpers:ProductReviews.Helpers={},ProductReviews.Helpers.extractReviews=extractReviews,ProductReviews.Helpers.processUserReview=processUserReview),"undefined"!=typeof module&&null!=module&&(module.exports={formatDate:formatDate,starToHtml:starToHtml,ratingToStars:ratingToStars,placement:placement,reviewIds:reviewIds,extractHelpfulUpvote:extractHelpfulUpvote,extractDisplayNames:extractDisplayNames,processReview:processReview,extractReviews:extractReviews,processUserReview:processUserReview})}.call(this),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},null!=window.ProductReviews.Views?window.ProductReviews.Views:window.ProductReviews.Views={},ProductReviews.Views.UserReview=Backbone.View.extend({el:"#user-review-card",render:function(){return $("#product-reviews-form-extension").after(ProductReviews.Templates.product_reviews_user_review.render({userReview:this.model.attributes})),this.setElement($("#user-review-card")),new ProductReviews.Views.ReviewCard({model:this.model,el:"#user-review-card"}).render(),new ProductReviews.Views.ReviewRating({model:this.model,el:"#user-review-card .review-rating"}).render()}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},ProductReviews.Model=Backbone.Model.extend({idAttribute:"uuid",defaults:{rating:0},initialize:function(attrs,options){return this.set("locale",I18n.locale),_.extend(this,options),_.bindAll(this,"reviewSuccess","reviewError","upvoteSuccess","upvoteError","unvoteSuccess","unvoteError","deleteSuccess","deleteError")},url:function(action){return null==action&&(action=""),""+this.rootUrl+"/product_review_proxy/reviews"+action+"?_csrf="+this.csrf},sync:function(method,model,options){return null==options&&(options={}),options.timeout=ProductReviews.timeout,Backbone.Model.prototype.sync.call(this,method,model,options)},review:function(){var data;return data={deal_uuid:this.dealUuid,locale:this.get("locale"),rating:this.get("rating"),text:$.trim(this.get("text"))},this.save(data,{type:"POST",wait:!0,success:this.reviewSuccess,error:this.reviewError,url:this.url()})},reviewSuccess:function(model,response){return null!=response.error?this.reviewError(model,response):(this.displayOptions.userReviewIds.push(response.review.uuid),this.set(ProductReviews.Helpers.processUserReview(response.review,this.displayOptions,I18n,moment)),this.view.showReviewSuccess(new ProductReviews.Views.UserReview({model:this})))},reviewError:function(){return this.view.showReviewError()},upvote:function(){return this.save({},{type:"POST",wait:!0,success:this.upvoteSuccess,error:this.upvoteError,url:this.url("/"+this.id+"/upvote")})},upvoteSuccess:function(){var upvoteCount;return upvoteCount=this.get("upvoteCount")+1,this.set({upvoteCount:upvoteCount,helpfulUpvote:{buttonClass:"upvoted",buttonText:I18n.t("js.modules.product_reviews.review_card.helpful.undo"),text:upvoteCount>0?I18n.p(upvoteCount,"js.modules.product_reviews.review_card.helpful.message"):""}}),this.collection.recordUpvote(this.id),this.view.showVoteSuccess(this)},upvoteError:function(model,response){return this.isDuplicateError(response)?this.upvoteSuccess(model,response):(this.set({helpfulUpvote:{buttonClass:""}}),this.view.showVoteError(this))},isDuplicateError:function(response){return 4===response.readyState&&409===response.status},unvote:function(){return this.save({},{type:"POST",wait:!0,success:this.unvoteSuccess,error:this.unvoteError,url:this.url("/"+this.id+"/unvote")})},unvoteSuccess:function(){var upvoteCount;return upvoteCount=this.get("upvoteCount")>0?this.get("upvoteCount")-1:0,this.set({upvoteCount:upvoteCount,helpfulUpvote:{buttonClass:"",buttonText:I18n.t("js.modules.product_reviews.review_card.helpful.yes"),text:upvoteCount>0?I18n.p(upvoteCount,"js.modules.product_reviews.review_card.helpful.message"):""}}),this.collection.recordUnvote(this.id),this.view.showVoteSuccess(this)},unvoteError:function(model,response){return this.isDuplicateError(response)?this.unvoteSuccess(model,response):(this.set({helpfulUpvote:{buttonClass:"upvoted"}}),this.view.showVoteError(this))},"delete":function(){return this.destroy({wait:!0,success:this.deleteSuccess,error:this.deleteError,url:this.url("/"+this.id)})},deleteSuccess:function(){return this.view.showDeleteSuccess(this)},deleteError:function(){return this.view.showDeleteError(this)}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},ProductReviews.Collection=Backbone.Collection.extend({model:ProductReviews.Model,initialize:function(models,param$){return this.options=param$,this.page=1,this.locale="en_US",this.sortBy="most_recent",_.extend(this,this.options),_.bindAll(this,"paginationSuccess","paginationError")},_prepareModel:function(model,options){return _.extend(options,this.options),delete options.parse,Backbone.Collection.prototype._prepareModel.call(this,model,options)},url:function(){return""+this.rootUrl+"/product_review_proxy/reviews.json?deal_uuid="+this.dealUuid+"&locale="+this.locale+"&sort="+this.sortBy+"&limit="+this.limit()+"&offset="+this.offset()},sync:function(method,collection,options){return null==options&&(options={}),options.timeout=ProductReviews.timeout,Backbone.Collection.prototype.sync.call(this,method,collection,options)},limit:function(){return this.pageSize},offset:function(){return(this.page-1)*this.pageSize},parse:function(response){return response.reviewable?ProductReviews.Helpers.extractReviews(response,this.displayOptions,I18n,moment):void 0},nextPage:function(sortOrder){return this.previousSortBy=this.sortBy,this.previousPage=this.page,this.page++,sortOrder&&(this.sortBy=sortOrder),this.action="nextPage",this.fetch({success:this.paginationSuccess,error:this.paginationError,remove:!1})},resortReviews:function(sortOrder){return this.previousSortBy=this.sortBy,this.previousPage=this.page,this.page=1,sortOrder&&(this.sortBy=sortOrder),this.action="resortReviews",this.fetch({success:this.paginationSuccess,error:this.paginationError,reset:!0})},paginationSuccess:function(){return this.view.render(new ProductReviews.Views.ReviewList({collection:this}))},paginationError:function(){return this.page=this.previousPage,this.sortBy=this.previousSortBy,this.view.showPaginationError(this.action)},recordUpvote:function(id){return this.displayOptions.userUpvotedReviews.push(id)},recordUnvote:function(id){return this.displayOptions.userUpvotedReviews=_.without(this.displayOptions.userUpvotedReviews,id)},fetchedReviews:function(){return this.models.slice(this.offset())}}),null!=window.ProductReviews?window.ProductReviews:window.ProductReviews={},ProductReviews.init=function(param$,done){var cache$,cache$1,collection,csrf,dealTitle,dealUrl,dealUuid,displayOptions,helpfulCollection,maximumReviewLength,minimumReviewLength,model,pageSize,productReviews,reviewable,reviewCount,rootUrl;return cache$=param$,csrf=cache$.csrf,rootUrl=cache$.rootUrl,productReviews=cache$.productReviews,productReviews.dealUuid?(cache$1=productReviews,reviewable=cache$1.reviewable,dealUuid=cache$1.dealUuid,dealUrl=cache$1.dealUrl,dealTitle=cache$1.dealTitle,pageSize=cache$1.pageSize,reviewCount=cache$1.reviewCount,minimumReviewLength=cache$1.minimumReviewLength,maximumReviewLength=cache$1.maximumReviewLength,displayOptions=cache$1.displayOptions,ProductReviews.timeout=3e3,collection=new ProductReviews.Collection(productReviews.reviews,{rootUrl:rootUrl,csrf:csrf,dealUuid:dealUuid,displayOptions:displayOptions,pageSize:pageSize}),helpfulCollection=new ProductReviews.Collection(null!=productReviews.helpful?productReviews.helpful.reviews:void 0,{rootUrl:rootUrl,csrf:csrf,dealUuid:dealUuid,displayOptions:displayOptions}),model=new ProductReviews.Model(productReviews.userReview,{rootUrl:rootUrl,csrf:csrf,dealUuid:dealUuid,displayOptions:displayOptions}),$(function(){var main;return main=new ProductReviews.Views.Main({reviewable:reviewable,dealUrl:dealUrl,dealTitle:dealTitle,collection:collection,helpfulCollection:helpfulCollection,model:model,reviewCount:reviewCount,minimumReviewLength:minimumReviewLength,maximumReviewLength:maximumReviewLength}),collection.view=main,helpfulCollection.view=main,model.view=main,$(".product-reviews-anchor").click(function(e){return e.preventDefault(),$("html,body").animate({scrollTop:$("#product-reviews").offset().top},"slow")}),done()})):done()},void function(){var TWENTY_YEARS;TWENTY_YEARS=63072e4,window.BuyNowTooltip={init:function(param$,done){var cookieDomain;return cookieDomain=param$.cookieDomain,Cookie.get("hide-buy-now-tooltip")?done():$(document).ready(function(){var $focusEl,$tooltip,$trigger,handleTooltipEvents,onBlur,onTooltipClose;return $tooltip=$("#buy-now-tooltip"),$tooltip.length?(null!=cookieDomain||(cookieDomain=window.location.hostname),$trigger=$("#buy-now-tooltip-trigger"),GIG.Tooltip.helpers.tooltip.apply($trigger,[{preventDefault:function(){}}]),onTooltipClose=function(){return Cookie.set("hide-buy-now-tooltip","true",TWENTY_YEARS,cookieDomain),$trigger.removeAttr("data-trigger-event")},onBlur=function(){return onTooltipClose(),GIG.Tooltip.close($tooltip)},handleTooltipEvents=function(){return $focusEl.unbind("blur",onBlur),$tooltip.unbind("mouseleave"),$tooltip.mouseleave(function(){return $focusEl.focus(),$focusEl.blur(onBlur)})},$focusEl=$tooltip.find("#buy-now-tooltip-focus"),$focusEl.focus().blur(onBlur),$tooltip.on("click",".tooltip-close",onTooltipClose),$tooltip.on("mousedown mouseenter",handleTooltipEvents),done()):done()})}}}.call(this),window.DealLazyLoader={init:function(payload,done){return $(function(){return $(document.body).on("modal-open",function(e,data){return $("#"+data.id).find(".lazy-load").lazyload()}),done()})}},$(window).load(function(){return Groupon.Performance.pageReady()}),//! license : MIT
function(undefined){function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function deprecate(msg,fn){function printMsg(){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}var firstTime=!0;return extend(function(){return firstTime&&(printMsg(),firstTime=!1),fn.apply(this,arguments)},fn)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.lang().ordinal(func.call(this,a),period)}}function Language(){}function Moment(config){checkOverflow(config),extend(this,config)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function cloneMoment(m){var i,result={};for(i in m)m.hasOwnProperty(i)&&momentProperties.hasOwnProperty(i)&&(result[i]=m[i]);return result}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment.fn._lang[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment.fn._lang,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return 0===year%4&&0!==year%100||0===year%400}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>23?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length)),m._isValid}function normalizeLanguage(key){return key?key.toLowerCase().replace("_","-"):key}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function loadLang(key,values){return values.abbr=key,languages[key]||(languages[key]=new Language),languages[key].set(values),languages[key]}function unloadLang(key){delete languages[key]}function getLangDefinition(key){var j,lang,next,split,i=0,get=function(k){if(!languages[k]&&hasModule)try{require("./lang/"+k)}catch(e){}return languages[k]};if(!key)return moment.fn._lang;if(!isArray(key)){if(lang=get(key))return lang;key=[key]}for(;i<key.length;){for(split=normalizeLanguage(key[i]).split("-"),j=split.length,next=normalizeLanguage(key[i+1]),next=next?next.split("-"):null;j>0;){if(lang=get(split.slice(0,j).join("-")))return lang;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return moment.fn._lang}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.lang()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.lang().invalidDate()}function expandFormat(format,lang){function replaceLongDateFormatTokens(input){return lang.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return getLangDefinition(config._l)._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=getLangDefinition(config._l).monthsParse(input),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input,10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=getLangDefinition(config._l).isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":token=token.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=input)}}function dateFromConfig(config){var i,date,currentDate,yearToUse,fixYear,w,temp,lang,weekday,week,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&(fixYear=function(val){var intVal=parseInt(val,10);return val?val.length<3?intVal>68?1900+intVal:2e3+intVal:intVal:null==config._a[YEAR]?moment().weekYear():config._a[YEAR]},w=config._w,null!=w.GG||null!=w.W||null!=w.E?temp=dayOfYearFromWeeks(fixYear(w.GG),w.W||1,w.E,4,1):(lang=getLangDefinition(config._l),weekday=null!=w.d?parseWeekday(w.d,lang):null!=w.e?parseInt(w.e,10)+lang._week.dow:0,week=parseInt(w.w,10)||1,null!=w.d&&weekday<lang._week.dow&&week++,temp=dayOfYearFromWeeks(fixYear(w.gg),week,weekday,lang._week.doy,lang._week.dow)),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear),config._dayOfYear&&(yearToUse=null==config._a[YEAR]?currentDate[YEAR]:config._a[YEAR],config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];input[HOUR]+=toInt((config._tzm||0)/60),input[MINUTE]+=toInt((config._tzm||0)%60),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,lang=getLangDefinition(config._l),string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,lang).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,config._d=new Date(0/0),void 0;for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=extend({},config),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function makeDateFromString(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else moment.createFromInputFallback(config)}function makeDateFromInput(config){var input=config._i,matched=aspNetJsonRegex.exec(input);input===undefined?config._d=new Date:matched?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):isDate(input)?config._d=new Date(+input):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,language){if("string"==typeof input)if(isNaN(input)){if(input=language.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,lang){return lang.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(milliseconds,withoutSuffix,lang){var seconds=round(Math.abs(milliseconds)/1e3),minutes=round(seconds/60),hours=round(minutes/60),days=round(hours/24),years=round(days/365),args=45>seconds&&["s",seconds]||1===minutes&&["m"]||45>minutes&&["mm",minutes]||1===hours&&["h"]||22>hours&&["hh",hours]||1===days&&["d"]||25>=days&&["dd",days]||45>=days&&["M"]||345>days&&["MM",round(days/30)]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=milliseconds>0,args[4]=lang,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add("d",daysToDayOfWeek),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f;return null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=getLangDefinition().preparse(input)),moment.isMoment(input)?(config=cloneMoment(input),config._d=new Date(+input._d)):format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),new Moment(config))}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.lang().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeDurationAsGetter(name,factor){moment.duration.fn["as"+name]=function(){return+this/factor}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.6.0",globalScope="undefined"!=typeof global?global:this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,languages={},momentProperties={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},hasModule="undefined"!=typeof module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.lang().monthsShort(this,format)},MMMM:function(format){return this.lang().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.lang().weekdaysMin(this,format)},ddd:function(format){return this.lang().weekdaysShort(this,format)},dddd:function(format){return this.lang().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Language.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendar[key];return"function"==typeof output?output.apply(mom):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=lang,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)}),moment.utc=function(input,format,lang,strict){var c;return"boolean"==typeof lang&&(strict=lang,lang=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=lang,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))&&(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}),ret=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_lang")&&(ret._lang=input._lang),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.lang=function(key,values){var r;return key?(values?loadLang(normalizeLanguage(key),values):null===values?(unloadLang(key),key="en"):languages[key]||getLangDefinition(key),r=moment.duration.fn._lang=moment.fn._lang=getLangDefinition(key),r._abbr):moment.fn._lang._abbr},moment.langData=function(key){return key&&key._lang&&key._lang._abbr&&(key=key._lang._abbr),getLangDefinition(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.lang().postformat(output)},add:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,1),this},subtract:function(input,val){var dur;return dur="string"==typeof input?moment.duration(+val,input):moment.duration(input,val),addOrSubtractDurationFromMoment(this,dur,-1),this},diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),output+=(this-moment(this).startOf("month")-(that-moment(that).startOf("month")))/diff,output-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix)
},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(){var sod=makeAs(moment(),this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.lang().calendar(format,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.lang()),this.add({d:input-day})):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add("isoWeek"===units?"week":units,1).subtract("ms",1)},isAfter:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units="undefined"!=typeof units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)===+makeAs(input,this).startOf(units)},min:function(other){return other=moment.apply(null,arguments),this>other?this:other},max:function(other){return other=moment.apply(null,arguments),other>this?this:other},zone:function(input,keepTime){var offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),this._offset=input,this._isUTC=!0,offset!==input&&(!keepTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,0===(this.zone()-input)%60},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add("d",input-dayOfYear)},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==input?year:this.add("y",input-year)},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add("y",input-year)},week:function(input){var week=this.lang().week(this);return null==input?week:this.add("d",7*(input-week))},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add("d",7*(input-week))},weekday:function(input){var weekday=(this.day()+7-this.lang()._week.dow)%7;return null==input?weekday:this.add("d",input-weekday)},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this._lang._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},lang:function(key){return key===undefined?this._lang:(this._lang=getLangDefinition(key),this)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,years,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),data.days=days%30,months+=absRound(days/30),data.months=months%12,years=absRound(months/12),data.years=years},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var difference=+this,output=relativeTime(difference,!withSuffix,this.lang());return withSuffix&&(output=this.lang().pastFuture(difference,output)),this.lang().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){return units=normalizeUnits(units),this["as"+units.charAt(0).toUpperCase()+units.slice(1)+"s"]()},lang:moment.fn.lang,toIsoString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"}});for(i in unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&(makeDurationAsGetter(i,unitMillisecondFactors[i]),makeDurationGetter(i.toLowerCase()));makeDurationAsGetter("Weeks",6048e5),moment.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},moment.lang("en",{ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),function(factory){factory(moment)}(function(moment){return moment.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(factory){factory(moment)}(function(moment){return moment.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;return 0===number?number+"-ев":0===last2Digits?number+"-ен":last2Digits>10&&20>last2Digits?number+"-ти":1===lastDigit?number+"-ви":2===lastDigit?number+"-ри":7===lastDigit||8===lastDigit?number+"-ми":number+"-ти"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function relativeTimeWithMutation(number,withoutSuffix,key){var format={mm:"munutenn",MM:"miz",dd:"devezh"};return number+" "+mutation(format[key],number)}function specialMutationForYears(number){switch(lastNumber(number)){case 1:case 3:case 4:case 5:case 9:return number+" bloaz";default:return number+" vloaz"}}function lastNumber(number){return number>9?lastNumber(number%10):number}function mutation(text,number){return 2===number?softMutation(text):text}function softMutation(text){var mutationTable={m:"v",b:"v",d:"z"};return mutationTable[text.charAt(0)]===undefined?text:mutationTable[text.charAt(0)]+text.substring(1)}return moment.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},ordinal:function(number){var output=1===number?"añ":"vet";return number+output},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":return result+=1===number?"minuta":2===number||3===number||4===number?"minute":"minuta";case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":return result+=1===number?"sat":2===number||3===number||4===number?"sata":"sati";case"dd":return result+=1===number?"dan":"dana";case"MM":return result+=1===number?"mjesec":2===number||3===number||4===number?"mjeseca":"mjeseci";case"yy":return result+=1===number?"godina":2===number||3===number||4===number?"godine":"godina"}}return moment.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function plural(n){return n>1&&5>n&&1!==~~(n/10)}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pár sekund":"pár sekundami";case"m":return withoutSuffix?"minuta":isFuture?"minutu":"minutou";case"mm":return withoutSuffix||isFuture?result+(plural(number)?"minuty":"minut"):result+"minutami";case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":return withoutSuffix||isFuture?result+(plural(number)?"hodiny":"hodin"):result+"hodinami";case"d":return withoutSuffix||isFuture?"den":"dnem";case"dd":return withoutSuffix||isFuture?result+(plural(number)?"dny":"dní"):result+"dny";case"M":return withoutSuffix||isFuture?"měsíc":"měsícem";case"MM":return withoutSuffix||isFuture?result+(plural(number)?"měsíce":"měsíců"):result+"měsíci";case"y":return withoutSuffix||isFuture?"rok":"rokem";case"yy":return withoutSuffix||isFuture?result+(plural(number)?"roky":"let"):result+"lety"}}var months="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),monthsShort="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return moment.lang("cs",{months:months,monthsShort:monthsShort,monthsParse:function(months,monthsShort){var i,_monthsParse=[];for(i=0;12>i;i++)_monthsParse[i]=new RegExp("^"+months[i]+"$|^"+monthsShort[i]+"$","i");return _monthsParse}(months,monthsShort),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(output){var affix=/сехет$/i.exec(output)?"рен":/çул$/i.exec(output)?"тан":"ран";return output+affix},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn àl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(number){var b=number,output="",lookup=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?output=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(output=lookup[b]),number+output},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function processRelativeTime(number,withoutSuffix,key){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}return moment.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(momentToFormat,format){return/D/.test(format.substring(0,format.indexOf("MMMM")))?this._monthsGenitiveEl[momentToFormat.month()]:this._monthsNominativeEl[momentToFormat.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(hours,minutes,isLower){return hours>11?isLower?"μμ":"ΜΜ":isLower?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:"[την προηγούμενη] dddd [{}] LT",sameElse:"L"},calendar:function(key,mom){var output=this._calendarEl[key],hours=mom&&mom.hours();return output.replace("{}",1===hours%12?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(number){return number+"η"},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(number){var b=number%10,output=1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(number){var b=number%10,output=1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}})}),function(factory){factory(moment)}(function(moment){return moment.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(number){var b=number%10,output=1===~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(hours,minutes,isLower){return hours>11?isLower?"p.t.m.":"P.T.M.":isLower?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return moment.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){return/-MMM-/.test(format)?monthsShort[m.month()]:monthsShortDot[m.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function processRelativeTime(number,withoutSuffix,key,isFuture){var format={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[number+" minuti",number+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[number+" tunni",number+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[number+" kuu",number+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[number+" aasta",number+" aastat"]};return withoutSuffix?format[key][2]?format[key][2]:format[key][1]:isFuture?format[key][0]:format[key][1]}return moment.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:"%d päeva",M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})
}),function(factory){factory(moment)}(function(moment){var symbolMap={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},numberMap={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return moment.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(hour){return 12>hour?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(string){return string.replace(/[۰-۹]/g,function(match){return numberMap[match]}).replace(/،/g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})}),function(factory){factory(moment)}(function(moment){function translate(number,withoutSuffix,key,isFuture){var result="";switch(key){case"s":return isFuture?"muutaman sekunnin":"muutama sekunti";case"m":return isFuture?"minuutin":"minuutti";case"mm":result=isFuture?"minuutin":"minuuttia";break;case"h":return isFuture?"tunnin":"tunti";case"hh":result=isFuture?"tunnin":"tuntia";break;case"d":return isFuture?"päivän":"päivä";case"dd":result=isFuture?"päivän":"päivää";break;case"M":return isFuture?"kuukauden":"kuukausi";case"MM":result=isFuture?"kuukauden":"kuukautta";break;case"y":return isFuture?"vuoden":"vuosi";case"yy":result=isFuture?"vuoden":"vuotta"}return result=verbalNumber(number,isFuture)+" "+result}function verbalNumber(number,isFuture){return 10>number?isFuture?numbersFuture[number]:numbersPast[number]:number}var numbersPast="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),numbersFuture=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",numbersPast[7],numbersPast[8],numbersPast[9]];return moment.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(number){return number+(1===number?"er":"")}})}),function(factory){factory(moment)}(function(moment){return moment.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(number){return number+(1===number?"er":"")},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(str){return"uns segundos"===str?"nuns segundos":"en "+str},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(number){return 2===number?"שעתיים":number+" שעות"},d:"יום",dd:function(number){return 2===number?"יומיים":number+" ימים"},M:"חודש",MM:function(number){return 2===number?"חודשיים":number+" חודשים"},y:"שנה",yy:function(number){return 2===number?"שנתיים":number+" שנים"}}})}),function(factory){factory(moment)}(function(moment){var symbolMap={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},numberMap={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return moment.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(string){return string.replace(/[१२३४५६७८९०]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiem:function(hour){return 4>hour?"रात":10>hour?"सुबह":17>hour?"दोपहर":20>hour?"शाम":"रात"},week:{dow:0,doy:6}})}),function(factory){factory(moment)}(function(moment){function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":return result+=1===number?"minuta":2===number||3===number||4===number?"minute":"minuta";case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":return result+=1===number?"sat":2===number||3===number||4===number?"sata":"sati";case"dd":return result+=1===number?"dan":"dana";case"MM":return result+=1===number?"mjesec":2===number||3===number||4===number?"mjeseca":"mjeseci";case"yy":return result+=1===number?"godina":2===number||3===number||4===number?"godine":"godina"}}return moment.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function translate(number,withoutSuffix,key,isFuture){var num=number;switch(key){case"s":return isFuture||withoutSuffix?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(isFuture||withoutSuffix?" perc":" perce");case"mm":return num+(isFuture||withoutSuffix?" perc":" perce");case"h":return"egy"+(isFuture||withoutSuffix?" óra":" órája");case"hh":return num+(isFuture||withoutSuffix?" óra":" órája");case"d":return"egy"+(isFuture||withoutSuffix?" nap":" napja");case"dd":return num+(isFuture||withoutSuffix?" nap":" napja");case"M":return"egy"+(isFuture||withoutSuffix?" hónap":" hónapja");case"MM":return num+(isFuture||withoutSuffix?" hónap":" hónapja");case"y":return"egy"+(isFuture||withoutSuffix?" év":" éve");case"yy":return num+(isFuture||withoutSuffix?" év":" éve")}return""}function week(isFuture){return(isFuture?"":"[múlt] ")+"["+weekEndings[this.day()]+"] LT[-kor]"}var weekEndings="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return moment.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(hours,minutes,isLower){return 12>hours?isLower===!0?"de":"DE":isLower===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function monthsCaseReplace(m,format){var months={nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")},nounCase=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(format)?"accusative":"nominative";return months[nounCase][m.month()]}function monthsShortCaseReplace(m){var monthsShort="հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_");return monthsShort[m.month()]}function weekdaysCaseReplace(m){var weekdays="կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_");return weekdays[m.day()]}return moment.lang("hy-am",{months:monthsCaseReplace,monthsShort:monthsShortCaseReplace,weekdays:weekdaysCaseReplace,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(hour){return 4>hour?"գիշերվա":12>hour?"առավոտվա":17>hour?"ցերեկվա":"երեկոյան"},ordinal:function(number,period){switch(period){case"DDD":case"w":case"W":case"DDDo":return 1===number?number+"-ին":number+"-րդ";default:return number}},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(hours){return 11>hours?"pagi":15>hours?"siang":19>hours?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function plural(n){return 11===n%100?!0:1===n%10?!1:!0}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return withoutSuffix?"mínúta":"mínútu";case"mm":return plural(number)?result+(withoutSuffix||isFuture?"mínútur":"mínútum"):withoutSuffix?result+"mínúta":result+"mínútu";case"hh":return plural(number)?result+(withoutSuffix||isFuture?"klukkustundir":"klukkustundum"):result+"klukkustund";case"d":return withoutSuffix?"dagur":isFuture?"dag":"degi";case"dd":return plural(number)?withoutSuffix?result+"dagar":result+(isFuture?"daga":"dögum"):withoutSuffix?result+"dagur":result+(isFuture?"dag":"degi");case"M":return withoutSuffix?"mánuður":isFuture?"mánuð":"mánuði";case"MM":return plural(number)?withoutSuffix?result+"mánuðir":result+(isFuture?"mánuði":"mánuðum"):withoutSuffix?result+"mánuður":result+(isFuture?"mánuð":"mánuði");case"y":return withoutSuffix||isFuture?"ár":"ári";case"yy":return plural(number)?result+(withoutSuffix||isFuture?"ár":"árum"):result+(withoutSuffix||isFuture?"ár":"ári")}}return moment.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:translate,m:translate,mm:translate,h:"klukkustund",hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(hour){return 12>hour?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(factory){factory(moment)}(function(moment){function monthsCaseReplace(m,format){var months={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},nounCase=/D[oD] *MMMM?/.test(format)?"accusative":"nominative";return months[nounCase][m.month()]}function weekdaysCaseReplace(m,format){var weekdays={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},nounCase=/(წინა|შემდეგ)/.test(format)?"accusative":"nominative";return weekdays[nounCase][m.day()]}return moment.lang("ka",{months:monthsCaseReplace,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(s){return/(წამი|წუთი|საათი|წელი)/.test(s)?s.replace(/ი$/,"ში"):s+"ში"},past:function(s){return/(წამი|წუთი|საათი|დღე|თვე)/.test(s)?s.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(s)?s.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(number){return 0===number?number:1===number?number+"-ლი":20>number||100>=number&&0===number%20||0===number%100?"მე-"+number:number+"-ე"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(hour){return 12>hour?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(token){return"오후"===token}})}),function(factory){factory(moment)}(function(moment){function processRelativeTime(number,withoutSuffix,key){var format={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[number+" Deeg",number+" Deeg"],M:["ee Mount","engem Mount"],MM:[number+" Méint",number+" Méint"],y:["ee Joer","engem Joer"],yy:[number+" Joer",number+" Joer"]};return withoutSuffix?format[key][0]:format[key][1]}function processFutureTime(string){var number=string.substr(0,string.indexOf(" "));return eifelerRegelAppliesToNumber(number)?"a "+string:"an "+string}function processPastTime(string){var number=string.substr(0,string.indexOf(" "));return eifelerRegelAppliesToNumber(number)?"viru "+string:"virun "+string}function processLastWeek(){var weekday=this.format("d");return eifelerRegelAppliesToWeekday(weekday)?"[Leschte] dddd [um] LT":"[Leschten] dddd [um] LT"}function eifelerRegelAppliesToWeekday(weekday){switch(weekday=parseInt(weekday,10)){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}}function eifelerRegelAppliesToNumber(number){if(number=parseInt(number,10),isNaN(number))return!1;if(0>number)return!0;if(10>number)return number>=4&&7>=number?!0:!1;if(100>number){var lastDigit=number%10,firstDigit=number/10;return 0===lastDigit?eifelerRegelAppliesToNumber(firstDigit):eifelerRegelAppliesToNumber(lastDigit)}if(1e4>number){for(;number>=10;)number/=10;return eifelerRegelAppliesToNumber(number)}return number/=1e3,eifelerRegelAppliesToNumber(number)}return moment.lang("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:processLastWeek},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",m:processRelativeTime,mm:"%d Minutten",h:processRelativeTime,hh:"%d Stonnen",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function translateSeconds(number,withoutSuffix,key,isFuture){return withoutSuffix?"kelios sekundės":isFuture?"kelių sekundžių":"kelias sekundes"}function translateSingular(number,withoutSuffix,key,isFuture){return withoutSuffix?forms(key)[0]:isFuture?forms(key)[1]:forms(key)[2]}function special(number){return 0===number%10||number>10&&20>number}function forms(key){return units[key].split("_")}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";return 1===number?result+translateSingular(number,withoutSuffix,key[0],isFuture):withoutSuffix?result+(special(number)?forms(key)[1]:forms(key)[0]):isFuture?result+forms(key)[1]:result+(special(number)?forms(key)[1]:forms(key)[2])}function relativeWeekDay(moment,format){var nominative=-1===format.indexOf("dddd HH:mm"),weekDay=weekDays[moment.weekday()];return nominative?weekDay:weekDay.substring(0,weekDay.length-2)+"į"}var units={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},weekDays="pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis_sekmadienis".split("_");return moment.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:relativeWeekDay,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:translateSeconds,m:translateSingular,mm:translate,h:translateSingular,hh:translate,d:translateSingular,dd:translate,M:translateSingular,MM:translate,y:translateSingular,yy:translate},ordinal:function(number){return number+"-oji"},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function format(word,number,withoutSuffix){var forms=word.split("_");return withoutSuffix?1===number%10&&11!==number?forms[2]:forms[3]:1===number%10&&11!==number?forms[0]:forms[1]}function relativeTimeWithPlural(number,withoutSuffix,key){return number+" "+format(units[key],number,withoutSuffix)}var units={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return moment.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:relativeTimeWithPlural,h:"stundu",hh:relativeTimeWithPlural,d:"dienu",dd:relativeTimeWithPlural,M:"mēnesi",MM:relativeTimeWithPlural,y:"gadu",yy:relativeTimeWithPlural},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;return 0===number?number+"-ев":0===last2Digits?number+"-ен":last2Digits>10&&20>last2Digits?number+"-ти":1===lastDigit?number+"-ви":2===lastDigit?number+"-ри":7===lastDigit||8===lastDigit?number+"-ми":number+"-ти"
},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(hour){return 4>hour?"രാത്രി":12>hour?"രാവിലെ":17>hour?"ഉച്ച കഴിഞ്ഞ്":20>hour?"വൈകുന്നേരം":"രാത്രി"}})}),function(factory){factory(moment)}(function(moment){var symbolMap={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},numberMap={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return moment.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(string){return string.replace(/[१२३४५६७८९०]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiem:function(hour){return 4>hour?"रात्री":10>hour?"सकाळी":17>hour?"दुपारी":20>hour?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(hours){return 11>hours?"pagi":15>hours?"tengahari":19>hours?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){var symbolMap={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},numberMap={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return moment.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(string){return string.replace(/[१२३४५६७८९०]/g,function(match){return numberMap[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]})},meridiem:function(hour){return 3>hour?"राती":10>hour?"बिहान":15>hour?"दिउँसो":18>hour?"बेलुका":20>hour?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){var monthsShortWithDots="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return moment.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){return/-MMM-/.test(format)?monthsShortWithoutDots[m.month()]:monthsShortWithDots[m.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function plural(n){return 5>n%10&&n%10>1&&1!==~~(n/10)%10}function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"minuta":"minutę";case"mm":return result+(plural(number)?"minuty":"minut");case"h":return withoutSuffix?"godzina":"godzinę";case"hh":return result+(plural(number)?"godziny":"godzin");case"MM":return result+(plural(number)?"miesiące":"miesięcy");case"yy":return result+(plural(number)?"lata":"lat")}}var monthsNominative="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),monthsSubjective="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return moment.lang("pl",{months:function(momentToFormat,format){return/D MMMM/.test(format)?monthsSubjective[momentToFormat.month()]:monthsNominative[momentToFormat.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:translate,mm:translate,h:translate,hh:translate,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:translate,y:"rok",yy:translate},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(factory){factory(moment)}(function(moment){return moment.lang("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function relativeTimeWithPlural(number,withoutSuffix,key){var format={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},separator=" ";return(number%100>=20||number>=100&&0===number%100)&&(separator=" de "),number+separator+format[key]}return moment.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:relativeTimeWithPlural,h:"o oră",hh:relativeTimeWithPlural,d:"o zi",dd:relativeTimeWithPlural,M:"o lună",MM:relativeTimeWithPlural,y:"un an",yy:relativeTimeWithPlural},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function plural(word,num){var forms=word.split("_");return 1===num%10&&11!==num%100?forms[0]:num%10>=2&&4>=num%10&&(10>num%100||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={mm:withoutSuffix?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===key?withoutSuffix?"минута":"минуту":number+" "+plural(format[key],+number)}function monthsCaseReplace(m,format){var months={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},nounCase=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(format)?"accusative":"nominative";return months[nounCase][m.month()]}function monthsShortCaseReplace(m,format){var monthsShort={nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},nounCase=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(format)?"accusative":"nominative";return monthsShort[nounCase][m.month()]}function weekdaysCaseReplace(m,format){var weekdays={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},nounCase=/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(format)?"accusative":"nominative";return weekdays[nounCase][m.day()]}return moment.lang("ru",{months:monthsCaseReplace,monthsShort:monthsShortCaseReplace,weekdays:weekdaysCaseReplace,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"час",hh:relativeTimeWithPlural,d:"день",dd:relativeTimeWithPlural,M:"месяц",MM:relativeTimeWithPlural,y:"год",yy:relativeTimeWithPlural},meridiem:function(hour){return 4>hour?"ночи":12>hour?"утра":17>hour?"дня":"вечера"},ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":return number+"-й";case"D":return number+"-го";case"w":case"W":return number+"-я";default:return number}},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){function plural(n){return n>1&&5>n}function translate(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pár sekúnd":"pár sekundami";case"m":return withoutSuffix?"minúta":isFuture?"minútu":"minútou";case"mm":return withoutSuffix||isFuture?result+(plural(number)?"minúty":"minút"):result+"minútami";case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":return withoutSuffix||isFuture?result+(plural(number)?"hodiny":"hodín"):result+"hodinami";case"d":return withoutSuffix||isFuture?"deň":"dňom";case"dd":return withoutSuffix||isFuture?result+(plural(number)?"dni":"dní"):result+"dňami";case"M":return withoutSuffix||isFuture?"mesiac":"mesiacom";case"MM":return withoutSuffix||isFuture?result+(plural(number)?"mesiace":"mesiacov"):result+"mesiacmi";case"y":return withoutSuffix||isFuture?"rok":"rokom";case"yy":return withoutSuffix||isFuture?result+(plural(number)?"roky":"rokov"):result+"rokmi"}}var months="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),monthsShort="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return moment.lang("sk",{months:months,monthsShort:monthsShort,monthsParse:function(months,monthsShort){var i,_monthsParse=[];for(i=0;12>i;i++)_monthsParse[i]=new RegExp("^"+months[i]+"$|^"+monthsShort[i]+"$","i");return _monthsParse}(months,monthsShort),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"ena minuta":"eno minuto";case"mm":return result+=1===number?"minuta":2===number?"minuti":3===number||4===number?"minute":"minut";case"h":return withoutSuffix?"ena ura":"eno uro";case"hh":return result+=1===number?"ura":2===number?"uri":3===number||4===number?"ure":"ur";case"dd":return result+=1===number?"dan":"dni";case"MM":return result+=1===number?"mesec":2===number?"meseca":3===number||4===number?"mesece":"mesecev";case"yy":return result+=1===number?"leto":2===number?"leti":3===number||4===number?"leta":"let"}}return moment.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:translate,mm:translate,h:translate,hh:translate,d:"en dan",dd:translate,M:"en mesec",MM:translate,y:"eno leto",yy:translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(hours){return 12>hours?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){var translator={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(number,wordKey){return 1===number?wordKey[0]:number>=2&&4>=number?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];return 1===key.length?withoutSuffix?wordKey[0]:wordKey[1]:number+" "+translator.correctGrammaticalCase(number,wordKey)}};return moment.lang("sr-cyr",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var lastWeekDays=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"дан",dd:translator.translate,M:"месец",MM:translator.translate,y:"годину",yy:translator.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){var translator={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return 1===number?wordKey[0]:number>=2&&4>=number?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];return 1===key.length?withoutSuffix?wordKey[0]:wordKey[1]:number+" "+translator.correctGrammaticalCase(number,wordKey)}};return moment.lang("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var lastWeekDays=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"dan",dd:translator.translate,M:"mesec",MM:translator.translate,y:"godinu",yy:translator.translate},ordinal:"%d.",week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(number){var b=number%10,output=1===~~(number%100/10)?"e":1===b?"a":2===b?"a":3===b?"e":"e";return number+output},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(number){return number+"வது"},meridiem:function(hour){return hour>=6&&10>=hour?" காலை":hour>=10&&14>=hour?" நண்பகல்":hour>=14&&18>=hour?" எற்பாடு":hour>=18&&20>=hour?" மாலை":hour>=20&&24>=hour?" இரவு":hour>=0&&6>=hour?" வைகறை":void 0},week:{dow:0,doy:6}})}),function(factory){factory(moment)}(function(moment){return moment.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(hour){return 12>hour?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(factory){factory(moment)}(function(moment){return moment.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(number){return number},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){var suffixes={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return moment.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(number){if(0===number)return number+"'ıncı";var a=number%10,b=number%100-a,c=number>=100?100:null;return number+(suffixes[a]||suffixes[b]||suffixes[c])},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("tzm-la",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})
}),function(factory){factory(moment)}(function(moment){return moment.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(factory){factory(moment)}(function(moment){function plural(word,num){var forms=word.split("_");return 1===num%10&&11!==num%100?forms[0]:num%10>=2&&4>=num%10&&(10>num%100||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===key?withoutSuffix?"хвилина":"хвилину":"h"===key?withoutSuffix?"година":"годину":number+" "+plural(format[key],+number)}function monthsCaseReplace(m,format){var months={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},nounCase=/D[oD]? *MMMM?/.test(format)?"accusative":"nominative";return months[nounCase][m.month()]}function weekdaysCaseReplace(m,format){var weekdays={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")},nounCase=/(\[[ВвУу]\]) ?dddd/.test(format)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(format)?"genitive":"nominative";return weekdays[nounCase][m.day()]}function processHoursFunction(str){return function(){return str+"о"+(11===this.hours()?"б":"")+"] LT"}}return moment.lang("uk",{months:monthsCaseReplace,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:processHoursFunction("[Сьогодні "),nextDay:processHoursFunction("[Завтра "),lastDay:processHoursFunction("[Вчора "),nextWeek:processHoursFunction("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[Минулої] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"годину",hh:relativeTimeWithPlural,d:"день",dd:relativeTimeWithPlural,M:"місяць",MM:relativeTimeWithPlural,y:"рік",yy:relativeTimeWithPlural},meridiem:function(hour){return 4>hour?"ночі":12>hour?"ранку":17>hour?"дня":"вечора"},ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return number+"-й";case"D":return number+"-го";default:return number}},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(factory){factory(moment)}(function(moment){return moment.lang("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(number){return number},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(hour,minute){var hm=100*hour+minute;return 600>hm?"凌晨":900>hm?"早上":1130>hm?"上午":1230>hm?"中午":1800>hm?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var startOfWeek,prefix;return startOfWeek=moment().startOf("week"),prefix=this.unix()-startOfWeek.unix()>=604800?"[下]":"[本]",0===this.minutes()?prefix+"dddAh点整":prefix+"dddAh点mm"},lastWeek:function(){var startOfWeek,prefix;return startOfWeek=moment().startOf("week"),prefix=this.unix()<startOfWeek.unix()?"[上]":"[本]",0===this.minutes()?prefix+"dddAh点整":prefix+"dddAh点mm"},sameElse:"LL"},ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"日";case"M":return number+"月";case"w":case"W":return number+"周";default:return number}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(factory){factory(moment)}(function(moment){return moment.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(hour,minute){var hm=100*hour+minute;return 900>hm?"早上":1130>hm?"上午":1230>hm?"中午":1800>hm?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"日";case"M":return number+"月";case"w":case"W":return number+"週";default:return number}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),moment.lang("en"),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},null!=VariationsWidget.Models?VariationsWidget.Models:VariationsWidget.Models={},VariationsWidget.Models.Option=Backbone.Model.extend({initialize:function(){}}),null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},null!=VariationsWidget.Collections?VariationsWidget.Collections:VariationsWidget.Collections={},null!=VariationsWidget.Collections.Option?VariationsWidget.Collections.Option:VariationsWidget.Collections.Option={},VariationsWidget.Collections.Option=Backbone.Collection.extend({model:VariationsWidget.Models.Option,chosen:function(value){return this.find(function(trait){return trait.get("traitValue")===value})},selected:function(){return this.find(function(trait){return trait.get("selected")})},setSelected:function(id){return this.selected().set("selected",!1),this.get(id).set("selected",!0)}}),VariationsWidget.Collections.Option.create=function(traits){return function(accum$){for(var data,trait,i$=0,length$=traits.length;length$>i$;++i$)trait=traits[i$],data=function(accum$1){for(var option,i$1=0,length$1=trait.data.length;length$1>i$1;++i$1)option=trait.data[i$1],accum$1.push({traitValue:option.value,disabled:!1,traitIndex:option.traitIndex,traitName:option.name,id:option.optionIndex,selected:0===option.optionIndex});return accum$1}.call(this,[]),accum$.push(new VariationsWidget.Collections.Option(data));return accum$}.call(this,[])},null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},null!=VariationsWidget.Views?VariationsWidget.Views:VariationsWidget.Views={},VariationsWidget.Views.Option=Backbone.View.extend({initialize:function(){return _.bindAll(this,"render"),this.model.bind("change:disabled",this.render)},render:function(){return this.$el.attr("disabled",this.model.get("disabled"))}}),null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},null!=VariationsWidget.Views?VariationsWidget.Views:VariationsWidget.Views={},VariationsWidget.Views.OptionCollection=Backbone.View.extend({events:{change:"selectionChanged"},initialize:function(){return _.bindAll(this,"selectionChanged","render"),this.optionElementViews=function(accum$){for(var optionElementModel,i$=0,length$=this.collection.models.length;length$>i$;++i$)optionElementModel=this.collection.models[i$],accum$.push(new VariationsWidget.Views.Option({el:"#trait-"+optionElementModel.get("traitIndex")+"-"+optionElementModel.get("id"),model:optionElementModel}));return accum$}.call(this,[])},render:function(){return function(accum$){for(var optionElementView,i$=0,length$=this.optionElementViews.length;length$>i$;++i$)optionElementView=this.optionElementViews[i$],accum$.push(optionElementView.render());return accum$}.call(this,[])},isSelectedOptionDisabled:function(selectElement){return null!=selectElement?selectElement.options[selectElement.selectedIndex].disabled:void 0},selectionChanged:function(e){var $currentElement,model,value;return $currentElement=$(e.currentTarget)[0],VariationsWidget.controller.ie7&&this.isSelectedOptionDisabled($currentElement)&&($currentElement.selectedIndex=0),value=$(e.currentTarget).val(),model=this.collection.chosen(value),VariationsWidget.controller.render({trait:this.collection.models[0].get("traitName"),selection:value,id:model.get("id")})}}),VariationsWidget.Views.OptionCollection.create=function(collections){return function(accum$){for(var index,trait,i$=0,length$=collections.length;length$>i$;++i$)trait=collections[i$],index=i$,accum$.push(new VariationsWidget.Views.OptionCollection({collection:trait,el:"#trait-"+index}));return accum$}.call(this,[])},null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},null!=VariationsWidget.Views?VariationsWidget.Views:VariationsWidget.Views={},VariationsWidget.Views.Error=Backbone.View.extend({show:function(){return this.$el.show()},hide:function(){return this.$el.hide()}}),void function(){var generateCartUrl;generateCartUrl=function(optionuuid,dealuuid){return"/cart/add/"+optionuuid+"?deal_id="+dealuuid},"undefined"!=typeof window&&null!=window&&(null!=window.Cart?window.Cart:window.Cart={},null!=Cart.Helpers?Cart.Helpers:Cart.Helpers={},Cart.Helpers.generateCartUrl=generateCartUrl),"undefined"!=typeof module&&null!=module&&(module.exports={generateCartUrl:generateCartUrl})}.call(this),null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},VariationsWidget.Controller=function(){function Controller(){var instance$;instance$=this,this.findSelectedCollections=function(){return Controller.prototype.findSelectedCollections.apply(instance$,arguments)},this.findDefaultCollections=function(){return Controller.prototype.findDefaultCollections.apply(instance$,arguments)},this.isSelectionDefault=function(){return Controller.prototype.isSelectionDefault.apply(instance$,arguments)},"IE"===("undefined"!=typeof OptimizeSuite&&null!=OptimizeSuite?OptimizeSuite.TrackingHub.user.browser:void 0)&&"7.0"===OptimizeSuite.TrackingHub.user.browserVersion&&(this.ie7=!0),"undefined"!=typeof I18n&&null!=I18n&&(this.i18n=I18n.scoped()),this.updateSelectElements("",!0),this.availableOptions=this.getAvailableOptions(),this.cheapestOption=this.getCheapestOption(this.availableOptions),this.lastImage="",this.$selectElements=$("#variation-traits").find(".variation-trait"),(null!=VariationsWidget.preSelectTraits?VariationsWidget.preSelectTraits.length:void 0)?this.makeSelectionsViaPreselection():this.updateSelectionsToDefault()}return Controller.prototype.render=function(latestSelection,updateCarousel){null==updateCarousel&&(updateCarousel=!0),null!=latestSelection.selection&&(this.updateSelections(latestSelection),this.updateSelectElements(latestSelection.trait),this.availableOptions=this.getAvailableOptions(),this.cheapestOption=this.getCheapestOption(this.availableOptions),this.updatePricing(this.cheapestOption,this.availableOptions.length),updateCarousel&&this.updateCarousel(),this.removeErrorMessages())},Controller.prototype.updateSelectionsToDefault=function(){return function(accum$){for(var selectElement,cache$=this.$selectElements||[],i$=0,length$=cache$.length;length$>i$;++i$)selectElement=cache$[i$],accum$.push($(selectElement).find("option:eq(0)").prop("selected",!0));return accum$}.call(this,[])},Controller.prototype.updateSelections=function(latestSelection){for(var collection,i$=0,length$=VariationsWidget.collections.length;length$>i$;++i$)if(collection=VariationsWidget.collections[i$],collection.models[0].get("traitName")===latestSelection.trait){collection.setSelected(latestSelection.id);break}},Controller.prototype.updateSelectElements=function(latestSelection,updateAll){var collection,conditions,enabledOptions,temp,tempCollection,tempSelected,tempSelectedTraitValue,trait,traitName,values;null==updateAll&&(updateAll=!1),temp=VariationsWidget.collections;for(var i$=0,length$=VariationsWidget.collections.length;length$>i$;++i$)if(collection=VariationsWidget.collections[i$],traitName=collection.models[0].get("traitName"),traitName!==latestSelection||updateAll){conditions={};for(var i$1=0,length$1=temp.length;length$1>i$1;++i$1)tempCollection=temp[i$1],tempSelected=tempCollection.selected(),tempSelectedTraitValue=tempSelected.get("traitValue"),tempSelectedTraitValue===collection.selected().get("traitValue")||this.isSelectionDefault(tempSelectedTraitValue)||(conditions[tempSelected.get("traitName")]=tempSelectedTraitValue);enabledOptions=[],enabledOptions=$.isEmptyObject(conditions)?VariationsWidget.options:_.where(VariationsWidget.options,conditions),values=_.pluck(enabledOptions,traitName),values.unshift(""+this.i18n.t("js.modules.variations.selector")+" "+traitName);for(var i$2=0,length$2=VariationsWidget.collections.length;length$2>i$2;++i$2)trait=VariationsWidget.collections[i$2],trait.models[0].get("traitName")===traitName&&trait.each(function(model){return 0===model.id||_.contains(values,model.get("traitValue"))?model.set("disabled",!1):model.set("disabled",!0)})}return this.ie7?($("option").removeClass("ie7-color"),$("option[disabled]").addClass("ie7-color")):void 0},Controller.prototype.getAvailableOptions=function(){var collection,options,properties,selectedTrait,selectedTraitValue;properties={};for(var i$=0,length$=VariationsWidget.collections.length;length$>i$;++i$)collection=VariationsWidget.collections[i$],selectedTrait=collection.selected(),selectedTraitValue=selectedTrait.get("traitValue"),this.isSelectionDefault(selectedTraitValue)||(properties[selectedTrait.get("traitName")]=selectedTraitValue);return options=$.isEmptyObject(properties)?VariationsWidget.options:_.where(VariationsWidget.options,properties)},Controller.prototype.getCheapestOption=function(availableOptions){var currentCheapest,element;currentCheapest=availableOptions[0];for(var i$=0,length$=availableOptions.length;length$>i$;++i$)element=availableOptions[i$],element.amount<currentCheapest.amount&&(currentCheapest=element);return currentCheapest},Controller.prototype.overridePriceDataWithSaleInfo=function(priceData,option){var offer,sale;if(null!=(null!=option?option.regularPrice:void 0)||null!=(null!=VariationsWidget.offerCollections?VariationsWidget.offerCollections.offerOptions:void 0)){sale={},option.regularPrice&&_.extend(sale,{urgencyPricing:{regularPrice:option.regularPrice,newPrice:option.newPrice,pricingMetadata:option.pricingMetadata}});for(var cache$=(null!=VariationsWidget.offerCollections?VariationsWidget.offerCollections.offerOptions:void 0)||[],i$=0,length$=cache$.length;length$>i$;++i$)offer=cache$[i$],offer.uuid===option.uuid&&_.extend(sale,{offer:offer});return sale!=={}?_.extend(priceData,{sale:sale}):void 0}},Controller.prototype.updatePricing=function(cheapestOption,length){var priceData;return priceData={value:cheapestOption.oldPrice,percent:cheapestOption.discount,savings:cheapestOption.savePrice,price:cheapestOption.newPrice,lengthClass:cheapestOption.lengthClass,buyUrl:this.buyButtonUrl(cheapestOption),uuid:cheapestOption.uuid,variationsSelected:1===length&&!this.areAnySelectionsDefault(VariationsWidget.collections)},this.overridePriceDataWithSaleInfo(priceData,cheapestOption),DealEventPipe.trigger("priceUpdate",priceData)},Controller.prototype.buyButtonUrl=function(cheapestOption){return(null!=cheapestOption.externalUrl?cheapestOption.externalUrl.length:void 0)?cheapestOption.externalUrl:("undefined"!=typeof payload&&null!=payload?payload.cartStatus:void 0)?Cart.Helpers.generateCartUrl(cheapestOption.uuid,VariationsWidget.uuid):cheapestOption.url},Controller.prototype.updateCarousel=function(){var currentImage,foundMatch,imageUrl,valuesHash;if(this.areSelectionsDefault(VariationsWidget.collections))DealCarousel.carouselViews[payload.carousel.dealId].updateGallery(DealCarousel.dealMedia[payload.carousel.dealId].models[0]);else for(imageUrl in VariationsWidget.mappings)if(valuesHash=VariationsWidget.mappings[imageUrl],foundMatch=_.every(VariationsWidget.collections,function(this$){return function(collection){var selectedTrait,selectedTraitValue;return selectedTrait=collection.selected(),selectedTraitValue=selectedTrait.get("traitValue"),this$.isSelectionDefault(selectedTraitValue)?!0:_.contains(valuesHash[selectedTrait.get("traitName")],selectedTraitValue)}}(this)),currentImage=DealCarousel.carouselViews[payload.carousel.dealId].currentFeatured.baseURL,foundMatch&&currentImage!==imageUrl){this.changeToMatchingImage(imageUrl);break}},Controller.prototype.changeToMatchingImage=function(imgPath){var image;return this.lastImage=imgPath,image=DealCarousel.dealMedia[payload.carousel.dealId].findWhere({thumb:""+imgPath+"t100x100.jpg"}),DealCarousel.carouselViews[payload.carousel.dealId].updateGallery(image)},Controller.prototype.findMatchingTraits=function(img){var key,selections,value;if(this.lastImage=img,selections=[],null!=VariationsWidget.mappings[img])for(key in VariationsWidget.mappings[img])value=VariationsWidget.mappings[img][key],1===value.length&&selections.push({trait:key,selection:value[0]});return this.makeSelectionsViaCarousel(selections)},Controller.prototype.makeSelectionsViaCarousel=function(selections){return this.clearSelections(),this.makeSelections(selections)},Controller.prototype.makeSelectionsViaPreselection=function(){var collection,option,selections,trait;if(option=_.findWhere(VariationsWidget.options,{uuid:VariationsWidget.dealOptionUuid}),null!=option){selections=[];for(var cache$=VariationsWidget.preSelectTraits||[],i$=0,length$=cache$.length;length$>i$;++i$){trait=cache$[i$];for(var cache$1=VariationsWidget.collections||[],i$1=0,length$1=cache$1.length;length$1>i$1;++i$1)if(collection=cache$1[i$1],collection.models[0].get("traitName")===trait){selections.push({trait:trait,selection:option[trait]});break}}return this.makeSelections(selections)}},Controller.prototype.clearSelections=function(){return function(accum$){for(var collection,data,selectedTrait,selectedTraitName,selection,cache$=VariationsWidget.collections||[],i$=0,length$=cache$.length;length$>i$;++i$)collection=cache$[i$],selectedTrait=collection.selected(),selectedTraitName=selectedTrait.get("traitName"),accum$.push(this.isSelectionDefault(selectedTrait.get("traitValue"))?void 0:(selection=this.i18n.t("js.modules.variations.select",{name:selectedTraitName}),data={trait:selectedTraitName,selection:selection,id:0},$("#trait-"+selectedTrait.get("traitIndex")).val(selection),null==$("#trait-"+selectedTrait.get("traitIndex")).val()?$("#trait-"+selectedTrait.get("traitIndex")).prop("selectedIndex",0):void 0,this.render(data,!1)));return accum$}.call(this,[])},Controller.prototype.makeSelections=function(selections){for(var collection,element,trait,cache$=selections||[],i$=0,length$=cache$.length;length$>i$;++i$){element=cache$[i$];for(var cache$1=VariationsWidget.collections||[],i$1=0,length$1=cache$1.length;length$1>i$1;++i$1)if(collection=cache$1[i$1],collection.models[0].get("traitName")===element.trait&&(trait=collection.findWhere({traitValue:element.selection}),!trait.get("disabled"))){element.id=trait.get("id"),$("#trait-"+collection.models[0].get("traitIndex")).val(element.selection),this.render(element,!1);break}}},Controller.prototype.showErrorMessages=function(){var defaultCollections;return VariationsWidget.error.show(),VariationsWidget.error.$el.addClass("icon-circle-alert"),defaultCollections=this.findDefaultCollections(VariationsWidget.collections),function(accum$){for(var index,i$=0,length$=defaultCollections.length;length$>i$;++i$)index=defaultCollections[i$],accum$.push($("#trait-"+index).addClass("select-error"));return accum$}.call(this,[])},Controller.prototype.removeErrorMessages=function(){var selectedCollections;return this.areAnySelectionsDefault(VariationsWidget.collections)||VariationsWidget.error.hide(),selectedCollections=this.findSelectedCollections(VariationsWidget.collections),function(accum$){for(var index,i$=0,length$=selectedCollections.length;length$>i$;++i$)index=selectedCollections[i$],accum$.push($("#trait-"+index).removeClass("select-error"));return accum$}.call(this,[])},Controller.prototype.areSelectionsDefault=function(collections){return _.every(collections,function(this$){return function(collection){return RegExp(""+this$.i18n.t("js.modules.variations.selector")+" ","i").test(collection.selected().get("traitValue"))}}(this))},Controller.prototype.areAnySelectionsDefault=function(collections){return _.some(collections,function(this$){return function(collection){return RegExp(""+this$.i18n.t("js.modules.variations.selector")+" ","i").test(collection.selected().get("traitValue"))}}(this))},Controller.prototype.isSelectionDefault=function(selection){return RegExp(""+this.i18n.t("js.modules.variations.selector")+" ","i").test(selection)},Controller.prototype.findDefaultCollections=function(collections){var collection,defaultCollections,index;defaultCollections=[];for(var i$=0,length$=collections.length;length$>i$;++i$)collection=collections[i$],index=i$,RegExp(""+this.i18n.t("js.modules.variations.selector")+" ","i").test(collection.selected().get("traitValue"))&&defaultCollections.push(index);return defaultCollections},Controller.prototype.findSelectedCollections=function(collections){var collection,index,selectedCollections;selectedCollections=[];for(var i$=0,length$=collections.length;length$>i$;++i$)collection=collections[i$],index=i$,RegExp(""+this.i18n.t("js.modules.variations.selector")+" ","i").test(collection.selected().get("traitValue"))||selectedCollections.push(index);return selectedCollections},Controller}(),void function(){var _scrollToBuyButton;null!=window.VariationsWidget?window.VariationsWidget:window.VariationsWidget={},_scrollToBuyButton=function(){var top;return $("#purchase-cluster .buy.fixed").length>0?(top=$("#purchase-cluster").position().top,$("body").animate({scrollTop:top+50},500)):void 0},VariationsWidget.init=function(param$,done){var cache$,cache$1,offer,stickyHeader,variations;return cache$=param$,variations=cache$.variations,offer=cache$.offer,stickyHeader=cache$.stickyHeader,null==variations?done():(cache$1=variations,this.options=cache$1.options,this.traits=cache$1.traits,this.mappings=cache$1.mappings,this.uuid=cache$1.uuid,this.dealOptionUuid=cache$1.dealOptionUuid,this.preSelectTraits=cache$1.preSelectTraits,this.collections=VariationsWidget.Collections.Option.create(this.traits),this.offerCollections=offer,BuyButton.eventBus.board("buy_button_clicked",function(this$){return function(){return BuyButton.view.variationsSelected?void 0:(this$.controller.showErrorMessages(),stickyHeader&&_scrollToBuyButton(),BuyButton.view.enableBuyButton(),{stopTheBus:!0})}}(this)),$(function(this$){return function(){return this$.views=VariationsWidget.Views.OptionCollection.create(this$.collections),this$.error=new VariationsWidget.Views.Error({el:".error"}),this$.controller=new VariationsWidget.Controller,$(document.body).on("carouselUpdate",function(this$1){return function(e,data){return data.image!==this$1.controller.lastImage?this$1.controller.findMatchingTraits(data.image):void 0}}(this$)),done()}}(this)))}}.call(this),function(e,t){function i(t,i){var s,n,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&a(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var a=this;setTimeout(function(){e(a).focus(),i&&i.call(a)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var a,s,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var a=e.attr(t,"tabindex"),s=isNaN(a);return(s||a>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,a){function s(t,i,a,s){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(i){return i===t?o["inner"+a].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+a]=function(t,i){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,a){var s,n=e.ui[t].prototype;for(s in a)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([i,a[s]])},call:function(e,t,i){var a,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(a=0;s.length>a;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[a]>0?!0:(t[a]=1,s=t[a]>0,t[a]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,a,s,n,r){return e.ui.isOverAxis(t,a,n)&&e.ui.isOverAxis(i,s,r)}}))}(jQuery),function(e,t){var i=0,s=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(n){}a(t)},e.widget=function(i,s,a){var n,r,o,h,l=i.split(".")[0];i=i.split(".")[1],n=l+"-"+i,a||(a=s,s=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},r=e[l][i],o=e[l][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(a,function(t,i){e.isFunction(i)&&(a[t]=function(){var e=function(){return s.prototype[t].apply(this,arguments)
},a=function(e){return s.prototype[t].apply(this,e)};return function(){var t,s=this._super,n=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=s,this._superApply=n,t}}())}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},a,{constructor:o,namespace:l,widgetName:i,widgetBaseClass:n,widgetFullName:n}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var a,n,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(a in r[o])n=r[o][a],r[o].hasOwnProperty(a)&&n!==t&&(i[a]=e.isPlainObject(n)?e.isPlainObject(i[a])?e.widget.extend({},i[a],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,a){var n=a.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,a=e.data(this,n);return a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(s=a[r].apply(a,h),s!==a&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new a(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetName,this),e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var a,n,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(n=o[i]=e.widget.extend({},this.options[i]),r=0;a.length-1>r;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(i=a.pop(),s===t)return n[i]===t?null:n[i];n[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,a){var n,r=this;"boolean"!=typeof i&&(a=s,s=i,i=!1),a?(s=n=e(s),this.bindings=this.bindings.add(s)):(a=s,s=this.element,n=this.widget()),e.each(a,function(a,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=a.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?n.delegate(u,c,h):s.bind(c,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&(e.effects.effect[o]||e.uiBackCompat!==!1&&e.effects[o])?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var a=this,s=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(d.test(e[0])?t/100:1),parseInt(e[1],10)*(d.test(e[1])?i/100:1)]}function a(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var s,n=Math.max,r=Math.abs,o=Math.round,h=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+%?/,c=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var i,a,n=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),i=r.offsetWidth,n.css("overflow","scroll"),a=r.offsetWidth,i===a&&(a=n[0].clientWidth),n.remove(),s=i-a},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),a=t.isWindow?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),a=e.isWindow(i[0]);return{element:i,isWindow:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:a?i.width():i.outerWidth(),height:a?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var s,d,f,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),_=v[0],x=(t.collision||"flip").split(" "),k={};return 9===_.nodeType?(d=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(_)?(d=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):_.preventDefault?(t.at="left top",d=f=0,m={top:_.pageY,left:_.pageX}):(d=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,a=(t[this]||"").split(" ");1===a.length&&(a=h.test(a[0])?a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]),a[0]=h.test(a[0])?a[0]:"center",a[1]=l.test(a[1])?a[1]:"center",e=u.exec(a[0]),i=u.exec(a[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[c.exec(a[0])[0],c.exec(a[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?g.left+=d:"center"===t.at[0]&&(g.left+=d/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),s=i(k.at,d,f),g.left+=s[0],g.top+=s[1],this.each(function(){var h,l,u=e(this),c=u.outerWidth(),p=u.outerHeight(),_=a(this,"marginLeft"),w=a(this,"marginTop"),D=c+_+a(this,"marginRight")+b.width,T=p+w+a(this,"marginBottom")+b.height,M=e.extend({},g),S=i(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?M.left-=c:"center"===t.my[0]&&(M.left-=c/2),"bottom"===t.my[1]?M.top-=p:"center"===t.my[1]&&(M.top-=p/2),M.left+=S[0],M.top+=S[1],e.support.offsetFractions||(M.left=o(M.left),M.top=o(M.top)),h={marginLeft:_,marginTop:w},e.each(["left","top"],function(i,a){e.ui.position[x[i]]&&e.ui.position[x[i]][a](M,{targetWidth:d,targetHeight:f,elemWidth:c,elemHeight:p,collisionPosition:h,collisionWidth:D,collisionHeight:T,offset:[s[0]+S[0],s[1]+S[1]],my:t.my,at:t.at,within:y,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(l=function(e){var i=m.left-M.left,a=i+d-c,s=m.top-M.top,o=s+f-p,h={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:u,left:M.left,top:M.top,width:c,height:p},horizontal:0>a?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};c>d&&d>r(i+a)&&(h.horizontal="center"),p>f&&f>r(s+o)&&(h.vertical="middle"),h.important=n(r(i),r(a))>n(r(s),r(o))?"horizontal":"vertical",t.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,a=t.within,s=a.isWindow?a.scrollLeft:a.offset.left,r=a.width,o=e.left-t.collisionPosition.marginLeft,h=s-o,l=o+t.collisionWidth-r-s;t.collisionWidth>r?h>0&&0>=l?(i=e.left+h+t.collisionWidth-r-s,e.left+=h-i):e.left=l>0&&0>=h?s:h>l?s+r-t.collisionWidth:s:h>0?e.left+=h:l>0?e.left-=l:e.left=n(e.left-o,e.left)},top:function(e,t){var i,a=t.within,s=a.isWindow?a.scrollTop:a.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,h=s-o,l=o+t.collisionHeight-r-s;t.collisionHeight>r?h>0&&0>=l?(i=e.top+h+t.collisionHeight-r-s,e.top+=h-i):e.top=l>0&&0>=h?s:h>l?s+r-t.collisionHeight:s:h>0?e.top+=h:l>0?e.top-=l:e.top=n(e.top-o,e.top)}},flip:{left:function(e,t){var i,a,s=t.within,n=s.offset.left+s.scrollLeft,o=s.width,h=s.isWindow?s.scrollLeft:s.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,c=l+t.collisionWidth-o-h,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-o-n,(0>i||r(u)>i)&&(e.left+=d+p+f)):c>0&&(a=e.left-t.collisionPosition.marginLeft+d+p+f-h,(a>0||c>r(a))&&(e.left+=d+p+f))},top:function(e,t){var i,a,s=t.within,n=s.offset.top+s.scrollTop,o=s.height,h=s.isWindow?s.scrollTop:s.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,c=l+t.collisionHeight-o-h,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(a=e.top+p+f+m+t.collisionHeight-o-n,e.top+p+f+m>u&&(0>a||r(u)>a)&&(e.top+=p+f+m)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,e.top+p+f+m>c&&(i>0||c>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,a,s,n,r=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(r?"div":"body"),a={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(a,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in a)t.style[n]=a[n];t.appendChild(o),i=r||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",s=e(o).offset().left,e.support.offsetFractions=s>10&&11>s,t.innerHTML="",i.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var i=e.fn.position;e.fn.position=function(a){if(!a||!a.offset)return i.call(this,a);var s=a.offset.split(" "),n=a.at.split(" ");return 1===s.length&&(s[1]=s[0]),/^\d/.test(s[0])&&(s[0]="+"+s[0]),/^\d/.test(s[1])&&(s[1]="+"+s[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),i.call(this,e.extend(a,{at:n[0]+s[0]+" "+n[1]+s[1],offset:t}))}}(jQuery)}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)(null==t[i]||t[i]==undefined)&&(e[i]=t[i]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),a=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[a?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if(("focus"==s||"both"==s)&&e.focus(this._showDatepicker),"button"==s||"both"==s){var n=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?n:$("<img/>").attr({src:r,alt:n,title:n}))),e[a?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var a=function(e){for(var t=0,i=0,a=0;e.length>a;a++)e[a].length>t&&(t=e[a].length,i=a);return i};t.setMonth(a(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(a(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,a,s){var n=this._dialogInst;if(!n){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},$.data(this._dialogInput[0],PROP_NAME,n)}if(extendRemove(n.settings,a||{}),t=t&&t.constructor==Date?this._formatDate(n,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+l,h/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,n),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==a?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==a||"span"==a)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var a=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):a?"all"==t?$.extend({},a.settings):this._get(a,t):null;var s=t||{};if("string"==typeof t&&(s={},s[t]=i),a){this._curInst==a&&this._hideDatepicker();var n=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");extendRemove(a.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(a.settings.minDate=this._formatDate(a,r)),null!==o&&s.dateFormat!==undefined&&s.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,o)),this._attachments($(e),a),this._autoSize(a),this._setDate(a,n),this._updateAlternate(a),this._updateDatepicker(a)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,a=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var n=$.datepicker._get(t,"onSelect");if(n){var r=$.datepicker._formatDate(t);n.apply(t.input?t.input[0]:null,[r,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">a||!i||i.indexOf(a)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),a=i?i.apply(e,[e,t]):{};if(a!==!1){extendRemove(t.settings,a),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s});var n={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),n=$.datepicker._checkOffset(t,n,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),!t.inline){var r=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),h=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[r]||$.effects[r])?t.dpDiv.show(r,$.datepicker._get(t,"showOptions"),o,h):t.dpDiv[r||"show"](r?o:null,h),r&&o||h(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a=this._getNumberOfMonths(e),s=a[1],n=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",n*s+"em"),e.dpDiv[(1!=a[0]||1!=a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var a=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),n=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?a-n:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+a>o&&o>a?Math.abs(t.left+a-o):0),t.top-=Math.min(t.top,t.top+s>h&&h>s?Math.abs(s+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];
var a=$(e).offset();return[a.left,a.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),a=this._get(t,"duration"),s=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),a,s):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1;var n=this._get(t,"onClose");n&&n.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var a=$(e),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var a=new Date;i.selectedDay=a.getDate(),i.drawMonth=i.selectedMonth=a.getMonth(),i.drawYear=i.selectedYear=a.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var a=$(e),s=this._getInst(a[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(e,t,i,a){var s=$(e);if(!$(a).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var n=this._getInst(s[0]);n.selectedDay=n.currentDay=$("a",a).html(),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),a=this._getInst(i[0]);t=null!=t?t:this._formatDate(a),a.input&&a.input.val(t),this._updateAlternate(a);var s=this._get(a,"onSelect");s?s.apply(a.input?a.input[0]:null,[t,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),s=this.formatDate(i,a,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?""+t:t+"",""==t)return null;var a=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,l=-1,u=-1,d=-1,c=!1,p=function(t){var i=e.length>y+1&&e.charAt(y+1)==t;return i&&y++,i},m=function(e){var i=p(e),a="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=RegExp("^\\d{1,"+a+"}"),n=t.substring(v).match(s);if(!n)throw"Missing number at position "+v;return v+=n[0].length,parseInt(n[0],10)},f=function(e,i,a){var s=$.map(p(e)?a:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),n=-1;if($.each(s,function(e,i){var a=i[1];return t.substr(v,a.length).toLowerCase()==a.toLowerCase()?(n=i[0],v+=a.length,!1):undefined}),-1!=n)return n+1;throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;e.length>y;y++)if(c)"'"!=e.charAt(y)||p("'")?g():c=!1;else switch(e.charAt(y)){case"d":u=m("d");break;case"D":f("D",s,n);break;case"o":d=m("o");break;case"m":l=m("m");break;case"M":l=f("M",r,o);break;case"y":h=m("y");break;case"@":var b=new Date(m("@"));h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((m("!")-this._ticksTo1970)/1e4);h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?g():c=!0;break;default:g()}if(t.length>v){var _=t.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==h?h=(new Date).getFullYear():100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a>=h?0:-100)),d>-1)for(l=1,u=d;;){var k=this._getDaysInMonth(h,l-1);if(k>=u)break;l++,u-=k}var b=this._daylightSavingAdjust(new Date(h,l-1,u));if(b.getFullYear()!=h||b.getMonth()+1!=l||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,n=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=e.length>c+1&&e.charAt(c+1)==t;return i&&c++,i},h=function(e,t,i){var a=""+t;if(o(e))for(;i>a.length;)a="0"+a;return a},l=function(e,t,i,a){return o(e)?a[t]:i[t]},u="",d=!1;if(t)for(var c=0;e.length>c;c++)if(d)"'"!=e.charAt(c)||o("'")?u+=e.charAt(c):d=!1;else switch(e.charAt(c)){case"d":u+=h("d",t.getDate(),2);break;case"D":u+=l("D",t.getDay(),a,s);break;case"o":u+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",t.getMonth()+1,2);break;case"M":u+=l("M",t.getMonth(),n,r);break;case"y":u+=o("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?u+="'":d=!0;break;default:u+=e.charAt(c)}return u},_possibleChars:function(e){for(var t="",i=!1,a=function(t){var i=e.length>s+1&&e.charAt(s+1)==t;return i&&s++,i},s=0;e.length>s;s++)if(i)"'"!=e.charAt(s)||a("'")?t+=e.charAt(s):i=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":a("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,a,s=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null;i=a=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(s,n,r)||a}catch(o){this.log(o),n=t?"":n}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=n?i.getDate():0,e.currentMonth=n?i.getMonth():0,e.currentYear=n?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var a=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=a.getFullYear(),n=a.getMonth(),r=a.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=o.exec(t);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":n+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n))}h=o.exec(t)}return new Date(s,n,r)},n=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:a(t):new Date(t.getTime());return n=n&&"Invalid Date"==""+n?i:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s==e.selectedMonth&&n==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),a=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),n=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),h=this._get(e,"stepMonths"),l=1!=r[0]||1!=r[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),c=this._getMinMaxDate(e,"max"),p=e.drawMonth-o,m=e.drawYear;if(0>p&&(p+=12,m--),c){var f=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth()-r[0]*r[1]+1,c.getDate()));for(f=d&&d>f?d:f;this._daylightSavingAdjust(new Date(m,p,1))>f;)p--,0>p&&(p=11,m--)}e.drawMonth=p,e.drawYear=m;var g=this._get(e,"prevText");g=n?this.formatDate(g,this._daylightSavingAdjust(new Date(m,p-h,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,m,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",y=this._get(e,"nextText");y=n?this.formatDate(y,this._daylightSavingAdjust(new Date(m,p+h,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,m,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",_=this._get(e,"currentText"),k=this._get(e,"gotoCurrent")&&e.currentDay?u:t;_=n?this.formatDate(_,k,this._getFormatConfig(e)):_;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",D=a?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(e,k)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":x)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var w=this._get(e,"showWeek"),M=this._get(e,"dayNames");this._get(e,"dayNamesShort");var S=this._get(e,"dayNamesMin"),N=this._get(e,"monthNames"),C=this._get(e,"monthNamesShort"),A=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),F=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var I=this._getDefaultDate(e),j="",H=0;r[0]>H;H++){var z="";this.maxRows=4;for(var L=0;r[1]>L;L++){var E=this._daylightSavingAdjust(new Date(m,p,e.selectedDay)),O=" ui-corner-all",R="";if(l){if(R+='<div class="ui-datepicker-group',r[1]>1)switch(L){case 0:R+=" ui-datepicker-group-first",O=" ui-corner-"+(i?"right":"left");break;case r[1]-1:R+=" ui-datepicker-group-last",O=" ui-corner-"+(i?"left":"right");break;default:R+=" ui-datepicker-group-middle",O=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+O+'">'+(/all|left/.test(O)&&0==H?i?b:v:"")+(/all|right/.test(O)&&0==H?i?v:b:"")+this._generateMonthYearHeader(e,p,m,d,c,H>0||L>0,N,C)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var Y=w?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;7>W;W++){var J=(W+T)%7;Y+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+M[J]+'">'+S[J]+"</span></th>"}R+=Y+"</tr></thead><tbody>";var Q=this._getDaysInMonth(m,p);m==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,Q));var B=(this._getFirstDayOfMonth(m,p)-T+7)%7,K=Math.ceil((B+Q)/7),V=l?this.maxRows>K?this.maxRows:K:K;this.maxRows=V;for(var U=this._daylightSavingAdjust(new Date(m,p,1-B)),G=0;V>G;G++){R+="<tr>";for(var q=w?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(U)+"</td>":"",W=0;7>W;W++){var X=A?A.apply(e.input?e.input[0]:null,[U]):[!0,""],Z=U.getMonth()!=p,et=Z&&!F||!X[0]||d&&d>U||c&&U>c;q+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(U.getTime()==E.getTime()&&p==e.selectedMonth&&e._keyEvent||I.getTime()==U.getTime()&&I.getTime()==E.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+X[1]+(U.getTime()==u.getTime()?" "+this._currentClass:"")+(U.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!X[2]?"":' title="'+X[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+U.getMonth()+'" data-year="'+U.getFullYear()+'"')+">"+(Z&&!P?"&#xa0;":et?'<span class="ui-state-default">'+U.getDate()+"</span>":'<a class="ui-state-default'+(U.getTime()==t.getTime()?" ui-state-highlight":"")+(U.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+U.getDate()+"</a>")+"</td>",U.setDate(U.getDate()+1),U=this._daylightSavingAdjust(U)}R+=q+"</tr>"}p++,p>11&&(p=0,m++),R+="</tbody></table>"+(l?"</div>"+(r[0]>0&&L==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),z+=R}j+=z}return j+=D+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,j},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var h=this._get(e,"changeMonth"),l=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',c="";if(n||!h)c+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{var p=a&&a.getFullYear()==i,m=s&&s.getFullYear()==i;c+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var f=0;12>f;f++)(!p||f>=a.getMonth())&&(!m||s.getMonth()>=f)&&(c+='<option value="'+f+'"'+(f==t?' selected="selected"':"")+">"+o[f]+"</option>");c+="</select>"}if(u||(d+=c+(!n&&h&&l?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!l)d+='<span class="ui-datepicker-year">'+i+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(g[0]),_=Math.max(b,y(g[1]||""));for(b=a?Math.max(b,a.getFullYear()):b,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';_>=b;b++)e.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!n&&h&&l?"":"&#xa0;")+c),d+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return s=a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!a||t.getTime()<=a.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),jQuery.effects||function(e,t){var i=e.uiBackCompat!==!1,a="ui-effects-";e.effects={effect:{}},function(t,i){function a(e,t,i){var a=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:e>a.max?a.max:e)}function s(e){var a=u(),s=a._rgba=[];return e=e.toLowerCase(),m(l,function(t,n){var r,o=n.re.exec(e),h=o&&n.parse(o),l=n.space||"rgba";return h?(r=a[l](h),a[c[l].cache]=r[c[l].cache],s=a._rgba=r._rgba,!1):i}),s.length?("0,0,0,0"===s.join()&&t.extend(s,r.transparent),a):r[e]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),h=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=t.Color=function(e,i,a,s){return new t.Color.fn.parse(e,i,a,s)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=u.support={},f=t("<p>")[0],m=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,m(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(n,o,h,l){if(n===i)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=i);var d=this,p=t.type(n),f=this._rgba=[];return o!==i&&(n=[n,o,h,l],p="array"),"string"===p?this.parse(s(n)||r._default):"array"===p?(m(c.rgba.props,function(e,t){f[t.idx]=a(n[t.idx],t)}),this):"object"===p?(n instanceof u?m(c,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):m(c,function(t,i){var s=i.cache;m(i.props,function(e,t){if(!d[s]&&i.to){if("alpha"===e||null==n[e])return;d[s]=i.to(d._rgba)}d[s][t.idx]=a(n[e],t,!0)}),d[s]&&0>e.inArray(null,d[s].slice(0,3))&&(d[s][3]=1,i.from&&(d._rgba=i.from(d[s])))}),this):i},is:function(e){var t=u(e),a=!0,s=this;return m(c,function(e,n){var r,o=t[n.cache];return o&&(r=s[n.cache]||n.to&&n.to(s._rgba)||[],m(n.props,function(e,t){return null!=o[t.idx]?a=o[t.idx]===r[t.idx]:i})),a}),a},_space:function(){var e=[],t=this;return m(c,function(i,a){t[a.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=u(e),s=i._space(),n=c[s],r=0===this.alpha()?u("transparent"):this,o=r[n.cache]||n.to(r._rgba),h=o.slice();return i=i[n.cache],m(n.props,function(e,s){var n=s.idx,r=o[n],l=i[n],u=d[s.type]||{};null!==l&&(null===r?h[n]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[n]=a((l-r)*t+r,s)))}),this[s](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),a=i.pop(),s=u(e)._rgba;return u(t.map(i,function(e,t){return(1-a)*s[t]+a*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),a=i.pop();return e&&i.push(~~(255*a)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,a=e[0]/255,s=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(a,s,n),h=Math.min(a,s,n),l=o-h,u=o+h,c=.5*u;return t=h===o?0:a===o?60*(s-n)/l+360:s===o?60*(n-a)/l+120:60*(a-s)/l+240,i=0===c||1===c?c:.5>=c?l/u:l/(2-u),[Math.round(t)%360,i,c,null==r?1:r]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],a=e[2],s=e[3],r=.5>=a?a*(1+i):a+i-a*i,o=2*a-r;return[Math.round(255*n(o,r,t+1/3)),Math.round(255*n(o,r,t)),Math.round(255*n(o,r,t-1/3)),s]},m(c,function(e,s){var n=s.props,r=s.cache,o=s.to,l=s.from;u.fn[e]=function(e){if(o&&!this[r]&&(this[r]=o(this._rgba)),e===i)return this[r].slice();var s,h=t.type(e),c="array"===h||"object"===h?e:arguments,d=this[r].slice();return m(n,function(e,t){var i=c["object"===h?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=a(i,t)}),l?(s=u(l(d)),s[r]=d,s):u(d)},m(n,function(i,a){u.fn[i]||(u.fn[i]=function(s){var n,r=t.type(s),o="alpha"===i?this._hsla?"hsla":"rgba":e,l=this[o](),u=l[a.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=t.type(s)),null==s&&a.empty?this:("string"===r&&(n=h.exec(s),n&&(s=u+parseFloat(n[2])*("+"===n[1]?1:-1))),l[a.idx]=s,this[o](l)))})})}),m(o,function(e,i){t.cssHooks[i]={set:function(e,a){var n,r,o="";if("string"!==t.type(a)||(n=s(a))){if(a=u(n||a),!p.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&r&&r.style;)try{o=t.css(r,"backgroundColor"),r=r.parentNode}catch(h){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{e.style[i]=a}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=u(e.elem,i),e.end=u(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(i,a){t["border"+a+"Color"]=e}),t}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,a=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(a&&a.length&&a[0]&&a[a[0]])for(i=a.length;i--;)t=a[i],"string"==typeof a[t]&&(s[e.camelCase(t)]=a[t]);else for(t in a)"string"==typeof a[t]&&(s[t]=a[t]);return s}function a(t,i){var a,s,r={};for(a in i)s=i[a],t[a]!==s&&(n[a]||(e.fx.step[a]||!isNaN(parseFloat(s)))&&(r[a]=s));return r}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,n,r,o){var h=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",l=h.children?r.find("*").andSelf():r;l=l.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),n=function(){e.each(s,function(e,i){t[i]&&r[i+"Class"](t[i])})},n(),l=l.map(function(){return this.end=i.call(this.el[0]),this.diff=a(this.start,this.end),this}),r.attr("class",o),l=l.map(function(){var t=this,i=e.Deferred(),a=jQuery.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,a),i.promise()}),e.when.apply(e,l.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{add:t},i,a,s):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{remove:t},i,a,s):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,a,s,n,r){return"boolean"==typeof a||a===t?s?e.effects.animateClass.call(this,a?{add:i}:{remove:i},s,n,r):this._toggleClass(i,a):e.effects.animateClass.call(this,{toggle:i},a,s,n)},switchClass:function(t,i,a,s,n){return e.effects.animateClass.call(this,{add:i,remove:t},a,s,n)}})}(),function(){function s(t,i,a,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,a=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=a,a=i,i={}),e.isFunction(a)&&(s=a,a=null),i&&e.extend(t,i),a=a||i.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=s||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:i&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(a+t[i],e[0].style[t[i]])},restore:function(e,i){var s,n;for(n=0;i.length>n;n++)null!==i[n]&&(s=e.data(a+i[n]),s===t&&(s=""),e.css(i[n],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,a;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(a),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){i[a]=t.css(a),isNaN(parseInt(i[a],10))&&(i[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),a.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,a,s){return s=s||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(s[i]=n[0]*a+n[1])}),s}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(n)&&n.call(s[0]),e.isFunction(t)&&t()}var s=e(this),n=a.complete,r=a.mode;(s.is(":hidden")?"hide"===r:"show"===r)?i():o.call(s[0],a,i)}var a=s.apply(this,arguments),n=a.mode,r=a.queue,o=e.effects.effect[a.effect],h=!o&&i&&e.effects[a.effect];return e.fx.off||!o&&!h?n?this[n](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):o?r===!1?this.each(t):this.queue(r||"fx",t):h.call(this,{options:a,duration:a.duration,callback:a.complete,mode:a.mode})},_show:e.fn.show,show:function(e){if(n(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(n(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(n(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);
var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(a=[parseFloat(i),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e){e.effects.effect.slide=function(t,i){var a,s=e(this),n=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),o="show"===r,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(s,n),s.show(),a=t.distance||s["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),o&&s.css(l,u?isNaN(a)?"-"+a:-a:a),d[l]=(o?u?"+=":"-=":u?"-=":"+=")+a,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,n),e.effects.removeWrapper(s),i()}})}}(jQuery);var Mustache="undefined"!=typeof module&&module.exports||{};!function(exports){function isWhitespace(string){return spaceRe.test(string)}function escapeHTML(string){return String(string).replace(/&(?!\w+;)|[<>"']/g,function(s){return escapeMap[s]||s})}function debug(e,template,line,file){file=file||"<template>";for(var c,lines=template.split("\n"),start=Math.max(line-3,0),end=Math.min(lines.length,line+3),context=lines.slice(start,end),i=0,len=context.length;len>i;++i)c=i+start+1,context[i]=(c===line?" >> ":"    ")+context[i];return e.template=template,e.line=line,e.file=file,e.message=[file+":"+line,context.join("\n"),"",e.message].join("\n"),e}function lookup(name,stack,defaultValue){if("."===name)return stack[stack.length-1];for(var value,context,j,localStack,names=name.split("."),lastIndex=names.length-1,target=names[lastIndex],i=stack.length;i;){for(localStack=stack.slice(0),context=stack[--i],j=0;lastIndex>j&&(context=context[names[j++]],null!=context);)localStack.push(context);if(context&&"object"==typeof context&&target in context){value=context[target];break}}return"function"==typeof value&&(value=value.call(localStack[localStack.length-1])),null==value?defaultValue:value}function renderSection(name,stack,callback,inverted){var buffer="",value=lookup(name,stack);if(inverted)(null==value||value===!1||isArray(value)&&0===value.length)&&(buffer+=callback());else if(isArray(value))forEach(value,function(value){stack.push(value),buffer+=callback(),stack.pop()});else if("object"==typeof value)stack.push(value),buffer+=callback(),stack.pop();else if("function"==typeof value){var scope=stack[stack.length-1],scopedRender=function(template){return render(template,scope)};buffer+=value.call(scope,callback(),scopedRender)||""}else value&&(buffer+=callback());return buffer}function parse(template,options){options=options||{};for(var updateLine,nextOpenTag,nextCloseTag,c,callback,tags=options.tags||exports.tags,openTag=tags[0],closeTag=tags[tags.length-1],code=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],spaces=[],hasTag=!1,nonSpace=!1,stripSpace=function(){if(!hasTag||nonSpace||options.space)spaces=[];else for(;spaces.length;)code.splice(spaces.pop(),1);hasTag=!1,nonSpace=!1},sectionStack=[],setTags=function(source){tags=trim(source).split(/\s+/),nextOpenTag=tags[0],nextCloseTag=tags[tags.length-1]},includePartial=function(source){code.push('";',updateLine,'\nvar partial = partials["'+trim(source)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},openSection=function(source,inverted){var name=trim(source);if(""===name)throw debug(new Error("Section name may not be empty"),template,line,options.file);sectionStack.push({name:name,inverted:inverted}),code.push('";',updateLine,'\nvar name = "'+name+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},openInvertedSection=function(source){openSection(source,!0)},closeSection=function(source){var name=trim(source),openName=0!=sectionStack.length&&sectionStack[sectionStack.length-1].name;if(!openName||name!=openName)throw debug(new Error('Section named "'+name+'" was never opened'),template,line,options.file);var section=sectionStack.pop();code.push('";',"\n    return buffer;","\n  };","\n})();"),section.inverted?code.push("\nbuffer += renderSection(name,stack,callback,true);"):code.push("\nbuffer += renderSection(name,stack,callback);"),code.push('\nbuffer += "')},sendPlain=function(source){code.push('";',updateLine,'\nbuffer += lookup("'+trim(source)+'",stack,"");','\nbuffer += "')},sendEscaped=function(source){code.push('";',updateLine,'\nbuffer += escapeHTML(lookup("'+trim(source)+'",stack,""));','\nbuffer += "')},line=1,i=0,len=template.length;len>i;++i)if(template.slice(i,i+openTag.length)===openTag){switch(i+=openTag.length,c=template.substr(i,1),updateLine="\nline = "+line+";",nextOpenTag=openTag,nextCloseTag=closeTag,hasTag=!0,c){case"!":i++,callback=null;break;case"=":i++,closeTag="="+closeTag,callback=setTags;break;case">":i++,callback=includePartial;break;case"#":i++,callback=openSection;break;case"^":i++,callback=openInvertedSection;break;case"/":i++,callback=closeSection;break;case"{":closeTag="}"+closeTag;case"&":i++,nonSpace=!0,callback=sendPlain;break;default:nonSpace=!0,callback=sendEscaped}var end=template.indexOf(closeTag,i);if(-1===end)throw debug(new Error('Tag "'+openTag+'" was not closed properly'),template,line,options.file);var source=template.substring(i,end);callback&&callback(source);for(var n=0;~(n=source.indexOf("\n",n));)line++,n++;i=end+closeTag.length-1,openTag=nextOpenTag,closeTag=nextCloseTag}else switch(c=template.substr(i,1)){case'"':case"\\":nonSpace=!0,code.push("\\"+c);break;case"\r":break;case"\n":spaces.push(code.length),code.push("\\n"),stripSpace(),line++;break;default:isWhitespace(c)?spaces.push(code.length):nonSpace=!0,code.push(c)}if(0!=sectionStack.length)throw debug(new Error('Section "'+sectionStack[sectionStack.length-1].name+'" was not closed properly'),template,line,options.file);stripSpace(),code.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var body=code.join("").replace(/buffer \+= "";\n/g,"");return options.debug&&("undefined"!=typeof console&&console.log?console.log(body):"function"==typeof print&&print(body)),body}function _compile(template,options){var args="view,partials,stack,lookup,escapeHTML,renderSection,render",body=parse(template,options),fn=new Function(args,body);return function(view,partials){partials=partials||{};var stack=[view];try{return fn(view,partials,stack,lookup,escapeHTML,renderSection,render)}catch(e){throw debug(e.error,template,e.line,options.file)}}}function clearCache(){_cache={}}function compile(template,options){return options=options||{},options.cache!==!1?(_cache[template]||(_cache[template]=_compile(template,options)),_cache[template]):_compile(template,options)}function render(template,view,partials){return compile(template)(view,partials)}exports.name="mustache.js",exports.version="0.5.0-dev",exports.tags=["{{","}}"],exports.parse=parse,exports.compile=compile,exports.render=render,exports.clearCache=clearCache,exports.to_html=function(template,view,partials,send){var result=render(template,view,partials);return"function"!=typeof send?result:(send(result),void 0)};var isArray,_toString=Object.prototype.toString,_isArray=Array.isArray,_forEach=Array.prototype.forEach,_trim=String.prototype.trim;isArray=_isArray?_isArray:function(obj){return"[object Array]"===_toString.call(obj)};var forEach;forEach=_forEach?function(obj,callback,scope){return _forEach.call(obj,callback,scope)}:function(obj,callback,scope){for(var i=0,len=obj.length;len>i;++i)callback.call(scope,obj[i],i,obj)};var trim,spaceRe=/^\s*$/;if(_trim)trim=function(string){return null==string?"":_trim.call(string)};else{var trimLeft,trimRight;isWhitespace(" ")?(trimLeft=/^\s+/,trimRight=/\s+$/):(trimLeft=/^[\s\xA0]+/,trimRight=/[\s\xA0]+$/),trim=function(string){return null==string?"":String(string).replace(trimLeft,"").replace(trimRight,"")}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_cache={}}(Mustache),/* ===================================================
 * bootstrap-transition.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function($){$(function(){"use strict";$.support.transition=function(){var transitionEnd=function(){var name,el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(name in transEndEventNames)if(void 0!==el.style[name])return transEndEventNames[name]}();return transitionEnd&&{end:transitionEnd}}()})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function($){"use strict";var Tooltip=function(element,options){this.init("tooltip",element,options)};Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut;this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.enabled=!0,"manual"!=this.options.trigger&&(eventIn="hover"==this.options.trigger?"mouseenter":"focus",eventOut="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(eventIn,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut,this.options.selector,$.proxy(this.leave,this))),this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(options){return options=$.extend({},$.fn[this.type].defaults,options,this.$element.data()),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);return self.options.delay&&self.options.delay.show?(clearTimeout(this.timeout),self.hoverState="in",this.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show),void 0):self.show()},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type);return self.options.delay&&self.options.delay.hide?(clearTimeout(this.timeout),self.hoverState="out",this.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide),void 0):self.hide()},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp;if(this.hasContent()&&this.enabled){switch($tip=this.tip(),this.setContent(),this.options.animation&&$tip.addClass("fade"),placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,inside=/in/.test(placement),$tip.remove().css({top:0,left:0,display:"block"}).appendTo(inside?this.$element:document.body),pos=this.getPosition(inside),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,inside?placement.split(" ")[1]:placement){case"bottom":tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2};break;case"top":tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth};break;case"right":tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}}$tip.css(tp).addClass(placement).addClass("in")}},isHTML:function(text){return"string"!=typeof text||"<"===text.charAt(0)&&">"===text.charAt(text.length-1)&&text.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(text)},setContent:function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.isHTML(title)?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},hide:function(){function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500);$tip.one($.support.transition.end,function(){clearTimeout(timeout),$tip.remove()})}var $tip=this.tip();$tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?removeWithAnimation():$tip.remove()},fixTitle:function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},inside?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("tooltip"),options="object"==typeof option&&option;data||$this.data("tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),Groupon="undefined"==typeof Groupon?{}:Groupon,Groupon.Getaways=Groupon.Getaways||{},Groupon.Getaways.G1=Groupon.Getaways.G1||{},Groupon.Getaways.Backbone=Backbone,Groupon.Getaways.$=$,Groupon.Getaways._=_,Groupon.Getaways.selector="#travel-calendar","undefined"!=typeof moment&&(Groupon.Getaways.moment=moment),Groupon.Getaways.calendarTimeout=Groupon.Getaways.calendarTimeout||5e3,function(exports){exports.module=function(moduleName,callback){for(var name,current=exports,names=moduleName.split("."),moduleName=names.pop(),imports=[],i=2;i<arguments.length;++i)imports.push(arguments[i]);for(;name=names.shift();)current[name]=current[name]||{},current=current[name];current[moduleName]=function(imports){return callback.apply(this,imports)}(imports)}}(Groupon.Getaways),jQuery(function($){$.datepicker.regional.af={closeText:"Selekteer",prevText:"Vorige",nextText:"Volgende",currentText:"Vandag",monthNames:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],dayNamesShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],dayNamesMin:["So","Ma","Di","Wo","Do","Vr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["ar-DZ"]={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ar={closeText:"إغلاق",prevText:"&#x3C;السابق",nextText:"التالي&#x3E;",currentText:"اليوم",monthNames:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesShort:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],dayNamesMin:["ح","ن","ث","ر","خ","ج","س"],weekHeader:"أسبوع",dateFormat:"dd/mm/yy",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.az={closeText:"Bağla",prevText:"&#x3C;Geri",nextText:"İrəli&#x3E;",currentText:"Bugün",monthNames:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","İyun","İyul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],dayNamesShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayNamesMin:["B","B","Ç","С","Ç","C","Ş"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.be={closeText:"Зачыніць",prevText:"&larr;Папяр.",nextText:"Наст.&rarr;",currentText:"Сёньня",monthNames:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Сьнежань"],monthNamesShort:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сьн"],dayNames:["нядзеля","панядзелак","аўторак","серада","чацьвер","пятніца","субота"],dayNamesShort:["ндз","пнд","аўт","срд","чцв","птн","сбт"],dayNamesMin:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],weekHeader:"Тд",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.bg={closeText:"затвори",prevText:"&#x3C;назад",nextText:"напред&#x3E;",nextBigText:"&#x3E;&#x3E;",currentText:"днес",monthNames:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Нов","Дек"],dayNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"],dayNamesShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Съ"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.bs={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ca={closeText:"Tanca",prevText:"Anterior",nextText:"Següent",currentText:"Avui",monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","març","abr","maig","juny","jul","ag","set","oct","nov","des"],dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],dayNamesMin:["dg","dl","dt","dc","dj","dv","ds"],weekHeader:"Set",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.cs={closeText:"Zavřít",prevText:"&#x3C;Dříve",nextText:"Později&#x3E;",currentText:"Nyní",monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],monthNamesShort:["led","úno","bře","dub","kvě","čer","čvc","srp","zář","říj","lis","pro"],dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],dayNamesMin:["ne","po","út","st","čt","pá","so"],weekHeader:"Týd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["cy-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthNamesShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tac","Rha"],dayNames:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],dayNamesShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad"],dayNamesMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekHeader:"Wy",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.da={closeText:"Luk",prevText:"&#x3C;Forrige",nextText:"Næste&#x3E;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.de={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.el={closeText:"Κλείσιμο",prevText:"Προηγούμενος",nextText:"Επόμενος",currentText:"Τρέχων Μήνας",monthNames:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthNamesShort:["Ιαν","Φεβ","Μαρ","Απρ","Μαι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dayNames:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],dayNamesShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayNamesMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],weekHeader:"Εβδ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["en-AU"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["en-NZ"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.eo={closeText:"Fermi",prevText:"&#x3C;Anta",nextText:"Sekv&#x3E;",currentText:"Nuna",monthNames:["Januaro","Februaro","Marto","Aprilo","Majo","Junio","Julio","Aŭgusto","Septembro","Oktobro","Novembro","Decembro"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],dayNames:["Dimanĉo","Lundo","Mardo","Merkredo","Ĵaŭdo","Vendredo","Sabato"],dayNamesShort:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],dayNamesMin:["Di","Lu","Ma","Me","Ĵa","Ve","Sa"],weekHeader:"Sb",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.es={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","jue","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.et={closeText:"Sulge",prevText:"Eelnev",nextText:"Järgnev",currentText:"Täna",monthNames:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"],dayNamesShort:["Pühap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],weekHeader:"näd",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.eu={closeText:"Egina",prevText:"&#x3C;Aur",nextText:"Hur&#x3E;",currentText:"Gaur",monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig.","al.","ar.","az.","og.","ol.","lr."],dayNamesMin:["ig","al","ar","az","og","ol","lr"],weekHeader:"As",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.fa={closeText:"بستن",prevText:"&#x3C;قبلی",nextText:"بعدی&#x3E;",currentText:"امروز",monthNames:["فروردين","ارديبهشت","خرداد","تير","مرداد","شهريور","مهر","آبان","آذر","دی","بهمن","اسفند"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayNamesShort:["ی","د","س","چ","پ","ج","ش"],dayNamesMin:["ی","د","س","چ","پ","ج","ش"],weekHeader:"هف",dateFormat:"yy/mm/dd",firstDay:6,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.fi={closeText:"Sulje",prevText:"&#xAB;Edellinen",nextText:"Seuraava&#xBB;",currentText:"Tänään",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"d.m.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.fo={closeText:"Lat aftur",prevText:"&#x3C;Fyrra",nextText:"Næsta&#x3E;",currentText:"Í dag",monthNames:["Januar","Februar","Mars","Apríl","Mei","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leyardagur"],dayNamesShort:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],dayNamesMin:["Su","Má","Tý","Mi","Hó","Fr","Le"],weekHeader:"Vk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["fr-CA"]={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["fr-CH"]={closeText:"Fermer",prevText:"&#x3C;Préc",nextText:"Suiv&#x3E;",currentText:"Courant",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.gl={closeText:"Pechar",prevText:"&#x3C;Ant",nextText:"Seg&#x3E;",currentText:"Hoxe",monthNames:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuño","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthNamesShort:["Xan","Feb","Mar","Abr","Mai","Xuñ","Xul","Ago","Set","Out","Nov","Dec"],dayNames:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mér","Xov","Ven","Sáb"],dayNamesMin:["Do","Lu","Ma","Mé","Xo","Ve","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.he={closeText:"סגור",prevText:"&#x3C;הקודם",nextText:"הבא&#x3E;",currentText:"היום",monthNames:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthNamesShort:["ינו","פבר","מרץ","אפר","מאי","יוני","יולי","אוג","ספט","אוק","נוב","דצמ"],dayNames:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],dayNamesShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayNamesMin:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!0,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.hi={closeText:"बंद",prevText:"पिछला",nextText:"अगला",currentText:"आज",monthNames:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],monthNamesShort:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],dayNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"],dayNamesShort:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],dayNamesMin:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],weekHeader:"हफ्ता",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.hr={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.hu={closeText:"bezár",prevText:"vissza",nextText:"előre",currentText:"ma",monthNames:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthNamesShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],dayNamesShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"Hét",dateFormat:"yy.mm.dd.",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},$.datepicker.regional.hy={closeText:"Փակել",prevText:"&#x3C;Նախ.",nextText:"Հաջ.&#x3E;",currentText:"Այսօր",monthNames:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],monthNamesShort:["Հունվ","Փետր","Մարտ","Ապր","Մայիս","Հունիս","Հուլ","Օգս","Սեպ","Հոկ","Նոյ","Դեկ"],dayNames:["կիրակի","եկուշաբթի","երեքշաբթի","չորեքշաբթի","հինգշաբթի","ուրբաթ","շաբաթ"],dayNamesShort:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],dayNamesMin:["կիր","երկ","երք","չրք","հնգ","ուրբ","շբթ"],weekHeader:"ՇԲՏ",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.id={closeText:"Tutup",prevText:"&#x3C;mundur",nextText:"maju&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.is={closeText:"Loka",prevText:"&#x3C; Fyrri",nextText:"Næsti &#x3E;",currentText:"Í dag",monthNames:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],dayNames:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"],dayNamesShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],dayNamesMin:["Su","Má","Þr","Mi","Fi","Fö","La"],weekHeader:"Vika",dateFormat:"dd.mm.yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["it-CH"]={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ja={closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/mm/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},$.datepicker.regional.ka={closeText:"დახურვა",prevText:"&#x3c; წინა",nextText:"შემდეგი &#x3e;",currentText:"დღეს",monthNames:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],monthNamesShort:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],dayNames:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"],dayNamesShort:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],dayNamesMin:["კვ","ორშ","სამ","ოთხ","ხუთ","პარ","შაბ"],weekHeader:"კვირა",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.kk={closeText:"Жабу",prevText:"&#x3C;Алдыңғы",nextText:"Келесі&#x3E;",currentText:"Бүгін",monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],monthNamesShort:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шіл","Там","Қыр","Қаз","Қар","Жел"],dayNames:["Жексенбі","Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі"],dayNamesShort:["жкс","дсн","ссн","срс","бсн","жма","снб"],dayNamesMin:["Жк","Дс","Сс","Ср","Бс","Жм","Сн"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.km={closeText:"ធ្វើ​រួច",prevText:"មុន",nextText:"បន្ទាប់",currentText:"ថ្ងៃ​នេះ",monthNames:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],monthNamesShort:["មករា","កុម្ភៈ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],dayNames:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស្បតិ៍","សុក្រ","សៅរ៍"],dayNamesShort:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],dayNamesMin:["អា","ច","អ","ពុ","ព្រហ","សុ","សៅ"],weekHeader:"សប្ដាហ៍",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"},$.datepicker.regional.ky={closeText:"Жабуу",prevText:"&#x3c;Мур",nextText:"Кий&#x3e;",currentText:"Бүгүн",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["жекшемби","дүйшөмбү","шейшемби","шаршемби","бейшемби","жума","ишемби"],dayNamesShort:["жек","дүй","шей","шар","бей","жум","ише"],dayNamesMin:["Жк","Дш","Шш","Шр","Бш","Жм","Иш"],weekHeader:"Жум",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.lb={closeText:"Fäerdeg",prevText:"Zréck",nextText:"Weider",currentText:"Haut",monthNames:["Januar","Februar","Mäerz","Abrëll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mäe","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonndeg","Méindeg","Dënschdeg","Mëttwoch","Donneschdeg","Freideg","Samschdeg"],dayNamesShort:["Son","Méi","Dën","Mët","Don","Fre","Sam"],dayNamesMin:["So","Mé","Dë","Më","Do","Fr","Sa"],weekHeader:"W",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.lt={closeText:"Uždaryti",prevText:"&#x3C;Atgal",nextText:"Pirmyn&#x3E;",currentText:"Šiandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","šeš"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","Še"],weekHeader:"SAV",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:""},$.datepicker.regional.lv={closeText:"Aizvērt",prevText:"Iepr.",nextText:"Nāk.",currentText:"Šodien",monthNames:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Ned.",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.mk={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Денес",monthNames:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"],monthNamesShort:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],dayNames:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"],dayNamesShort:["Нед","Пон","Вто","Сре","Чет","Пет","Саб"],dayNamesMin:["Не","По","Вт","Ср","Че","Пе","Са"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ml={closeText:"ശരി",prevText:"മുന്നത്തെ",nextText:"അടുത്തത് ",currentText:"ഇന്ന്",monthNames:["ജനുവരി","ഫെബ്രുവരി","മാര്‍ച്ച്","ഏപ്രില്‍","മേയ്","ജൂണ്‍","ജൂലൈ","ആഗസ്റ്റ്","സെപ്റ്റംബര്‍","ഒക്ടോബര്‍","നവംബര്‍","ഡിസംബര്‍"],monthNamesShort:["ജനു","ഫെബ്","മാര്‍","ഏപ്രി","മേയ്","ജൂണ്‍","ജൂലാ","ആഗ","സെപ്","ഒക്ടോ","നവം","ഡിസ"],dayNames:["ഞായര്‍","തിങ്കള്‍","ചൊവ്വ","ബുധന്‍","വ്യാഴം","വെള്ളി","ശനി"],dayNamesShort:["ഞായ","തിങ്ക","ചൊവ്വ","ബുധ","വ്യാഴം","വെള്ളി","ശനി"],dayNamesMin:["ഞാ","തി","ചൊ","ബു","വ്യാ","വെ","ശ"],weekHeader:"ആ",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ms={closeText:"Tutup",prevText:"&#x3C;Sebelum",nextText:"Selepas&#x3E;",currentText:"hari ini",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.nb={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["nl-BE"]={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.nl={closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.nn={closeText:"Lukk",prevText:"&#xAB;Førre",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["sun","mån","tys","ons","tor","fre","lau"],dayNames:["sundag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesMin:["su","må","ty","on","to","fr","la"],weekHeader:"Veke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.no={closeText:"Lukk",prevText:"&#xAB;Forrige",nextText:"Neste&#xBB;",currentText:"I dag",monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],dayNamesShort:["søn","man","tir","ons","tor","fre","lør"],dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesMin:["sø","ma","ti","on","to","fr","lø"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.pl={closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.pt={closeText:"Fechar",prevText:"Anterior",nextText:"Seguinte",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sem",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.rm={closeText:"Serrar",prevText:"&#x3C;Suandant",nextText:"Precedent&#x3E;",currentText:"Actual",monthNames:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],monthNamesShort:["Scha","Fev","Mar","Avr","Matg","Zer","Fan","Avu","Sett","Oct","Nov","Dec"],dayNames:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"],dayNamesShort:["Dum","Gli","Mar","Mes","Gie","Ven","Som"],dayNamesMin:["Du","Gl","Ma","Me","Gi","Ve","So"],weekHeader:"emna",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ro={closeText:"Închide",prevText:"&#xAB; Luna precedentă",nextText:"Luna următoare &#xBB;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],weekHeader:"Săpt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.sk={closeText:"Zavrieť",prevText:"&#x3C;Predchádzajúci",nextText:"Nasledujúci&#x3E;",currentText:"Dnes",monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],monthNamesShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","Št","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.sl={closeText:"Zapri",prevText:"&#x3C;Prejšnji",nextText:"Naslednji&#x3E;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","Če","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.sq={closeText:"mbylle",prevText:"&#x3C;mbrapa",nextText:"Përpara&#x3E;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],dayNames:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","Hë","Ma","Më","En","Pr","Sh"],dayNamesMin:["Di","Hë","Ma","Më","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["sr-SR"]={closeText:"Zatvori",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","Če","Pe","Su"],weekHeader:"Sed",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.sr={closeText:"Затвори",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Данас",monthNames:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthNamesShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],dayNames:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"],dayNamesShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб"],dayNamesMin:["Не","По","Ут","Ср","Че","Пе","Су"],weekHeader:"Сед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.sv={closeText:"Stäng",prevText:"&#xAB;Förra",nextText:"Nästa&#xBB;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayNames:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],dayNamesMin:["Sö","Må","Ti","On","To","Fr","Lö"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.ta={closeText:"மூடு",prevText:"முன்னையது",nextText:"அடுத்தது",currentText:"இன்று",monthNames:["தை","மாசி","பங்குனி","சித்திரை","வைகாசி","ஆனி","ஆடி","ஆவணி","புரட்டாசி","ஐப்பசி","கார்த்திகை","மார்கழி"],monthNamesShort:["தை","மாசி","பங்","சித்","வைகா","ஆனி","ஆடி","ஆவ","புர","ஐப்","கார்","மார்"],dayNames:["ஞாயிற்றுக்கிழமை","திங்கட்கிழமை","செவ்வாய்க்கிழமை","புதன்கிழமை","வியாழக்கிழமை","வெள்ளிக்கிழமை","சனிக்கிழமை"],dayNamesShort:["ஞாயிறு","திங்கள்","செவ்வாய்","புதன்","வியாழன்","வெள்ளி","சனி"],dayNamesMin:["ஞா","தி","செ","பு","வி","வெ","ச"],weekHeader:"Не",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.th={closeText:"ปิด",prevText:"&#xAB;&#xA0;ย้อน",nextText:"ถัดไป&#xA0;&#xBB;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.tj={closeText:"Идома",prevText:"&#x3c;Қафо",nextText:"Пеш&#x3e;",currentText:"Имрӯз",monthNames:["Январ","Феврал","Март","Апрел","Май","Июн","Июл","Август","Сентябр","Октябр","Ноябр","Декабр"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["якшанбе","душанбе","сешанбе","чоршанбе","панҷшанбе","ҷумъа","шанбе"],dayNamesShort:["якш","душ","сеш","чор","пан","ҷум","шан"],dayNamesMin:["Як","Дш","Сш","Чш","Пш","Ҷм","Шн"],weekHeader:"Хф",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.tr={closeText:"kapat",prevText:"&#x3C;geri",nextText:"ileri&#x3e",currentText:"bugün",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.uk={closeText:"Закрити",prevText:"&#x3C;",nextText:"&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],dayNamesShort:["нед","пнд","вів","срд","чтв","птн","сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.vi={closeText:"Đóng",prevText:"&#x3C;Trước",nextText:"Tiếp&#x3E;",currentText:"Hôm nay",monthNames:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"],monthNamesShort:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayNames:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},$.datepicker.regional["zh-HK"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"dd-mm-yy",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},$.datepicker.regional["zh-TW"]={closeText:"關閉",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy/mm/dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"}
}),Groupon.Getaways.module("Models.Availability",function(){var Backbone=Groupon.Getaways.Backbone,_=Groupon.Getaways._;return Backbone.Model.extend({initialize:function(dateModelArray,option,checkInModel,checkOutModel){if(!option)throw"option must be defined";this.dateModelArray=dateModelArray,this.option=option,this.checkInModel=checkInModel.setAsCheckIn(),this.checkOutModel=checkOutModel,this.option.minimum>0&&!checkOutModel&&(this.checkOutModel=_.find(this.dateModelArray,function(dateModel){return dateModel.toDateKeyString()===this.checkInModel.daysAheadString(this.option.minimum)},this)),this.checkOutModel&&this.checkOutModel.setAsCheckOut()},checkInIndex:function(){return _.indexOf(this.dateModelArray,this.checkInModel)},checkOutIndex:function(){return _.indexOf(this.dateModelArray,this.checkOutModel)},everyDateAfterCheckIn:function(){return _.without(this.dateModelArray.slice(this.checkInIndex()),this.checkInModel)},everyDateBeforeCheckIn:function(){return this.dateModelArray.slice(0,this.checkInIndex())},first:function(){return this.dateModelArray[this.firstIndex()]},firstIndex:function(){var reversedBeforeRange=this.everyDateBeforeCheckIn().reverse();return this.firstUnavailableIndexOf(reversedBeforeRange)+1},firstCheckIn:function(){return this.dateModelArray[this.firstCheckInIndex()]},firstCheckInIndex:function(){var reversedBeforeRange=this.everyDateBeforeCheckIn().reverse();return this.firstAvailableCheckInIndexOf(reversedBeforeRange)},firstAvailableCheckIn:function(array){var availableModel;return _.find(array,function(dateModel){return this.isAvailableCheckIn(dateModel)&&(availableModel=dateModel),this.isUnavailable(dateModel)},this),availableModel||this.checkInModel},firstAvailableCheckInIndexOf:function(array){return _.indexOf(this.dateModelArray,this.firstAvailableCheckIn(array)||_.last(array))},firstUnavailableIndexOf:function(array){return _.indexOf(this.dateModelArray,this.firstUnavailableModel(array)||_.last(array))},firstUnavailableModel:function(array){return _.find(array,function(dateModel){return this.isUnavailable(dateModel)},this)},hasAllAvailability:function(dateModelArray){return _.isEmpty(_.find(dateModelArray,function(dateModel){return this.isUnavailable(dateModel)},this))},hasMinimum:function(){return this.option.minimum>0},included:function(){return this.dateModelArray.slice(this.firstIndex(),this.lastIndex()+1)},indexOf:function(dateModel){return _.indexOf(this.dateModelArray,dateModel)},isAvailable:function(dateModel){return dateModel.getOption(this.option.id).isAvailable()},isAvailableCheckIn:function(dateModel){return dateModel.isAvailableCheckIn(this.option.id)},isBetweenSelectedStay:function(dateModel){return dateModel&&dateModel.isGreaterThan(this.checkInModel)&&dateModel.isLessThan(this.checkOutModel)},isCheckIn:function(dateModel){return dateModel&&dateModel.isEqualTo(this.checkInModel)},isCheckOut:function(dateModel){return dateModel&&dateModel.isEqualTo(this.checkOutModel)},isFirstIncludedDateModel:function(dateModel){return this.included()[0].id===dateModel.id},isInAvailableSelection:function(dateModel,option){var isGreaterThanEqualToFirst=option&&dateModel.isStayOnly(option.id)?dateModel.isGreaterThanEqualTo(this.firstCheckIn()):dateModel.isGreaterThanEqualTo(this.first());return dateModel&&dateModel.isGreaterThanEqualTo(this.first())&&isGreaterThanEqualToFirst&&dateModel.isLessThanEqualTo(this.last())},isNoAction:function(){if(this.option.minimum>=this.included().length||this.included().length>=2*this.option.minimum)return!1;var days=this.getNoActionIncludedDayCount();+this.checkInModel;var range=_.range(this.option.minimum-days,this.option.minimum),noActionDateModels=_.find(range,function(index){return this.included()[index].id===this.checkInModel.id},this);return!_.isUndefined(noActionDateModels)},getNoActionIncludedDayCount:function(){return this.option.minimum-this.included().length%this.option.minimum},isUnavailable:function(dateModel){return!this.isAvailable(dateModel)},last:function(){return this.dateModelArray[this.lastIndex()]},lastIndex:function(){var afterRange=this.everyDateAfterCheckIn();return this.firstUnavailableIndexOf(afterRange)},minimumFound:function(){var minimum=this.minimumIncluded();return minimum.length===this.option.minimum+1&&this.hasAllAvailability(minimum.slice(0,-1))},minimumIncluded:function(){var checkOut=this.checkOutIndex()||this.checkInIndex()+this.option.minimum;return this.dateModelArray.slice(this.checkInIndex(),checkOut+1)},onCheckIn:function(callback,context){this.events.onCheckIn=callback,this.checkInModel&&callback.call(context||this)},selectedIncludedStayPrice:function(){var prices=_.map(this.selectionIncluded(),function(dateModel){return dateModel.getOption(this.option.id).displayPrice()},this);return prices.pop(),_.reduce(prices,function(total,price){return total+price},0)},selectedStay:function(){return this.dateModelArray.slice(this.checkInIndex(),this.checkOutIndex())},selectedStayLength:function(){return this.selectedStay().length},selectedStayPrice:function(){var prices=_.map(this.selectedStay(),function(dateModel){return dateModel.getOption(this.option.id).displayPrice()},this);return _.reduce(prices,function(total,price){return total+price},0)},setOption:function(option){this.option=option},selectionIncluded:function(){var selectionLeft=this.checkInModel.isGreaterThan(this.selectionModel)?this.selectionIndex():this.checkInIndex(),selectionRight=(this.checkOutModel.isLessThan(this.selectionModel)?this.selectionIndex():this.checkOutIndex())+1;return this.dateModelArray.slice(selectionLeft,selectionRight)},selectionIndex:function(){return _.indexOf(this.dateModelArray,this.selectionModel)},setCurrentSelectionModel:function(dateModel){(dateModel.isLessThanEqualTo(this.checkInModel)||dateModel.isGreaterThanEqualTo(this.checkOutModel))&&(this.selectionModel=dateModel)}})}),Groupon.Getaways.module("Models.Date",function(){var $=Groupon.Getaways.$,Backbone=Groupon.Getaways.Backbone,_=Groupon.Getaways._,Moment=Groupon.Getaways.moment;return Backbone.Model.extend({defaults:{value:new Date,options:[]},dateStringFormat:"YYYY-MM-DD",initialize:function(object){if(object){var momentObj,options={};_.each(object.options,function(option,optionId){var model=new Groupon.Getaways.Models.Option(_.extend(option,{id:optionId}));options[model.id]=model},this),this.id&&(momentObj=Moment(this.get("id"),"YYYY-MM-DD")),this.set({options:options,moment:momentObj})}},getDayName:function(){var date=this.toDate(),day_names=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],dayName=$.datepicker.formatDate("D",date);return dayName||day_names[date.getDay()]},getOption:function(optionId){return _.find(this.options(),function(option){return+option.id===+optionId},this)},isAvailable:function(optionId){return(this.toDate()>=Groupon.Getaways.Models.Date.getTomorrow()||Groupon.Getaways.Models.Date.isTodayAndBefore11pm(this.toDate()))&&this.getOption(optionId).isAvailable()},isAvailableCheckIn:function(optionId){return this.isAvailable(optionId)&&!this.isStayOnly(optionId)},isBlackout:function(optionId){return optionId&&this.getOption(optionId).isBlackout()},isEqualTo:function(dateModel){return this===dateModel},isGreaterThan:function(dateModel){return dateModel?this.millis()>dateModel.millis():!1},isGreaterThanEqualTo:function(dateModel){return dateModel?this.millis()>=dateModel.millis():!1},isLessThan:function(dateModel){return dateModel?this.millis()<dateModel.millis():!1},isLessThanEqualTo:function(dateModel){return dateModel?this.millis()<=dateModel.millis():!1},isStayOnly:function(optionId){return this.getOption(optionId).isStayOnly()},millis:function(){return+this.toDate()},moment:function(){return this.get("moment")},momentClone:function(){return this.moment().clone()},options:function(){return this.get("options")},daysAgoString:function(days){return void 0===days&&(days=1),this.momentClone().subtract("days",days).format(this.dateStringFormat)},daysAheadString:function(days){return void 0===days&&(days=1),this.momentClone().add("days",days).format(this.dateStringFormat)},toDateKeyString:function(){return this.moment().format(this.dateStringFormat)},setAsCheckIn:function(){return this.checkedState="checkIn",this},setAsCheckOut:function(){return this.checkedState="checkOut",this},toDate:function(){var dateSplit=this.id.split("-");return new Date(+dateSplit[0],+dateSplit[1]-1,+dateSplit[2],0,0,0,0)},toExtendedDateString:function(){var date=this.toDate();return this.getDayName()+", "+(date.getMonth()+1)+"/"+date.getDate()+"/"+date.getFullYear()},toShortDateString:function(){var date=this.toDate();return this.getDayName()+", "+(date.getMonth()+1)+"/"+date.getDate()},toFormattedDateString:function(format){var date=this.toDate();return format.replace(/%w/gi,this.getDayName()).replace(/%M/gi,date.getMonth()+1).replace(/%D/gi,date.getDate())}},{dateStringFormat:"YYYY-MM-DD",twoDaysFromToday:function(){return new Date(+new Date+1728e5)},isTodayAndBefore11pm:function(date){var now=new Date;return date.getFullYear()==now.getFullYear()&&date.getMonth()==now.getMonth()&&date.getDate()==now.getDate()&&now.getHours()<23},getTomorrow:function(){var now=new Date,tomorrow=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0,0);return tomorrow},dateToDateKeyString:function(date){return Moment(date).format(this.dateStringFormat)}})}),Groupon.Getaways.module("Models.Locale",function(){var Backbone=Groupon.Getaways.Backbone;return Groupon.Getaways._,Backbone.View.extend({currencySymbol:function(){var code=this.getCurrencyCode();return this.keyMap().baseObj.lookup("number.symbols.currency."+code)||"$"},dateFormat:function(){return this.t("format")&&this.t("format").date||"%w, %M/%D"},format:function(){return this.t("format")&&this.t("format").currency||"%s%v"},formatCurrency:function(value,precision){var options={};return("undefined"==typeof precision||0===precision)&&(options.precision=0,value=Math.round(value)),options.currencyCode=this.getCurrencyCode(),value=this.keyMap().baseObj.toCurrency(value,options),0==options.precision?value.replace(/\.00/,""):value},formatNumber:function(value,precision){return value=this.keyMap().baseObj.toNumber(value),"undefined"==typeof precision||0==precision?value.replace(/\.00/,""):value},formatPercent:function(value,decimals){return"undefined"==typeof decimals&&(decimals=2),(100*value).toFixed(decimals).toLocaleString()},getCurrencyCode:function(){return this.keyMap().currencyCode||"USD"},getLocale:function(){var localeObj=this.keyMap().baseObj;return localeObj.currentLocale?localeObj.currentLocale():"en_US"},keyMap:function(){return this.getaways||{}},setCurrencyCode:function(code){this.keyMap().currencyCode=code},t:function(keyString){var text=this.keyMap().baseObj.translate(this.keyMap().prefix+keyString);return"object"==typeof text||-1==text.indexOf("[missing")?text:this.t_local(keyString)},t_local:function(keyString){var arr=keyString.split("."),hash=this.keyMap().hash;return keyString=void 0,hash&&""!=arr[0]&&hash[arr[0]]?arr[1]&&hash[arr[0]][arr[1]]?hash[arr[0]][arr[1]]:hash[arr[0]]:keyString}},{create:function(options){var locale=new Groupon.Getaways.Models.Locale,localeObj=options.localeObj||{};return locale.getaways={prefix:localeObj.prefix||"",baseObj:I18n,hash:localeObj.obj},locale}})}),Groupon.Getaways.module("Mustache",function(){return{Constants:{optionsWrapperId:"calendarOptions",calendarId:"calendar"},baseMinimum:'    <div class="market-minimum">      {{market_price}}/{{night}}    </div>    <div class="from-minimum">      {{from}} <strong>{{minimum_price}}</strong>/{{night}}    </div>    ',bookButton:"    <li>      <div class='subtotal-wrapper row'>        <div class='subtotal five columns'>          <h5>{{subtitleHeader}}</h5>          <span class='price'>{{{value}}}</span>          <span class='select-dates-message'>{{selectDatesMessage}}</span>        </div>        <div class='seven columns'>          <button class='book-button buy_btn button_style_experiment control btn-buy-big' rel='tooltip' data-bhw='{{bloodhoundWidget}}'><span>{{book}}</span></button>        </div>      </div>    </li>",bookButtonCurrency:"    <sup class='currency'>{{currency}}</sup>    ",bookButtonPrice:"    <span class='amount'>{{price}}</span>    ",calendar:'    <li>      <div class="calendar-border">        <div id="{{id}}" data-bhw=\'{{bloodhoundWidget}}\'>        </div>        <div class="slide-box">          <div class="selected-dates">            <ul class="checked-dates">              <li class="check-in">                <h5>{{checkin}}</h5>                <span>{{choose}}</span>              </li>              <li class="check-out">                <h5>{{checkout}}</h5>                <span>{{choose}}</span>              </li>              <li class="nights">                <h5>{{nights}}</h5>                <span>{{length}}</span>              </li>            </ul>          </div>          <div class="clear-dates">            <a href="#">{{linkText}}</a>          </div>        </div>      </div>    </li>    ',csMessage:"      <li class='customer-service-message'>        <p>          {{message}} <b>{{phoneNumber}}</b>        </p>      </li>",dateHeader:'    <li class="generic-list choose-date-header">      <div class="text">        <div class="sketch-arrow"/>        <span>{{text}}</span>      </div>    </li>    ',dealDescription:'    <li class="dealDescription">      <div class="title-descriptor text">{{text}}</div>    </li>    ',averagePerNight:'    <li class="averagePerNight">      <div class="average-price text">{{text}}</div>    </li>    ',errorLoading:'    <p class="header">{{header}}</p>    <p class="description">{{{description}}}</p>    ',confirmationForm:'    <form action="{{action}}" method="{{method}}" style="display: none;">{{{elements}}}</form>    ',confirmationFormElement:'    <input type="{{type}}" name="{{name}}" value="{{value}}" />    ',generic:'    <li class="generic-list {{className}}">      <span>{{text}}</span>    </li>    ',interstitial:'    <div class="wrapper">      <div class="header">        <div class="titles">          <div class="g-spinner"></div>          <div class="title-text">            <div class="title">{{modal_title}}</div>            <div class="subtitle">{{modal_subtitle}}</div>          </div>        </div>      </div>      <div class="body">        <img src="{{deal_image_url}}" />        <div class="deal-info">          <h4 class"deal-title">{{deal_title}}</h4>          <table class"deal-dates">            <thead>            <tr>              <th class"deal-check-in">{{check_in_text}}</td>              <th class"deal-check-out">{{check_out_text}}</td>              <th class"deal-nights">{{nights_text}}</td>            </tr>            </thead>            <tbody>            <tr>              <td class"deal-check-in">{{check_in}}</td>              <td class"deal-check-out">{{check_out}}</td>              <td class"deal-nights">{{nights}}</td>            </tr>            </tbody>          </table>          <h5 class="option-title">{{option_title}}</h5>          <p class="option-subtitle">{{option_subtitle}}</p>        </div>      </div>    </div>    ',option:'    <li id="option-{{id}}" class="option {{setClass}}" title="{{description}}">      <label>        <div class="grids">          <div class="selection">            <input type="radio" value="{{id}}" data-bhw="{{bloodhound}}" data-option="{{id}}" name="option" {{disabled}} />          </div>          <div class="title">            {{title}}            <div class="description">              {{description_truncated}}            </div>          </div>          <div class="price">            <div class="per-night">{{price}}+/{{night}}</div>            <div class="minimum-nights">              {{nightsRestrictions}}            </div>          </div>        </div>      </label>    </li>',optionTooltip:'    <div class="calendar-tooltip option">      <div class="tooltip-arrow">      </div>      <div class="tooltip-inner">      </div>    </div>',tooltip:'    <div class="{{classes}}">      <div class="tooltip-inner">      </div>      <div class="tooltip-arrow">      </div>    </div>',tooltipContents:"    {{ message }}    {{# message }}{{# price }}      <hr />    {{/ price }}{{/ message }}    {{# price }}      <strong>{{ price }}</strong>    {{/ price }}"}}),Groupon.Getaways.module("Models.Option",function(){var Backbone=Groupon.Getaways.Backbone;return Backbone.Model.extend({defaults:{id:0,blackout:!1,currency:"USD",description:"",marketPrice:0,maximum:0,minimum:0,price:0,availableInventory:!1,title:""},currency:function(){return this.get("currency").toUpperCase()},displayPrice:function(){return this.get("displayPrice")},hasAllotments:function(){return this.get("availableInventory")===!0},isAvailable:function(){return this.hasAllotments()&&!this.isBlackout()},isBlackout:function(){return this.get("blackout")===!0},isSoldOut:function(){return this.get("soldOut")===!0},isStayOnly:function(){return this.get("stayOnly")===!0},marketPrice:function(){return this.get("marketPrice")},maximum:function(){return+this.get("maximum")},minimum:function(){return+this.get("minimum")},price:function(){return this.get("price")},externalOptionId:function(){return+this.get("externalOptionId")}})}),Groupon.Getaways.module("Utility",function(){return Groupon.Getaways._,{animateNumber:function(startValue,endValue,callback){var timeoutId,difference=Math.abs(endValue-startValue),duration=750,tickInterval=25,steps=duration/tickInterval,increment=Math.ceil(difference/steps),currentValue=startValue,tick=function(){Math.abs(currentValue-endValue)<increment?currentValue=endValue:endValue>currentValue?currentValue+=increment:currentValue-=increment,callback(currentValue),currentValue!==endValue&&(timeoutId=setTimeout(tick,tickInterval))};tick()},max:function(array){for(var max=0,x=0;x<array.length;++x){var parsed=+array[x];parsed>max&&(max=parsed)}return max},prefixZeros:function(number,amount){"undefined"==typeof amount&&(amount=1);var response=number;return 1===number.toString().length&&(response="0"+number),response}}}),Groupon.Getaways.module("Collections.Dates",function(){var Backbone=Groupon.Getaways.Backbone,_=Groupon.Getaways._,Moment=Groupon.Getaways.moment,$=Groupon.Getaways.$;return Backbone.Collection.extend({model:Groupon.Getaways.Models.Date,initialize:function(models,deal){this.deal=deal,this.inventoryDates={},this.inventoryOptions=[]},appendDummyDateModel:function(dateModel,dates){if(dateModel){var lastDateString=dateModel.momentClone().add("hours",24).format(dateModel.dateStringFormat),lastDateModel=new Groupon.Getaways.Models.Date(_.extend(dates[dateModel.toDateKeyString()],{id:lastDateString}));_.each(lastDateModel.options(),function(option){option.set("availableInventory",!1),option.set("blackout",!0)}),this.inventoryDates[lastDateString]=lastDateModel}},areAllOptionsSoldOut:function(){return this.unifiedDeal.sold_out===!0||_.isEmpty(_.find(this.unifiedDeal.options,function(option){return option.soldOut!==!0&&option.availableInventory!==!1},this))},buildUnifiedObjects:function(){this.unifiedDeal=_.clone(this.deal),this.unifiedDeal.options=[],_.each(this.deal.options,function(dealOption){var unifiedOption,getawaysOption;unifiedOption=_.extend(_.clone(dealOption),{id:+dealOption.externalOptionId}),getawaysOption=this.findGetawaysOption(dealOption.externalOptionId),getawaysOption&&(_.extend(unifiedOption,_.pick(getawaysOption.attributes,"id","availableInventory","blackout","contractId","currency","displayPrice","externalOptionId","marketPrice","maximum","minimum","price")),getawaysOption.isSoldOut()&&(unifiedOption.soldOut=!0),this.unifiedDeal.options.push(unifiedOption))},this)},createAvailability:function(optionId,checkIn,checkOut){var option=this.findDealOptionById(optionId);return option?new Groupon.Getaways.Models.Availability(_.toArray(this.inventoryDates),option,checkIn,checkOut):void 0},findDateModelFromDate:function(date){return this.inventoryDates[Moment(date).format(Groupon.Getaways.Models.Date.dateStringFormat)]},findDateModelfromDateKeyString:function(date_string){return this.inventoryDates[date_string]},findDealOptionById:function(id){return _.find(this.unifiedDeal.options,function(option){return option.id===+id},this)},findFirstAvailableCheckInModel:function(option){return _.find(this.inventoryDates,function(dateModel){return this.isAvailableCheckIn(dateModel,option)},this)},findGetawaysOption:function(externalOptionId){return _.find(this.inventoryOptions,function(option){return option.externalOptionId()===+externalOptionId})},findLastAvailableCheckOutDate:function(){return this.findLastDateModel().toDate()},findLastDateModel:function(){return _.last(_.toArray(this.inventoryDates))},findMaxDate:function(){var maxDate=this.findLastAvailableCheckOutDate(),today=new Date;return maxDate?maxDate:new Date(today.getFullYear(),today.getMonth(),today.getDate())},findMinDate:function(option){var minDate=this.findFirstAvailableCheckInModel(option),today=new Date;return minDate?minDate.toDate():new Date(today.getFullYear(),today.getMonth(),today.getDate())},findMinDateAllOptions:function(){var minDate;_.each(this.inventoryOptions,function(option){var dealOption=this.findDealOptionById(option.id);if(dealOption){var currentMinDate=this.findFirstAvailableCheckInModel();(!minDate||minDate.toDate()>currentMinDate.toDate())&&(minDate=currentMinDate)}},this);var today=new Date;return minDate?minDate.toDate():new Date(today.getFullYear(),today.getMonth(),today.getDate())},getMinimumOptionPrice:function(option){var datesPrices=_.map(_.toArray(this.inventoryDates),function(date){return date.getOption(option.id).displayPrice()});return this.getNonZeroMinimum(datesPrices)},getMinimumOptionMarketPrice:function(option){var datesPrices=_.map(_.toArray(this.inventoryDates),function(date){return date.getOption(option.id).marketPrice()});return this.getNonZeroMinimum(datesPrices)},getMinimumOverallPrice:function(){return _.min(_.map(this.unifiedDeal.options,function(option){return this.getMinimumOptionPrice(option)},this))},getMinimumOverallMarketPrice:function(){return _.min(_.map(this.unifiedDeal.options,function(option){return this.getMinimumOptionMarketPrice(option)},this))},getNonZeroMinimum:function(datesPrices){var minAcrossDates=_.min(_.compact(datesPrices));return _.isFinite(minAcrossDates)?minAcrossDates:0},getMinimumOptionModel:function(){var opts=_.flatten(_.map(this.inventoryDates,function(date){return _.values(date.options())},this)),nonZeroOptions=_.reject(opts,function(option){return 0===option.displayPrice()});return _.first(_.sortBy(nonZeroOptions,function(option){return option.displayPrice()}))},hasMinimumDatesAvailable:function(dateModel,option){var minimumExists=!1;if(option){var timestamps=_.filter(_.range(1,option.minimum),function(number){var dayAheadModel=this.inventoryDates[dateModel.daysAheadString(number)];return dayAheadModel&&dayAheadModel.isAvailable(option.id)&&!dayAheadModel.isEqualTo(this.findLastDateModel())},this);minimumExists=timestamps.length>=option.minimum-1}return minimumExists},hasNoOptions:function(){return!this.hasOptions()},hasNoOverallOptionInventory:function(option){var dealOption=_.find(this.deal.options,function(o){return o.externalOptionId===option.externalOptionId});return dealOption&&dealOption.soldOut===!0||option.availableInventory===!1},hasOptions:function(){return!_.isEmpty(this.unifiedDeal.options)},isAvailableCheckIn:function(dateModel,option,checkOutModel){return dateModel&&this.hasMinimumDatesAvailable(dateModel,option)&&dateModel.isAvailableCheckIn(option.id)&&!dateModel.isEqualTo(this.findLastDateModel())&&this.isBeforeMaximumNight(dateModel,option,checkOutModel)},isAvailableCheckOut:function(dateModel,option,checkInModel){var minimumDaysPlusOne=option.minimum<=1?2:option.minimum+1;return dateModel&&this.isPreviousSetAvailable(dateModel,option,minimumDaysPlusOne,option.maximum)&&this.isBeforeMaximumNight(dateModel,option,checkInModel)},isAvailableCheckInOrCheckOut:function(dateModel,option,checkInModel,checkOutModel){return dateModel.isLessThan(checkInModel)?this.isAvailableCheckIn(dateModel,option,checkOutModel):dateModel.isGreaterThan(checkOutModel)?this.isAvailableCheckOut(dateModel,option,checkInModel):!0},isBeforeMaximumNight:function(currentDateModel,option,dateModel){if(!dateModel)return!0;var daysDiff=Math.abs((currentDateModel.millis()-dateModel.millis())/864e5);return daysDiff>option.maximum?!1:!0},isDealOptionSoldOut:function(option){return this.unifiedDeal.sold_out||this.hasNoOverallOptionInventory(option)||option.soldOut},isNoAction:function(dateModel,option){return dateModel.isAvailable(option.id)&&this.createAvailability(option.id,dateModel).isNoAction()},isPreviousMinimumSetAvailable:function(dateModel,option,days){var models=_.filter(_.range(1,days),function(increment){var previousDateModel=this.inventoryDates[dateModel.daysAgoString(increment)];return previousDateModel&&previousDateModel.isAvailable(option.id)},this);return models.length===days-1},isPreviousMinimumAvailable:function(dateModel,option,days){if(days&&days>1){var previousDateModel=this.inventoryDates[dateModel.daysAgoString(days)];return previousDateModel&&previousDateModel.isAvailable(option.id)}return!1},isPreviousSetAvailable:function(dateModel,option,minimum,maximum){var isPreviousMinimumAvailable=this.isPreviousMinimumSetAvailable(dateModel,option,minimum),isPreviousMaximumValid=this.isPreviousMaximumValid(dateModel,option,maximum);return isPreviousMaximumValid&&isPreviousMinimumAvailable},isPreviousMaximumValid:function(dateModel,option,maximum){var isPreviousValidCheckIn=!1;return _.some(_.range(1,maximum+1),function(increment){var previousDateModel=this.inventoryDates[dateModel.daysAgoString(increment)];return previousDateModel&&previousDateModel.isAvailable(option.id)?this.isAvailableCheckIn(previousDateModel,option)?isPreviousValidCheckIn=!0:void 0:!0},this),isPreviousValidCheckIn},isValidCheckOut:function(checkInModel,checkOutDateModel,option){var days=(checkOutDateModel.millis()-checkInModel.millis())/864e5;if(days<option.minimum||days>option.maximum)return!1;var dateNotAvailable=_.find(_.range(1,days),function(increment){var previousDateModel=this.inventoryDates[checkInModel.daysAheadString(increment)];return!previousDateModel||!previousDateModel.isAvailable(option.id)},this);return!dateNotAvailable},isValidStay:function(dateModel,option,availability,checkInModel,checkOutModel){var twoDaysOut=new Date(+new Date+1728e5);if(twoDaysOut>dateModel.toDate())return!1;var inMaxLimit=!0;checkInModel&&checkInModel.isGreaterThan(dateModel)?inMaxLimit=this.isBeforeMaximumNight(dateModel,option,checkOutModel):checkOutModel&&dateModel.isGreaterThan(checkOutModel)&&(inMaxLimit=this.isBeforeMaximumNight(dateModel,option,checkInModel));var validStay=dateModel.isStayOnly(option.id)?availability.isInAvailableSelection(dateModel,option):!1;return dateModel.isAvailable(option.id)&&validStay&&inMaxLimit},parse:function(response){var dateModel;_.each(response.dates,function(date,date_index){dateModel=new Groupon.Getaways.Models.Date(_.extend(date,{id:date_index})),this.inventoryDates[dateModel.toDateKeyString()]=dateModel},this),this.appendDummyDateModel(dateModel,response.dates),_.each(response.options,function(option){this.inventoryOptions.push(new Groupon.Getaways.Models.Option(option))},this),this.buildUnifiedObjects(),this.trigger("dates:parsed")},setBaseUrl:function(baseUrl){this.baseUrl=baseUrl},url:function(){return path=this.baseUrl+"/deals/"+this.deal.id+"/inventory",params={locale:I18n.locale},path+"?"+$.param(params)}})}),Groupon.Getaways.module("Views.Calendar",function(){var $=Groupon.Getaways.$,Backbone=Groupon.Getaways.Backbone,_=Groupon.Getaways._;return Backbone.View.extend({events:function(){var events={"mouseenter .available":"renderAvailableHoverState","mouseenter .option":"renderOptionHoverState","click input[type=radio]":"clickOption","click .clear-dates a":"clearDates","mouseleave .ui-datepicker-calendar td":"renderAvailableCheckedDates","mouseleave #calendar":"updateOptionsOnDateSelection"},eventName="ontouchstart"in document.documentElement?"touchstart":"click";return eventName+=" .available",events[eventName]="clickAvailableDate",events},config:{bootstrapTooltipDelay:{animation:!0,delay:{hide:2e3,show:0},placement:"top",trigger:"manual"},bootstrapTooltipHover:{animation:!1,delay:{hide:0,show:0},placement:"top",trigger:"hover"},bootstrapTooltipOption:{animation:!1,delay:{hide:0,show:0},placement:"right",trigger:"hover"},datepickerOptions:{dateFormat:"yy-mm-dd",duration:400,fx:"fade",hideIfNoPrevNext:!0,gotoCurrent:!0,nextText:"&rsaquo;",numberOfMonths:1,prevText:"&lsaquo;",selectOtherMonths:!0,showOtherMonths:!0}},initialize:function(opts){if(!opts.configuration)throw"Calendar configuration was not supplied";this.configuration=opts.configuration,this.$el=$(this.configuration.selector),this.$el.addClass("travel-calendar").addClass(this.configuration.locale),this.errorFallback=opts.errorFallback||{header:"Oops!",description:"Our calendar didn't load properly. Please refresh the page."},this.$el.find(".calendar-error-placeholder").hide(),this.loadComplete=opts.loadComplete,this.templates=this.configuration.templates,this.vent=opts.vent,this.vent&&this.vent.bind("deal:changed",this.updateDealStatus,this),this.collection=new Groupon.Getaways.Collections.Dates([],this.configuration.deal),this.collection.setBaseUrl(this.configuration.inventoryUrl),this.collection.on("dates:parsed",function(){this.sendNotification.call(this,"Inventory:Request:End"),this.sendNotification.call(this,"Render:Begin"),this.render.apply(this,arguments),this.sendNotification.call(this,"Render:End")},this),this.collection.on("error",function(){this.renderErrorMessage.call(this),this.sendNotification.call(this,"Inventory:Request:Failure")},this),this.locale=Groupon.Getaways.Models.Locale.create({localeObj:this.configuration.locales}),"expired"===this.configuration.deal.status?this.renderClosedDeal.call(this):this.fetchCollection.apply(this,arguments)},fetchCollection:function(){this.sendNotification.call(this,"Inventory:Request:Begin"),this.collection.fetch()},adjustBuyButtonTextSize:function(text,className){_.isEmpty(className)||this.$el.find(".book-button").addClass(className)},applyBloodhoundContent:function(element){var date=this.findTimeFromElement(element);$(element).attr("data-bhc","calendar:"+date)},applyBloodhoundOnCalendar:function(){this.checkInModel||this.checkOutModel||_.each(this.$el.find("td.available, td.check-in, td.check-out, td.no-action-available, td.check-out-available"),function(element){this.applyBloodhoundContent(element)},this)},applyBloodhoundOnDateSelection:function(){this.$el.find(".slide-box .check-in").removeAttr("data-bhc"),this.$el.find(".slide-box .check-out").removeAttr("data-bhc"),this.checkInModel&&this.$el.find(".slide-box .check-in").attr("data-bhc","check_in:"+this.checkInModel.toDateKeyString()),this.checkOutModel&&this.$el.find(".slide-box .check-out").attr("data-bhc","check_out:"+this.checkOutModel.toDateKeyString())},applyNavigationSetting:function(key,hash,elements){_.contains(this.configuration.settings,key)&&_.each(hash,function(value,key){elements[key]=value})},beforeShowDay:function(calendar){return function(date){var tooltip,dateKeyString=Groupon.Getaways.Models.Date.dateToDateKeyString(date),dateModel=calendar.collection.findDateModelfromDateKeyString(dateKeyString),cssClass=["date_"+dateKeyString];return dateModel&&(_.each(calendar.defineClassesFor(dateModel),function(class_string){cssClass.push(class_string)}),(calendar.collection.isAvailableCheckIn(dateModel,calendar.currentOption())||calendar.collection.isNoAction(dateModel,calendar.currentOption()))&&(tooltip=calendar.calculateTooltipTitle(dateModel))),[!1,_.uniq(cssClass).join(" "),tooltip]}},calculateTooltipTitle:function(dateModel){var message,classArray,price,element=this.findElementFromDateModel(dateModel),option=dateModel.getOption(this.selectedOption),displayPrice=option?option.displayPrice():0,dealOption=this.currentOption();
return element.length>0&&(classArray=element.attr("class").split(/\s+/)),dateModel.isEqualTo(this.checkOutModel)?message=this.t("calendar.dates-check-out-text"):classArray&&_.include(classArray,"check-out-available")||this.collection.isNoAction(dateModel,dealOption)?(message=this.t("calendar.dates-not-available-for-check-in-text"),price=this.locale.formatCurrency(displayPrice,0)):(price=this.locale.formatCurrency(displayPrice,0),this.hasCheckIn()&&dateModel.isEqualTo(this.checkInModel)&&(message=dealOption.minimum>0||dealOption.maximum<365?this.nightsTextHover(dealOption):this.t("calendar.dates-check-in-text"))),Mustache.render(this.configuration.templates.tooltipContents,{message:message,price:price})},updateOptionsOnDateSelection:function(animate){if(this.checkInModel&&this.checkOutModel){var priceHash,minPrice;_.each(this.collection.unifiedDeal.options,function(option){priceHash=this.modifyOptionState(option,animate),priceHash&&(!minPrice||minPrice>priceHash.price)&&(minPrice=priceHash.price,marketPrice=priceHash.marketPrice)},this),$(".market-minimum").html(this.locale.formatCurrency(marketPrice,0)+"/"+this.t("calendar.word-night")),$(".from-minimum strong").text(this.locale.formatCurrency(minPrice,0)),$("li.enableAnimate").slideDown(),$("li.disableAnimate").delay(500).slideUp(),$(".averagePerNight").animate({height:"show",opacity:"show"},"slow")}},restoreOptionsOnDateClear:function(){var price,optionElement;$("li.disableAnimate").slideDown(),_.each(this.collection.unifiedDeal.options,function(option){price=this.optionsMinPrice[option.id],optionElement=this.$el.find("li#option-"+option.id),optionElement.find(".price .per-night").text(this.locale.formatCurrency(price,0)+"+/"+this.t("calendar.word-night")),optionElement.removeClass("disableAnimate")},this),$(".market-minimum").html(this.locale.formatCurrency(this.optionsMinPrice["minimum-market"])+"/"+this.t("calendar.word-night")),$(".from-minimum strong").text(this.locale.formatCurrency(this.optionsMinPrice["minimum-display"],0)),$(".averagePerNight").animate({height:"hide",opacity:"hide"},"slow")},changeMonthYear:function(calendar){return function(){_.defer(function(){calendar.updateCalendarDays()})}},changeToCurrentOption:function(){this.$el.find("input[type=radio]").parents("li").removeClass("checked"),$(".optionTooltip").remove(),this.$el.find("input[type=radio]").removeAttr("disabled"),_.each(this.collection.unifiedDeal.options,function(option){this.collection.isDealOptionSoldOut(option)&&this.$el.find("input[data-option="+option.id+"]").attr("disabled","disabled")},this);var inputElement=this.$el.find("input[data-option="+this.selectedOption+"]");inputElement.attr("checked","checked"),inputElement.parents("li").addClass("checked")},changeToFirstAvailableMonth:function(){var calendar,availableCheckIn;this.findInstance()&&(calendar=this.$el.find("#"+this.configuration.templates.Constants.calendarId),availableCheckIn=this.collection.findFirstAvailableCheckInModel(this.currentOption()),availableCheckIn&&availableCheckIn.toDate().getMonth()!==calendar.datepicker("getDate").getMonth()&&calendar.datepicker("setDate",availableCheckIn.id))},classArray:function(element){return $.trim($(element).attr("class")).split(" ")},clearBetweenHighlight:function(){var availability,dateModel;this.hasCheckInAndCheckOut()?(availability=this.collection.createAvailability(this.selectedOption,this.checkInModel,this.checkOutModel),_.each(_.filter(this.$el.find("td.between"),function(element){return dateModel=this.findDateModelFromElement(element),!availability.isBetweenSelectedStay(dateModel)},this),function(element){$(element).removeClass("between")})):this.$el.find("td").removeClass("between")},clearCheckedDates:function(){var $element=this.$el.find(".selected-dates");this.checkInModel=void 0,this.checkOutModel=void 0,this.$el.find("td").removeClass("check-in check-out"),$element.find(".check-in span").text("-"),$element.find(".check-out span").text("-"),$element.find(".nights h5").text(this.t("calendar.word-nights")),$element.find(".nights span").text("-")},clearTooltips:function(){$(".calendar-tooltip").remove()},clearDates:function(event){event&&event.preventDefault(),this.sendNotification.call(this,"Dates:Clear"),this.clearCheckedDates(),this.clearTooltips(),this.updateCalendarDays(),this.changeToCurrentOption(),this.restoreOptionsOnDateClear(),this.setSubtotalPrice(0),this.applyBloodhoundOnCalendar(),this.$el.find(".choose-date-header span").text(Mustache.render(this.t("calendar.header-choose-check-in-date"))),this.updateUrl();var slideBox=this.$el.find(".slide-box");slideBox.is(":visible")?slideBox.slideUp():this.checkInModel&&slideBox.slideDown()},clickAvailableDate:function(event){event.stopPropagation();var dateModel=this.findDateModelFromPageEvent(event),availability=this.collection.createAvailability(this.selectedOption,this.checkInModel||dateModel,this.checkOutModel);return this.hasCheckInAndCheckOut()&&availability.isBetweenSelectedStay(dateModel)?this.clearDates():(availability=this.currentOption().minimum>0?this.setCheckedDatesForMinimum(dateModel,availability):this.setCheckedDatesForNonMinimum(dateModel,availability),this.updateCalendarDays(),this.applyBloodhoundOnDateSelection(),this.hasCheckInAndCheckOut()?(this.setSubtotalPrice(availability.selectedStayPrice()),this.$el.find(".choose-date-header span").text(this.t("calendar.header-ready-to-book")),this.updateUrl()):this.hasCheckIn()?this.hasCheckOut()||this.$el.find(".choose-date-header span").text(this.t("calendar.header-choose-check-out-date")):this.$el.find(".choose-date-header span").text(this.t("calendar.header-choose-check-in-date"))),!0},clickConfirmationLink:function(calendar){return function(){return calendar.hasCheckInAndCheckOut()?(calendar.sendNotification.call(calendar,"Booking:Begin"),calendar.navigateToConfirmationPage()):calendar.hasCheckIn()&&!calendar.hasCheckOut()?calendar.showBookButtonTooltip(calendar.t("calendar.book-button-select-checkout-tooltip-text")):calendar.showBookButtonTooltip(calendar.t("calendar.book-button-tooltip-text")),!0}},clickOption:function(event){var optionId=$(event.target).attr("data-option"),option=this.currentOption(optionId);this.sendNotification.call(this,"Options:Click",{option:{id:optionId,externalOptionId:option.externalOptionId,maximum:option.maximum,minimum:option.minimum,title:option.title,subtitle:option.subtitle||""}}),this.setCalendarForOption(optionId),this.updateDates(optionId)},createBloodhoundOptionLabel:function(option){return"option:"+option.title.replace(/[^\w\-]*/g,"")+"-price-"+this.collection.getMinimumOptionPrice(option)},currentOption:function(){return this.collection.findDealOptionById(this.selectedOption)},defineClassesFor:function(dateModel){var classes=[],option=this.currentOption(),availability=this.collection.createAvailability(this.selectedOption,this.checkInModel||dateModel,this.checkOutModel);return this.collection.areAllOptionsSoldOut()||this.collection.isDealOptionSoldOut(this.selectedOption)?classes.push("unavailable"):availability&&this.hasCheckInAndCheckOut()?(this.betweenMinMaxDates(dateModel)&&this.collection.isAvailableCheckInOrCheckOut(dateModel,option,this.checkInModel,this.checkOutModel)&&availability.isInAvailableSelection(dateModel,option)&&!dateModel.isEqualTo(this.checkInModel)&&!dateModel.isEqualTo(this.checkOutModel)?classes.push("available"):this.collection.isValidStay(dateModel,option,availability,this.checkInModel,this.checkOutModel)?classes.push("check-out-available"):classes.push("unavailable"),availability.isBetweenSelectedStay(dateModel)&&classes.push("between")):this.hasCheckIn()?dateModel.isEqualTo(this.checkInModel)||(this.betweenMinMaxDates(dateModel)&&availability.isInAvailableSelection(dateModel,option)&&this.collection.isAvailableCheckInOrCheckOut(dateModel,option,this.checkInModel,this.checkInModel)?classes.push("available"):this.collection.isValidStay(dateModel,option,availability)?classes.push("check-out-available"):classes.push("unavailable")):this.betweenMinMaxDates(dateModel)===!1?classes.push("unavailable"):this.collection.isAvailableCheckIn(dateModel,option)?classes.push("available"):this.collection.isAvailableCheckOut(dateModel,option)||this.collection.isValidStay(dateModel,option,availability)?classes.push("check-out-available"):this.collection.isNoAction(dateModel,option)?classes.push("no-action-available"):classes.push("unavailable"),dateModel.isEqualTo(this.checkInModel)&&classes.push("check-in"),dateModel.isEqualTo(this.checkOutModel)&&classes.push("check-out"),dateModel.isBlackout(this.selectedOption)&&classes.push("blackout"),classes},betweenMinMaxDates:function(dateModel){return dateModel.toDate()>=this.minDate()&&dateModel.toDate()<=this.maxDate()},destroyTooltipForElement:function(element){$(element).removeData("tooltip")},disableBuyButton:function(reason,message){this.$el.find(".book-button").attr("disabled","disabled").addClass("disabled "+reason).html(message)},findDateModelFromElement:function(element){var dateModel,$element=$(element);if($element.attr("class")){var time=this.findTimeFromElement($element);time&&(dateModel=this.collection.findDateModelFromDate(time))}return dateModel},findDateModelFromPageEvent:function(event){var source=this.findParentTd(event.target);return this.findDateModelFromElement(source)},findElementFromDateModel:function(dateModel){return $(".date_"+dateModel.toDateKeyString()).first()},findInstance:function(){var element=this.$el.find("#"+this.configuration.templates.Constants.calendarId).get(0);return element?$.datepicker._getInst(element):void 0},findParentTd:function(element){var $element=$(element);return $element.is("td")?$element:$element.parents("td")},findTimeFromElement:function(element){return this.findTimeFromElementClasses(this.classArray(element))},findTimeFromElementClasses:function(array){var classString=_.find(array,function(className){return-1!==className.search(/^date_\d{4}-\d{2}-\d{2}/)})||"";return classString.split("_")[1]},hasCheckIn:function(){return!_.isEmpty(this.checkInModel||this.checkOutModel)},hasCheckOut:function(){return!_.isEmpty(this.checkOutModel)},hasCheckInAndCheckOut:function(){return!_.isEmpty(this.checkOutModel)},includes:function(element,classes){return _.find(classes,function(class_name){return _.include(this.classArray(element),class_name)},this)},isDealNoLongerAvailable:function(){return"no_longer_available"===this.configuration.deal.status||"expired"===this.configuration.deal.status},isDealNotAvailableYet:function(){return"not_yet"===this.configuration.deal.status},maxDate:function(){return this.configuration.maxDate||this.collection.findMaxDate()},minDate:function(){return this.configuration.minDate||this.collection.findMinDate(this.currentOption())},minDateAllOptions:function(){return this.configuration.minDate||this.collection.findMinDateAllOptions()},minimumNightsText:function(option){return"true"==this.t("calendar.min-value-first")?option.minimum?this.t("calendar.option-minimum-night")+" "+option.minimum:"":option.minimum?option.minimum+" "+this.t("calendar.option-minimum-night"):""},minimumNightsTextHover:function(dealOption){return"true"==this.t("calendar.min-value-first")?this.t("calendar.hover-minimum-text")+" "+dealOption.minimum:dealOption.minimum+" "+this.t("calendar.hover-minimum-text")},modifyOptionState:function(option,animate){var priceHash,availability,elem=this.$el.find("li#option-"+option.id);return this.collection.isAvailableCheckIn(this.checkInModel,option)&&this.collection.isAvailableCheckOut(this.checkOutModel,option)&&this.collection.isValidCheckOut(this.checkInModel,this.checkOutModel,option)?(availability=this.collection.createAvailability(option.id,this.checkInModel,this.checkOutModel),avgPrice=availability.selectedStayPrice()/availability.selectedStayLength(),marketPrice=this.strikeSubTotal()/availability.selectedStayLength(),priceHash={price:avgPrice,marketPrice:marketPrice},elem.find(".price .per-night").text(this.locale.formatCurrency(avgPrice,0)+"/"+this.t("calendar.word-night")),animate||elem.hasClass("disabled")?(elem.removeClass("disableAnimate"),elem.addClass("enableAnimate")):elem.show()):animate?(elem.removeClass("enableAnimate"),elem.addClass("disableAnimate"),elem.find(".price .per-night").text(this.locale.currencySymbol()+"--/"+this.t("calendar.word-night"))):elem.hide(),priceHash},minimumAndMaximumNightsText:function(option,hover){var num,text;return option.minimum&&option.maximum<365?(num=option.minimum==option.maximum?option.minimum:option.minimum+"-"+option.maximum,text=hover?this.t("calendar.hover-stay-text"):this.t("calendar.option-stay-night")):option.minimum?(num=option.minimum,text=hover?this.t("calendar.hover-minimum-text"):this.t("calendar.option-minimum-night")):option.maximum<365&&(num=option.maximum,text=hover?this.t("calendar.hover-maximum-text"):this.t("calendar.option-maximum-night")),{numberPart:num,textPart:text}},nightsText:function(option){var text=this.minimumAndMaximumNightsText(option);return"true"==this.t("calendar.min-value-first")?text.numberPart?text.textPart+" "+text.numberPart:"":text.numberPart?text.numberPart+" "+text.textPart:""},nightsTextHover:function(dealOption){var text=this.minimumAndMaximumNightsText(dealOption,!0);return"true"==this.t("calendar.min-value-first")?text.textPart+" "+text.numberPart:text.numberPart+" "+text.textPart},navigateToConfirmationPage:function(){var form=$(Mustache.render(this.configuration.templates.confirmationForm,{action:this.currentOption().confirmation||this.configuration.confirmation,elements:this.navigationElements().join(""),method:this.configuration.formMethod}));this.$el.append(form),_.delay(function(form){form.submit()},200,form)},navigationElements:function(option){var option=this.currentOption();this.$el.find(".subtotal .price .amount").text();var elements=[],elementHash={check_in:this.checkInModel.id,check_out:this.checkOutModel.id,getaways_booking_option:option.id,pledge_id:option.externalOptionId};return _.each(elementHash,function(value,key){elements.push(Mustache.render(this.configuration.templates.confirmationFormElement,{type:"hidden",name:key,value:value}))},this),elements},onSelect:function(calendar){return function(date,instance){instance.inline=!1,calendar.clearTooltips()}},parameterNumberOfRooms:"1",parameterNumberOfAdults:"2",parameterNumberOfChildren:"",parameterChildrenAges:"",parseUrlString:function(){var hashString=window.location.hash,params=null;if(hashString){hashString=hashString.substring(1),params={};for(var keyValue,pattern=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s)};keyValue=pattern.exec(hashString);)""!=keyValue[2]&&(params[decode(keyValue[1])]=decode(keyValue[2]))}return params},preloadImages:function(){_.each(this.configuration.preloadImages,function(path){document.createElement("img").src=path})},prePopulate:function(){var checkin=this.configuration.checkInDate,checkout=this.configuration.checkOutDate,dateValid=!1;if(checkin&&checkout){var checkInDateModel=this.collection.findDateModelFromDate(checkin),checkOutDateModel=this.collection.findDateModelFromDate(checkout),minPrice=0;_.each(this.collection.unifiedDeal.options,function(option){if(this.collection.isAvailableCheckIn(checkInDateModel,option)&&this.collection.isAvailableCheckOut(checkOutDateModel,option)&&this.collection.isValidCheckOut(checkInDateModel,checkOutDateModel,option)){dateValid=!0;var availability=this.collection.createAvailability(option.id,checkInDateModel,checkOutDateModel),selectedStayPrice=availability.selectedStayPrice();if(0===minPrice||minPrice>selectedStayPrice){minPrice=selectedStayPrice,this.setCheckIn(checkInDateModel),this.setCheckOut(checkOutDateModel);var inputOption=this.$el.find("li#option-"+option.id);inputOption.addClass("checked"),inputOption.siblings("[class^=option]").removeClass("checked"),this.selectedOption=inputOption.find("input").val(),this.changeToCurrentOption(),this.updateCalendarDays(),this.applyBloodhoundOnDateSelection(),this.setSubtotalPrice(selectedStayPrice),this.$el.find(".choose-date-header span").text(this.t("calendar.header-ready-to-book"));var calendar=this.$el.find("#"+this.configuration.templates.Constants.calendarId);checkInDateModel&&checkInDateModel.toDate().getMonth()!==calendar.datepicker("getDate").getMonth()&&calendar.datepicker("setDate",checkInDateModel.id)}}},this),this.updateOptionsOnDateSelection(!1)}return dateValid},render:function(){if(this.collection.hasNoOptions())return this.sendNotification.call(this,"Options:Empty");this.locale.setCurrencyCode(this.collection.unifiedDeal.options[0].currency||"USD"),this.optionsMinPrice={},this.removeMessageAndImage(),this.renderBaseMinimum(),this.renderOptions();var config=_.extend(this.config.datepickerOptions,{beforeShowDay:this.beforeShowDay(this),onChangeMonthYear:this.changeMonthYear(this),onSelect:this.onSelect(this),minDate:this.minDateAllOptions(),maxDate:this.maxDate()});this.$el.append(Mustache.render(this.configuration.templates.dateHeader,{text:this.t("calendar.header-choose-check-in-date")})),this.preloadImages();var calendarFragment=$(Mustache.render(this.configuration.templates.calendar,{id:this.configuration.templates.Constants.calendarId,bloodhoundWidget:"getawaysCalendar",checkin:this.t("calendar.dates-check-in-text"),checkout:this.t("calendar.dates-check-out-text"),choose:"-",length:"-",linkText:this.t("calendar.book-clear-dates"),nights:this.t("calendar.word-nights")})),currentLocale=this.locale.getLocale();"en_US"!==currentLocale&&(currentLocale=currentLocale.replace("_","-"),$.datepicker.regional[currentLocale]||(currentLocale=currentLocale.split("-")[0]),$.datepicker.setDefaults($.datepicker.regional[currentLocale])),calendarFragment.find("#"+this.configuration.templates.Constants.calendarId).datepicker(config),this.$el.append(calendarFragment),this.renderBookButtonFragment(),this.renderCustomerServiceMessageFragment(),this.renderHoverTooltips();var populated=this.prePopulate();if(populated||this.changeToFirstAvailableMonth(),Groupon.Getaways.isCalendarRendered=!0,this.vent&&this.vent.trigger("calendarRendered"),this.collection.areAllOptionsSoldOut()&&this.renderSoldOutBanner(),this.isDealNotAvailableYet()&&(this.disableBuyButton("not_yet",this.t("calendar.book-button-not-yet-text")),this.adjustBuyButtonTextSize(newText,"medium_text")),this.isDealNoLongerAvailable()){var newText=this.t("calendar.book-button-no-longer-available-text");this.disableBuyButton("no_longer_available",newText),this.adjustBuyButtonTextSize(newText,"big_text")}return"function"==typeof this.configuration.renderCallback&&this.configuration.renderCallback(),this.applyBloodhoundOnCalendar(),this},renderAvailableCheckedDates:function(){if(this.hasCheckInAndCheckOut()){var availability=this.collection.createAvailability(this.selectedOption,this.checkInModel,this.checkOutModel);this.$el.find("td").removeClass("check-in check-out"),this.findElementFromDateModel(availability.checkInModel).addClass("check-in"),this.findElementFromDateModel(availability.checkOutModel).addClass("check-out")}this.clearBetweenHighlight()},renderAvailableHoverState:function(event){var source=this.findParentTd(event.target),sourceDateModel=this.findDateModelFromElement(source),selection=[];if(this.hasCheckIn()){var availability=this.collection.createAvailability(this.selectedOption,this.checkInModel,this.checkOutModel);availability.isInAvailableSelection(sourceDateModel)&&(this.hasCheckInAndCheckOut()?sourceDateModel.isLessThan(this.checkInModel)?(availability.checkInModel=sourceDateModel,this.$el.find("td.check-in").removeClass("check-in"),source.addClass("check-in")):sourceDateModel.isGreaterThan(this.checkOutModel)&&(availability.checkOutModel=sourceDateModel,this.$el.find("td.check-out").removeClass("check-out"),source.addClass("check-out")):availability.checkOutModel=sourceDateModel,selection=availability.selectionIncluded())}else selection.push(sourceDateModel);this.renderBetweenHighlight(selection)},renderAvailableOptions:function(){_.each(this.collection.unifiedDeal.options,function(option){if(!this.hasAValidOptionRange(option.id)){var inputElement=this.$el.find("input[data-option="+option.id+"]");inputElement.attr("disabled","disabled")}},this)},renderBaseMinimum:function(){var price=0,marketPrice=0,minimumOptionModel=this.collection.getMinimumOptionModel();minimumOptionModel&&(price=minimumOptionModel.displayPrice(),marketPrice=minimumOptionModel.marketPrice()),this.optionsMinPrice["minimum-display"]=price,this.optionsMinPrice["minimum-market"]=marketPrice,this.$el.find(".header").prepend(Mustache.render(this.configuration.templates.baseMinimum,{from:this.t("calendar.word-from"),night:this.t("calendar.word-night"),minimum_price:this.locale.formatCurrency(price,0),market_price:this.locale.formatCurrency(marketPrice,0)})),_.isEmpty(this.collection.unifiedDeal.descriptor)||this.$el.append(Mustache.render(this.configuration.templates.dealDescription,{text:this.collection.unifiedDeal.descriptor}))},renderBetweenHighlight:function(rangeOfModels){this.clearBetweenHighlight(),_.each(rangeOfModels,function(dateModel){this.$el.find(".date_"+dateModel.toDateKeyString()).removeClass("unavailable").addClass("between")},this)},renderBookButtonFragment:function(){var currency=Mustache.render(this.configuration.templates.bookButtonCurrency,{currency:this.locale.currencySymbol()}),price=Mustache.render(this.configuration.templates.bookButtonPrice,{price:this.locale.formatNumber(0,0)});currency=$.trim(currency),price=$.trim(price);var value=this.locale.format().replace("%v",price).replace("%s",currency),bloodhoundWidgetName="getawaysBookButton";"button-book-continue"==this.configuration.deal.buttonText&&(bloodhoundWidgetName="getawaysContinueButton");var keys={bloodhoundWidget:bloodhoundWidgetName,book:this.t("calendar."+(this.configuration.deal.buttonText||"button-book-text")),selectDatesMessage:this.t("calendar.book-select-date-text"),subtitleHeader:this.t("calendar.book-subtotal-text"),value:value};this.$el.append(Mustache.render(this.configuration.templates.bookButton,keys));var buyBtn=this.$el.find(".book-button");buyBtn.click(this.clickConfirmationLink(this)),"button-book-continue"==this.configuration.deal.buttonText&&buyBtn.addClass("continue-btn")},renderCalendarSlideBox:function(){this.$el.find(".slide-box");var $element=this.$el.find(".selected-dates");if(this.checkInModel&&$element.find(".check-in span").text(this.checkInModel.toFormattedDateString(this.locale.dateFormat())),this.checkOutModel){var availability=this.collection.createAvailability(this.selectedOption,this.checkInModel,this.checkOutModel);$element.find(".check-out span").text(this.checkOutModel.toFormattedDateString(this.locale.dateFormat())),$element.find(".nights h5").text(1===availability.selectedStayLength()?this.t("calendar.word-night"):this.t("calendar.word-nights")),$element.find(".nights span").text(availability.selectedStayLength())}this.hasCheckIn()&&this.$el.find(".slide-box").is(":hidden")&&this.toggleCalendarSlideBox()},renderClosedDeal:function(){var description=this.configuration.deal.closedDealMessage;this.$el.find(".loading").hide(),this.$el.find("li.message").html($(Mustache.render(this.configuration.templates.errorLoading,{description:description}))),this.$el.find(".calendar-placeholder").hide(),this.$el.find(".calendar-error-placeholder").show(),this.$el.find("li.message").attr("data-bhw","getawaysCalendarLoadFailure"),$("p.description").appendTo("li.message")},toggleCalendarSlideBox:function(){this.$el.find(".slide-box").slideToggle()},renderCustomerServiceMessageFragment:function(){var keys={message:this.t("calendar.support-message-text"),phoneNumber:this.t("calendar.support-phone-number")};keys.message&&keys.phoneNumber&&this.$el.append(Mustache.render(this.configuration.templates.csMessage,keys))},renderOptions:function(){var displayOrder=0;this.$el.append(Mustache.render(this.configuration.templates.averagePerNight,{text:this.t("calendar.average-price-text")})),this.$el.find(".averagePerNight").hide(),_.each(this.collection.unifiedDeal.options,function(option){displayOrder++;var opts=_.extend({template:this.configuration.templates.optionTooltip},this.config.bootstrapTooltipOption),subtitle=option.subtitle||"",subtitleTruncated=subtitle;subtitleTruncated.length>20&&(subtitleTruncated=subtitleTruncated.slice(0,20)+"...");var minOptionPrice=this.collection.getMinimumOptionPrice(option),disabled=this.collection.isDealOptionSoldOut(option),optionFragment=Mustache.render(this.configuration.templates.option,_.extend(option,{id:option.id,bloodhound:this.createBloodhoundOptionLabel(option),setClass:disabled?"sold-out":"",disabled:disabled?"disabled":"",night:this.t("calendar.word-night"),price:this.locale.formatCurrency(minOptionPrice,0),title:option.title,description:subtitle,description_truncated:subtitleTruncated,nightsRestrictions:this.nightsText(option)}));this.$el.append(optionFragment),this.$el.find("#option-"+option.id).tooltip(opts),this.optionsMinPrice[option.id]=minOptionPrice},this);var inputOption=this.$el.find("li input[disabled!=disabled]");inputOption.length>0?(inputOption.first().parents("li").addClass("checked"),this.setCalendarForOption(),this.selectedOption=inputOption.val(),this.changeToCurrentOption()):this.selectedOption=this.collection.unifiedDeal.options[0].id},renderHoverTooltips:function(){_.each(this.$el.find("td"),function(element){this.includes(element,["available","check-out-available"])||$(element).removeAttr("title")},this),_.each(this.$el.find("td.available,td.check-in,td.check-out,td.check-out-available,td.no-action-available"),function(element){this.renderHoverTooltipForElement(element)},this)},renderHoverTooltipForElement:function(element){var opts=_.extend({template:Mustache.render(this.configuration.templates.tooltip,{classes:"calendar-tooltip"})},this.config.bootstrapTooltipHover);this.setPriceTitleForElement(element),$(element).tooltip(opts)},removeMessageAndImage:function(){this.$el.find(".message").remove(),this.$el.find(".image").remove()},renderOptionHoverState:function(event){$(event.target).tooltip("show")},renderSoldOutBanner:function(){this.$el.find(".book-button").addClass("state-sold-out"),this.$el.find(".book-button span").text(this.t("calendar.book-button-sold-out-text"))},renderErrorMessage:function(){var header=this.t("calendar.loading-failed-header")||this.errorFallback.header,description=this.t("calendar.loading-failed-description")||this.errorFallback.description;this.$el.find("li.message").html($(Mustache.render(this.configuration.templates.errorLoading,{header:header,description:description}))),this.$el.find("li.message").attr("data-bhw","getawaysCalendarLoadFailure"),this.$el.find(".loading").addClass("failure")},sendNotification:function(){var args=Array.prototype.slice.call(arguments);if("function"==typeof this.configuration.eventHandler){var object={deal:{id:this.configuration.deal.id,peramlink:this.configuration.deal.permalink},locale:this.configuration.locale,message:"Library:Solar-1582:Calendar:"+args[0],timestamp:+new Date};_.each(args.slice(1),function(extraArgs){_.each(extraArgs,function(value,key){object[key]=value})}),this.configuration.eventHandler.call(this,object)}else"function"==typeof Groupon.Getaways.triggerEvent&&Groupon.Getaways.triggerEvent.call(this,args[0]);return!1},setCheckedDatesForMinimum:function(dateModel,availability){var checkIn=this.checkInModel||dateModel,checkOut=this.checkOutModel;dateModel.isLessThan(checkIn)?checkIn=dateModel:dateModel.isGreaterThan(checkOut)&&(checkOut=dateModel);var availability=this.collection.createAvailability(this.selectedOption,checkIn,checkOut);return this.sendNotification.call(this,"Dates:Selected",{"check-in":availability.checkInModel.id},{"check-out":availability.checkOutModel&&availability.checkOutModel.id}),this.setCheckIn(availability.checkInModel),this.setCheckOut(availability.checkOutModel),availability},setCheckedDatesForNonMinimum:function(dateModel,availability){var checkIn=this.checkInModel,checkOut=this.checkOutModel;if(checkIn?!checkOut&&this.hasCheckIn()?checkOut=dateModel:dateModel.isLessThan(checkIn)?checkIn=dateModel:dateModel.isGreaterThan(checkOut)&&(checkOut=dateModel):checkIn=dateModel,checkIn.isGreaterThan(checkOut))var availability=this.collection.createAvailability(this.selectedOption,checkOut,checkIn);else var availability=this.collection.createAvailability(this.selectedOption,checkIn,checkOut);return this.sendNotification.call(this,"Dates:Select",{"check-in":availability.checkInModel.id},{"check-out":availability.checkOutModel&&availability.checkOutModel.id}),this.setCheckIn(availability.checkInModel),this.setCheckOut(availability.checkOutModel),availability},setDelayTooltip:function(element){var opts=_.extend({template:Mustache.render(this.configuration.templates.tooltip,{classes:"calendar-tooltip"})},this.config.bootstrapTooltipDelay);this.destroyTooltipForElement(element),element.tooltip(opts).tooltip("show"),_.delay(function(element,calendar){var dateModel=calendar.findDateModelFromElement(element);element.tooltip("hide"),calendar.destroyTooltipForElement(element),!calendar.availability||calendar.availability.isCheckIn(dateModel)||calendar.availability.isCheckOut(dateModel)||calendar.renderHoverTooltipForElement(element)},2e3,element,this)},setCalendarForOption:function(option){option&&(this.selectedOption=+option,this.setPriceTitles(["available"]),this.changeToFirstAvailableMonth(),this.findInstance()&&$("#option-"+option).tooltip("show"))},setCheckIn:function(dateModel){if(dateModel){this.checkInModel=dateModel;var elementFromDateModel=this.findElementFromDateModel(this.checkInModel);elementFromDateModel.get(0)&&this.setCheckInCalendarElement(elementFromDateModel)}},setCheckInCalendarElement:function(element){this.calculateTooltipTitle(this.findDateModelFromElement(element));var message=this.t("calendar.dates-check-in-text");element.attr("title",message).attr("data-original-title",message),this.setDelayTooltip(element)},setCheckOut:function(dateModel){dateModel&&(this.checkOutModel=dateModel,this.setCheckOutCalendarElement(this.findElementFromDateModel(this.checkInModel)))},setCheckOutCalendarElement:function(element){element.attr("title",this.t("calendar.dates-check-out-text")).attr("data-original-title",this.t("calendar.dates-check-out-text")),this.setDelayTooltip(element)},setPriceTitles:function(classesArray){var classing=classesArray?"."+classesArray.join("."):"";_.each(this.$el.find("td"+classing),this.setPriceTitleForElement,this)},setPriceTitleForElement:function(element){var $element=$(element),dateModel=this.findDateModelFromElement($element);if(dateModel){var price=this.calculateTooltipTitle(dateModel);$element.attr("title",price).attr("data-original-title",price)}},setSubtotalPrice:function(price){var $amount=this.$el.find(".subtotal .price .amount"),locale=this.locale,initialAmount=+$amount.text().replace(/\D/g,"");Groupon.Getaways.Utility.animateNumber(initialAmount,price,function(current){$amount.text(locale.formatNumber(current,0))});var datesMessage,$element=this.$el.find(".subtotal .price"),$message=this.$el.find(".subtotal .select-dates-message");if(0===price)$element.removeClass("booked"),datesMessage=this.t("calendar.dates-choose-date-text");else{$element.addClass("booked");var strikethroughSubTotal=this.strikeSubTotal(),strikethroughDiff=locale.formatPercent((strikethroughSubTotal-price)/strikethroughSubTotal,0);datesMessage=strikethroughDiff.match("Infinity")?"&nbsp;":'<span class="strikethrough">'+locale.formatCurrency(strikethroughSubTotal,0)+"</span> "+strikethroughDiff+"% "+this.t("calendar.percentage-off"),this.$el.find(".book-button span div").remove(),this.$el.find(".book-button span").append('<div data-bhc="price:'+price+'"></div>')}$message.html(datesMessage)},showBookButtonTooltip:function(title){var tooltipDelay=1500,bookButton=this.$el.find(".book-button");bookButton=this.$el.find(".book-button"),bookButton.attr("data-original-title",title),bookButton.tooltip({template:Mustache.render(this.configuration.templates.tooltip,{classes:"calendar-tooltip book-btn-tooltip"}),trigger:"manual",placement:"top"}),bookButton.tooltip("show"),setTimeout(function(){bookButton.tooltip("hide")
},tooltipDelay)},strikeSubTotal:function(){var availability=this.collection.createAvailability(this.selectedOption,this.checkInModel,this.checkOutModel);return _.reduce(availability.selectedStay(),function(price,dateModel){return price+=dateModel.getOption(this.selectedOption).marketPrice()},0,this)},t:function(key){return this.locale.t(key)},updateCalendarDays:function(){var instance=this.findInstance();instance&&$.datepicker._updateDatepicker(instance),this.clearTooltips(),this.renderCalendarSlideBox(),this.renderHoverTooltips()},updateDealStatus:function(status){status.purchasable===!1&&(this.disableBuyButton(status.reason,status.message),"sold_out"===status.reason&&this.renderSoldOutBanner())},updateDates:function(optionId){if(this.checkOutModel){var option=this.collection.findDealOptionById(optionId),days=(this.checkOutModel.millis()-this.checkInModel.millis())/864e5;if(days>=option.minimum)return this.updateCalendarDays(),this.changeToCurrentOption(),this.updateSubtotalPrice(optionId),this.applyBloodhoundOnDateSelection(),void 0}this.clearDates()},updateSubtotalPrice:function(optionId){if(this.checkInModel&&this.checkOutModel){var availability=this.collection.createAvailability(optionId,this.checkInModel,this.checkOutModel);this.setSubtotalPrice(availability.selectedStayPrice())}},updateUrl:function(){var hashObj={};hashObj.check_in=this.checkInModel?this.checkInModel.toDateKeyString():"",hashObj.check_out=this.checkOutModel?this.checkOutModel.toDateKeyString():"";var elementsHash=$.extend({},this.parseUrlString(),hashObj);window.location.hash=$.param(elementsHash)}})}),Groupon.Getaways.module("Views.CalendarConfiguration",function(){var captureOrThrow=function(){var args=Array.prototype.slice.call(arguments);if(args[3]&&void 0===args[1])throw args[3];this[args[0]]=args[1]||args[2]},parseUrlHash=function(hash){for(var keyValue,params={},pattern=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s)};keyValue=pattern.exec(hash);)params[decode(keyValue[1])]=decode(keyValue[2]);return params};return function(options){var DEFAULT_FORM_METHOD="GET";options=options||{};var checkIn,checkOut,hash=window.location.hash;if(hash){var params=parseUrlHash(hash.substring(1));checkIn=params.check_in,checkOut=params.check_out,checkIn>=checkOut&&(checkIn=void 0,checkOut=void 0)}return options.confirmation||(options.confirmation=options.deal.permalink+"/confirmation"),options.imageUrl&&-1==options.imageUrl.indexOf("/")&&(options.imageUrl="assets/"+options.imageUrl),captureOrThrow.call(this,"confirmation",options.confirmation,void 0,"A confirmation view is required"),captureOrThrow.call(this,"deal",options.deal,void 0,"A deal is required"),captureOrThrow.call(this,"formMethod",options.method&&options.method.toUpperCase(),DEFAULT_FORM_METHOD),captureOrThrow.call(this,"eventHandler",options.eventHandler,{}),captureOrThrow.call(this,"locale",options.locale,"en-US"),captureOrThrow.call(this,"locales",options.locales,void 0),captureOrThrow.call(this,"preloadImages",options.preloadImages,[]),captureOrThrow.call(this,"selector",options.selector,"#travel-calendar"),captureOrThrow.call(this,"settings",options.settings,[]),captureOrThrow.call(this,"templates",options.templates,Groupon.Getaways.Mustache),captureOrThrow.call(this,"url",options.url,"/getaways-api"),captureOrThrow.call(this,"version",options.version,"v1"),captureOrThrow.call(this,"imageUrl",options.imageUrl,"/getaways-api"),captureOrThrow.call(this,"localeUrl",options.localeUrl,"/getaways-api/v1"),captureOrThrow.call(this,"inventoryUrl",options.inventoryUrl,"/getaways-api/v1"),captureOrThrow.call(this,"minDate",options.minDate,void 0),captureOrThrow.call(this,"maxDate",options.maxDate,void 0),captureOrThrow.call(this,"checkInDate",checkIn,void 0),captureOrThrow.call(this,"checkOutDate",checkOut,void 0),captureOrThrow.call(this,"renderCallback",options.renderCallback,void 0),this}}),null!=window.Getaways?window.Getaways:window.Getaways={},null!=window.Getaways.Calendar?window.Getaways.Calendar:window.Getaways.Calendar={},Getaways.Calendar.init=function(param$,done){var calendar;return calendar=param$.calendar,calendar?Groupon.Getaways.$(function(){var configuration,instance;return _.extend(calendar,{settings:["rooms","adults"],imageUrl:"getaways-",inventoryUrl:""+payload.rootUrl+"/inventory_proxy",locales:{localizer:I18n.translate,prefix:"js.modules.getaways.booking_calendar.",obj:I18n},eventHandler:function(object){return OptimizeSuite.TrackingHub.add("bookingCalendar",object)},renderCallback:function(){return done()}}),configuration=new Groupon.Getaways.Views.CalendarConfiguration(calendar),instance=new Groupon.Getaways.Views.Calendar({configuration:configuration})}):done()},function(global){function require(file,parentModule){if({}.hasOwnProperty.call(require.cache,file))return require.cache[file];var resolved=require.resolve(file);if(!resolved)throw new Error("Failed to resolve module "+file);var module$={id:file,require:require,filename:file,exports:{},loaded:!1,parent:parentModule,children:[]};parentModule&&parentModule.children.push(module$);var dirname=file.slice(0,file.lastIndexOf("/")+1);return require.cache[file]=module$.exports,resolved.call(module$.exports,module$,module$.exports,dirname,file),module$.loaded=!0,require.cache[file]=module$.exports}require.modules={},require.cache={},require.resolve=function(file){return{}.hasOwnProperty.call(require.modules,file)?require.modules[file]:void 0},require.define=function(file,fn){require.modules[file]=fn},function(){var cwd="/";return{title:"browser",version:"v0.10.26",browser:!0,env:{},argv:[],nextTick:global.setImmediate||function(fn){setTimeout(fn,0)},cwd:function(){return cwd},chdir:function(dir){cwd=dir}}}(),require.define("/src/market-rate.js",function(module){module.exports=function(){var MarketRate={};return MarketRate.Errors=require("/src/errors/errors-index.js",module),MarketRate.Models=require("/src/models/models-index.js",module),MarketRate.Collections=require("/src/collections/collections-index.js",module),MarketRate.Views=require("/src/views/views-index.js",module),MarketRate}()}),require.define("/src/views/views-index.js",function(module){module.exports={Templates:require("/src/views/templates.js",module),SearchHeaderView:require("/src/views/search-header-view.js",module),SearchFooterView:require("/src/views/search-footer-view.js",module),CalendarSelection:require("/src/views/calendar-selection.js",module),CalendarRoomSearch:require("/src/views/calendar-room-search.js",module),RoomOptions:require("/src/views/room-options.js",module),ChildSelections:require("/src/views/child-selections.js",module),RoomSelection:require("/src/views/room-selection.js",module),RoomInstance:require("/src/views/room-instance.js",module),GallerySearch:require("/src/views/gallery-search.js",module),DestinationFieldView:require("/src/views/destination-field-view.js",module)}}),require.define("/src/views/destination-field-view.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"destinationAutoComplete",name:"DestinationFieldView",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options])},initiate:function(){var view=this;this.$el.find("#dest_autocomplete").each(function(){var input=$(this),holder=input.attr("holder");""===$.trim(input.val())&&input.val(holder),input.attr("placeholder",holder)}),this.$el.find("#dest_autocomplete").focus(function(e){var input=$(this),holder=input.attr("holder");input.val()===holder&&input.val(""),input.attr("placeholder",""),view.options.applyPopover(view.$el),view.showTip(e)}),this.$el.find("#dest_autocomplete").focusout(function(){var input=$(this),holder=input.attr("holder");""===$.trim(input.val())&&input.val(holder),input.attr("placeholder",holder)}),$.widget("custom.catcomplete",$.ui.autocomplete,{options:{appendTo:view.$el.find("#autocomplete-wrapper"),delay:300,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,response:null,search:null},_renderMenu:function(ul,items){view.renderMenu(this,ul,items)},_renderItem:function(ul,item){var itemContentTemplate="<a destination_id=<%= id %> destination_slug=<%= slug %>><%= label %></a>",itemContent=_.template(itemContentTemplate,{id:item.id,slug:item.slug,label:item.label});return $("<li></li>").data("ui-autocomplete-item",item).append(itemContent).appendTo(ul)}}),this.$el.find("#dest_autocomplete").catcomplete({autoFocus:!0,open:function(){view.menuOpenFunction()},source:function(request,response){view.loadDestinations(request,response,view)},minLength:3,select:function(event,ui){TrackingHub.add("AutoCompleteSelected",ui),view.$el.find("#destination_id").val(ui.item.id),view.$el.find("#destination_slug").val(ui.item.slug)},focus:function(event,ui){ui.item&&event.preventDefault()},close:function(){view.menuCloseFunction()}}),this.$el.find("#dest_autocomplete").focus(function(){$(this).parents(".destination-box").removeClass("validation-fail"),$(this).parents(".icon-selection-box").removeClass("validation-fail")}),this.$el.find("span[role=status]").hide()},clear:function(){this.$el.find("#dest_autocomplete").val(""),this.$el.find("#destination_id").val(""),this.$el.find("#destination_slug").val("")},formatDestinations:function(destinationList,resultsPerCategory){var autocompleteDestinations=[];return 0===destinationList.length?autocompleteDestinations.push({label:this.options.Localizer.translateText("no_result_found")}):_.each(_.range(destinationList.length),function(categoryIndex){var destinations,category=destinationList[categoryIndex];destinations=category.destinations.slice(0,resultsPerCategory),_.each(_.range(destinations.length),function(destinationIndex){var destination=destinations[destinationIndex];autocompleteDestinations.push({id:destination.uuid,label:destination.name,category:category.group.name,slug:destination.city_slug})})}),autocompleteDestinations},loadDestinations:function(request,response,view){var rootUrl=view.options.searchConfiguration.destinationUrl;$.ajax(""+rootUrl+"/autocomplete_destn.json",{dataType:"json",data:{prefix:request.term},success:function(responseData){var autocompleteDestinations;resultsPerCategory=view.options.views.autoComplete.resultsPerCategory,autocompleteDestinations=view.formatDestinations(responseData.destinationList,resultsPerCategory),TrackingHub.add("AutoComplete",{destinations:autocompleteDestinations,searchPattern:request.term}),response(autocompleteDestinations)},err:function(request,err){console.log(err)}})},getText:function(element){return element&&0!==element.length?element.textContent||element.innerText:""},getTextWidth:function(){var string=this.$el.find("#dest_autocomplete").val();string=string.replace(/ /g,"."),""==string&&(string=this.options.Localizer.translateText("destinationText"));var textWidthSpan=Templates.textWidthSpan;$("body").append(textWidthSpan),$("#destTextWidth").text(string);var width=$("#destTextWidth").width()+1;return $("#destTextWidth").remove(),width},menuCloseFunction:function(){var destName,isNotSelected,li,i,menuItems,item;if(this.$el.find("#autocomplete-wrapper").hide(),isNotSelected=!0,destName=this.$el.find("#dest_autocomplete").val(),destName.length<this.$el.find("#dest_autocomplete").catcomplete("option","minLength"))return this.$el.find("#destination_id").val(""),this.$el.find("#tooltip-autocomplete").css("display","block"),void 0;for(menuItems=this.$el.find("ul.ui-autocomplete").find("li.ui-menu-item"),i=0;i<menuItems.length;i++)li=menuItems[i],this.getText(li)===destName&&(isNotSelected=!1);isNotSelected&&(item=this.$el.find("ul.ui-autocomplete").find("li.ui-menu-item a")[0],this.$el.find("#dest_autocomplete").val(null!=item?this.getText(this.$el.find("ul.ui-autocomplete").find("li.ui-menu-item")[0]):""),this.$el.find("#destination_id").val(null!=item?item.getAttribute("destination_id"):void 0),this.$el.find("#destination_slug").val(null!=item?item.getAttribute("destination_slug"):void 0)),this.$el.find("#dest_autocomplete").width(this.getTextWidth())},menuOpenFunction:function(){this.$el.find(".ui-autocomplete").removeAttr("style"),this.$el.find("#autocomplete-wrapper").show(),this.$el.find("#tooltip-autocomplete").css("display","none")},onClearButtonClick:function(view){view.$el.find("#dest_autocomplete").val(""),view.$el.find("#destination_id").val(""),view.$el.find(".icon-close").hide(),view.$el.find("#dest_autocomplete").width(view.getTextWidth()),view.$el.find("#autocomplete-wrapper").hide(),view.$el.find("#dest_autocomplete").focus()},render:function(){var view=this.constructor.__super__.render.apply(this),destinationHtml=_.template(Templates.destination,{destinationText:view.options.Localizer.translateText("destinationText")},{interpolate:/\{\{(.+?)\}\}/g});this.$el.html(destinationHtml);var destinationInput=view.$el.find("#dest_autocomplete");return destinationInput.val(this.options.destinationFieldName),this.$el.find("#destination_id").val(this.options.destination_id),this.$el.find("#destination_slug").val(this.options.destination_slug),this.$el.find(".destination-box").attr("data-bhc","destination:"+(view.$el.find("#dest_autocomplete").val()||"destinationBox")),this.$el.find(".destination-box").click(function(e){if(destinationInput.width(view.getTextWidth()),!$(e.target).hasClass("ui-autocomplete-input")){var destJSObj=destinationInput[0];destinationInput.focus(),destJSObj.selectionStart=destJSObj.selectionEnd=destJSObj.value.length}}),this.$el.find(".selection-box-icon, #dest_autocomplete").click(function(e){view.showTip(e)}),this.$el.find("#autocomplete-wrapper").hide(),destinationInput.bind("keydown",function(event){9==event.keyCode&&(view.$el.parent().find(".calendar .icon-selection-box").trigger("click"),event.stopPropagation())}),this.$el.find(".icon-close").bind("mousedown",function(){return view.onClearButtonClick(view),!1}),destinationInput.on("input.autocomplete",function(){""==$(this).val()?view.$el.find(".icon-close").hide():view.$el.find(".icon-close").show(),$(this).width(view.getTextWidth())}),view.$el.hover(function(){view.showCloseIcon(view)},function(){view.$el.find(".icon-close").hide()}),this.initiate(),view},renderMenu:function(el,ul,items){var currentCategory,index,item,_i,_len;if(items.length)if(1===items.length&&void 0===items[0].id)ul.append("<li class='ui-menu-item no-results-found'>"+items[0].label+"</li>"),this.$el.find("#destination_id").val("");else for(currentCategory="",index=_i=0,_len=items.length;_len>_i;index=++_i)item=items[index],item.category!==currentCategory&&(ul.append("<li class='ui-autocomplete-category'>"+item.category+"</li>"),currentCategory=item.category),el._renderItem(ul,item)},showCloseIcon:function(view){""!=view.$el.find("#dest_autocomplete").val()&&view.$el.find("#dest_autocomplete").val()!=this.options.Localizer.translateText("destinationText")&&view.$el.find(".icon-close").show()},showTip:function(e){var autoCompleteWrapper=this.$el.find("#autocomplete-wrapper"),destValue=this.$el.find("#dest_autocomplete").val();if((0==autoCompleteWrapper.length||"none"==autoCompleteWrapper.css("display"))&&(""==destValue||destValue==this.options.Localizer.translateText("destinationText")||destValue.length<3)){$(".marketrate-search div[class*=-background]").hide();var toolTipDiv=this.$el.find("#tooltip-autocomplete");if(0==toolTipDiv.length){var tipText=this.options.Localizer.translateText("destinationFieldTip");this.$el.append('<div class="tool-tip-background" id="tooltip-autocomplete">'+tipText+"</div>"),e.stopPropagation()}else"none"==toolTipDiv.css("display")&&e.stopPropagation(),toolTipDiv.css("display","block")}},validates:function(){var destinationId=$.trim(this.$el.find("#destination_id").val())||"",destinationAutocomplete=this.$el.find("#dest_autocomplete"),destinationName=$.trim(destinationAutocomplete.val())||"",holderText=$.trim(destinationAutocomplete.attr("holder"))||"";return""!=destinationId&&""!=destinationName&&destinationName.length>2&&destinationName!==holderText?(this.$el.find(".destination-box").removeClass("validation-fail"),this.$el.find(".icon-selection-box").removeClass("validation-fail"),!0):(this.$el.find("#destination_id").val(""),this.$el.find(".destination-box").addClass("validation-fail"),this.$el.find(".icon-selection-box").addClass("validation-fail"),!1)}})}),require.define("/src/views/templates.js",function(module){module.exports={calendarView:'<div class="selection-box" data-bhc="getawaysSearch:selectionBox"></div><div class="calendar-background" style="display: none;"></div>',footer:'<div class="cta"></div>',header:'<div class="nightly-minimum"><span class="price-label"></span><span class="price"></span><span class="bucks-back"></span</div>',progress:'<div style="display: none;"><img alt="progress-indicator" src="images/g-spinner.gif"/></div>',rooms:'<div class="selection-box"></div><div class="rooms-background"></div><div class="rooms-details"></div>',destination:'<div class="destination-box"><div class="icon-selection-box instrument"><span class="selection-box-icon icon-marker"></span><div><input id="dest_autocomplete" holder="{{destinationText}}" name="destination" type="text"/> <span class="icon-close instrument" style="display: none"></span></div></div><input id="destination_id" name="destination_id" type="hidden"/><input id="destination_slug" name="destination_slug" type="hidden"/><div id="autocomplete-wrapper"> </div></div>',textWidthSpan:'<span id="destTextWidth" style="width:auto; display:none;"></span>',gallerySearchStaticSection:'<div class="guests"><span>2 Adults &nbsp;</span> <span class="icon-user"></span> <span class="sep2">| </span> <a href="#">Edit</a></div>',searchFooter:'<div class="cta"></div>',adultCount:'<div class="adult-count"><div class="selection-box"></div><div class="adult-background"></div></div>',childCount:'<div class="child-count"><div class="selection-box"></div><div class="child-background"></div></div>',childrenAges:'<div class="child-selection"><div class="selection-box"></div><div class="age-text"></div></div>',roomDescription:'<div class="details-content"></div><div class="toggle-link"><span class="link-text"></span></div>',bucksBack:'<div class="bucks-back"><h3 class="icon-bucks">+ <span class="bucks-value">{{bucksBack_percent}}%</span> {{bucksBack_header}}</h3><div class="bucks-back-description">{{bucksBack_desc}}</div></div>',dataBhcTemplate:'<div data-bhc="{{data}}"></div>'}}),require.define("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",function(module){module.exports=function(){var Instrument={Notifier:function(object,handler,prefix){var notifier=this;return notifier.handler="undefined"!=typeof TrackingHub?function(message){TrackingHub.add(message.fullname,{instrument:message})}:handler||function(){},notifier.prefix=prefix,notifier.object=object,notifier.isUseableEvent=function(object,category){return _.include(object.options.eventCategories,category)},this},Templates:{iconSelectionBox:'<span class="selection-box-icon"></span><div class="selection-text"></div>'}};return Instrument.OptionsNotProvided=function(message){this.message=message},Instrument.Notifier.prototype.tell=function(){var args=Array.prototype.slice.call(arguments),scopedExecution=args[args.length-1],typedName=this.object.typePrefixed(args[0]),message={category:args[1],fullname:(this.prefix||"Library:Instrument")+":"+typedName,timestamp:+new Date};_.each(args.slice(2),function(extraArgs){"function"!=typeof extraArgs&&_.each(extraArgs,function(value,key){message[key]=value})}),this.isUseableEvent(this.object,message.category)&&this.handler.call(this.object,message),"function"==typeof scopedExecution&&scopedExecution.call(this.object)},Instrument.BaseView=Backbone.View.extend({className:"base",tagName:"li",initialize:function(options){this.notifier=new Instrument.Notifier(this,options.eventHandler,options.prefix),this.notifier.tell("Initialized","initialization",function(){(this.className||this.options.className)&&(this.$el.addClass("instrument"),this.$el.addClass(this.className||this.options.className)),this.options.eventCategories||(this.options.eventCategories=["click"]),this.options.locale||(this.options.locale="en-US"),this.options.template&&this.$el.append(options.template)})},render:function(){return this.notifier.tell("Rendered","render"),this},typePrefixed:function(identifier){return this.viewName()+":"+identifier},validates:function(){return!0},viewName:function(){return this.options.viewName||this.name||"BaseView"}}),Instrument.Button=Instrument.BaseView.extend({name:"Button",tagName:"button",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;view.$el.html(view.options.text),view.options.onClick&&view.$el.click(function(){view.options.onClick.call(view)})},render:function(){var view=this.constructor.__super__.render.apply(this);return view}}),Instrument.Select=Instrument.BaseView.extend({name:"Select",tagName:"select",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;view.options.dataList&&_.each(view.options.dataList,function(option){var selected=option.selected?" selected":"";view.$el.append('<option value="'+option.value+'"'+selected+">"+option.text+"</option>")},view),view.$el.change(function(){var option=view.options.dataList[this.selectedIndex];option&&(view.notifier.tell("Change","change",{option:{value:option.value,text:option.text}}),"function"==typeof view.options.onChange&&view.options.onChange(option))}),view.$el.focus(function(){var option=view.options.dataList[this.selectedIndex];option&&(view.notifier.tell("Click","click",{option:{value:option.value,text:option.text}}),"function"==typeof view.options.onSelect&&view.options.onSelect(option))})},render:function(){var view=this.constructor.__super__.render.apply(this);return view},validates:function(){var success=!1;return this.el.selectedIndex&&(success=!0),success}}),Instrument.SelectionBox=Instrument.BaseView.extend({className:"selection-box",name:"SelectionBox",tagName:"div",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;_.each(this.options.dataList,function(data){data.onSelect=function(){}}),view.selectionList=new Instrument.SelectionList({eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,dataList:view.options.dataList,onSelect:function(){view.iconSelectionBox.updateText(this.$el.find("> div").text())}}),view.iconSelectionBox=new Instrument.IconSelectionBox({eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,initialText:this.options.initialText,onToggle:function(){view.selectionList.$el.toggle()}})},render:function(){var view=this.constructor.__super__.render.apply(this);return view.$el.append(view.iconSelectionBox.render().el),view.selectionList.$el.hide(),view.$el.append(view.selectionList.render().el),view}}),Instrument.SelectionList=Instrument.BaseView.extend({className:"selection-list",name:"SelectionList",tagName:"ul",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;if(view.selectionOptions=[],!view.options.dataList)throw new Instrument.OptionsNotProvided("a list of options must be provided to a SelectionList component");_.each(view.options.dataList,function(data){var selectionOption=new Instrument.SelectionOption({data:data,disabled:data.disabled,eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,selected:view.options.selected,onSelect:function(){view.options.onSelect&&view.options.onSelect.call(this),view.$el.toggle()}});view.$el.append(selectionOption.render().el).find(".selection-option"),view.selectionOptions.push(selectionOption)},view)},render:function(){var view=this.constructor.__super__.render.apply(this);return view}}),Instrument.SelectionOption=Instrument.BaseView.extend({className:"selection-option",name:"SelectionOption",tagName:"li",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;view.options.onSelect&&(view.anchor=view.$el.append("<div>"+view.options.data.label+"</div>").find("> div"),view.options.disabled||view.anchor.click(function(){view.notifier.tell("Click","click",function(){view.options.onSelect.call(view)})})),options.selected==view.options.data.value&&view.$el.addClass("selected"),view.$el.attr("data-disabled",view.options.disabled===!0)},render:function(){var view=this.constructor.__super__.render.apply(this);return view}}),Instrument.CalendarInstance=Instrument.BaseView.extend({className:"calendar-instance",name:"CalendarInstance",tagName:"table",momentIndex:{},options:{weekStart:0},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]),this.notifier.tell("Rendered","render",function(){var nowVal=Date.now?Date.now():+new Date,now=new Date(nowVal);this.checkInMoment=this.options.checkIn&&moment(this.options.checkIn),this.checkOutMoment=this.options.checkOut&&moment(this.options.checkOut),this.todayMoment=moment(new Date(now.getFullYear(),now.getMonth(),now.getDate())),this.currentMoment=moment(this.options.currentDate)||moment(this.todayMoment),this.weekStart=moment().startOf("week").day(),this.daysLimit=this.options.daysLimit?this.options.daysLimit:9999,this.maxStay=this.options.maxStay||99,this.disabledDays=this.options.disabledDays||0,this.onCheckInSelected=this.options.onCheckInSelected,this.onCheckInCheckOutSelected=this.options.onCheckInCheckOutSelected,this.options.clickDay&&(this.clickDay=this.options.clickDay),this.options.createDayElement&&(this.createDayElement=this.options.createDayElement),this.options.mutateMomentEventHandler&&(this.mutateMomentEventHandler=this.options.mutateMomentEventHandler)})},clear:function(){this.checkInMoment=void 0,this.checkOutMoment=void 0,this.actualCheckInMoment=void 0,this.actualCheckOutMoment=void 0,this.renderMonthView(this.currentMoment)},clickDay:function(element,dateMoment){var type,category,extra;type=this.viewName()+":Day:Click",category="click",extra={},this.checkOutMoment?this.isBetweenCheckinAndCheckout(dateMoment)?(this.clear(),extra.clickAction="check-in, check-out dates cleared"):dateMoment.isAfter(this.checkOutMoment)?(this.checkOutMoment=dateMoment,extra.clickAction="check-out selected, stay increased"):dateMoment.isBefore(this.checkOutMoment)&&dateMoment.isAfter(this.checkInMoment)?(this.checkOutMoment=dateMoment,extra.clickAction="check-out selected, stay reduced"):dateMoment.isBefore(this.checkInMoment)?(this.checkInMoment=dateMoment,extra.clickAction="check-in selected, stay increased"):dateMoment.isAfter(this.checkInMoment)&&dateMoment.isBefore(this.checkInMoment)&&(this.checkOutMoment=dateMoment,extra.clickAction="check-out selected, stay increased"):this.checkInMoment?this.checkInMoment.isAfter(dateMoment)?(this.checkOutMoment=this.checkInMoment,this.checkInMoment=moment(dateMoment),extra.clickAction="check-out swapped, check-in selected"):(this.checkOutMoment=moment(dateMoment),extra.clickAction="check-out selected, displaying dates"):(this.checkInMoment=moment(dateMoment),extra.clickAction="check-in selected"),extra.checkInDate=this.checkInMoment&&this.checkInMoment.format(),extra.checkOutDate=this.checkOutMoment&&this.checkOutMoment.format(),extra.clickingDate=moment(dateMoment).format(),this.notifier.tell(type,category,extra,function(){this.renderMonthView(moment(dateMoment)),this.checkInMoment&&this.checkOutMoment?this.options.onCheckInCheckOutSelected&&this.options.onCheckInCheckOutSelected.call(this):this.checkInMoment?this.options.onCheckInSelected&&this.options.onCheckInSelected.call(this):this.options.onDateCleared&&this.options.onDateCleared.call(this)})},clickNextMonth:function(dateMoment){this.renderMonthView(dateMoment)},clickPreviousMonth:function(dateMoment){this.renderMonthView(dateMoment)},createDayElement:function(dateMomentStructure){var calendar=this,dateMoment=dateMomentStructure.instance,classes=dateMomentStructure.classes,element=$('<td class="'+classes.join(" ")+'"><span>'+dateMoment.date()+"</span></td>");return element.click(function(e){var index=calendar.momentIndex[dateMoment.format("YYYY-MM-DD")];_.include(index.classes,"unavailable")||element.hasClass("checkin")||element.hasClass("checkout")||(calendar.clickDay(element,dateMoment),calendar.options.allowPropagation||e.stopPropagation())}),element.hover(function(){calendar.updateSelected(element,dateMoment),calendar.options.showTooltip(element,dateMoment)},function(){calendar.restoreSelected(element,dateMoment),calendar.options.hideTooltip(element)}),element},createMonthDisplayIndex:function(dateMoment){var firstMomentOfMonth=this.firstMomentOfMonth(dateMoment),prevMonthDiffDays=(7+this.monthStartDay(dateMoment)-this.weekStart)%7,currentMoment=firstMomentOfMonth.subtract("days",prevMonthDiffDays),lastMomentOfMonth=this.lastMomentOfMonth(dateMoment),nextMonthDiffDays=(6+this.weekStart-lastMomentOfMonth.day())%7;lastMomentOfMonth.add("days",nextMonthDiffDays);for(var momentIndex={};lastMomentOfMonth>=currentMoment;){var clonedMoment=moment(currentMoment);momentIndex[clonedMoment.format("YYYY-MM-DD")]={instance:clonedMoment,classes:[]},currentMoment=currentMoment.add("days",1)}return momentIndex},createWeekElement:function(classes){return $('<tr class="'+classes.join(" ")+'"></tr>')},firstMomentOfMonth:function(dateMoment){return moment(dateMoment).date(1)},formatAbbrMonthName:function(dateMoment){return dateMoment.format(this.options.monthFormat||"MMMM")},isBetweenCheckinAndCheckout:function(dateMoment){return this.checkInMoment&&this.checkOutMoment&&dateMoment.isAfter(this.checkInMoment)&&dateMoment.isBefore(this.checkOutMoment)},isInUnavailableRange:function(dateMoment){var tempMoment=dateMoment.clone();if(this.checkOutMoment){if(dateMoment.isBefore(this.checkInMoment)){if(tempMoment.add("days",this.maxStay),tempMoment.isBefore(this.checkOutMoment))return!0}else if(dateMoment.isAfter(this.checkOutMoment)&&(tempMoment.subtract("days",this.maxStay),tempMoment.isAfter(this.checkInMoment)))return!0}else if(this.checkInMoment){var daysDiff=dateMoment.diff(this.checkInMoment,"days",!0);if(daysDiff=Math.abs(daysDiff),daysDiff>this.maxStay)return!0}return!1},isPreviousMonthAccessible:function(dateMoment){var previousMonthMoment=moment(dateMoment).subtract("months",1);return previousMonthMoment.date(previousMonthMoment.daysInMonth())>=this.todayMoment},isNextMonthAccessible:function(dateMoment){var upperMoment=this.todayMoment.clone();return upperMoment.add("days",this.daysLimit),dateMoment.month()<upperMoment.month()+12*(upperMoment.year()-dateMoment.year())},lastMomentOfMonth:function(dateMoment){return moment(dateMoment).add("months",1).date(1).subtract("days",1)},monthStartDay:function(dateMoment){return moment(dateMoment).date(1).day()},momentEqual:function(m1,m2){return moment(m1.format("YYYY-MM-DD")).isSame(m2.format("YYYY-MM-DD"))},mutateMomentEventHandler:function(currentDateMoment,momentStructure){var classes=["day"],dateMoment=momentStructure.instance,maxDateMoment=this.todayMoment.clone().add("days",this.daysLimit),enabledDatesMoment=this.todayMoment.clone().add("days",this.disabledDays);dateMoment.isSame(maxDateMoment)||dateMoment.isAfter(maxDateMoment)||dateMoment.isBefore(enabledDatesMoment)?classes.push("unavailable"):this.isInUnavailableRange(dateMoment)?classes.push("unavailable","out-of-range"):this.checkInMoment&&this.momentEqual(dateMoment,this.checkInMoment)?classes.push("checked"):this.checkOutMoment&&this.momentEqual(dateMoment,this.checkOutMoment)?classes.push("checked"):dateMoment.isAfter(this.checkInMoment)&&dateMoment.isBefore(this.checkOutMoment)?classes.push("between"):classes.push("available"),dateMoment.month()<currentDateMoment.month()?classes.push("previousmonth"):dateMoment.month()>currentDateMoment.month()&&classes.push("nextmonth"),momentStructure.classes=classes
},mutateMomentIndexClasses:function(currentDateMoment){_.each(this.momentIndex,function(momentStructure,index){this.mutateMomentEventHandler(currentDateMoment,momentStructure,index)},this)},render:function(){var dateMoment=this.checkInMoment?this.checkInMoment:this.currentMoment;this.renderMonthView(dateMoment);var view=this;return"undefined"!=typeof view.options.onMouseIn&&"undefined"!=typeof view.options.onMouseOut&&view.$el.hover(function(){view.options.onMouseIn.call(view)},function(){view.options.onMouseOut.call(view)}),this},renderDayNames:function(){var weekDayLetter,day,$body=this.$el.append("<tbody></tbody>").find("tbody"),$weekdays=$body.append('<tr class="week-titles"></tr>').find("tr:last-child");for(day=0;7>day;day++)weekDayLetter=moment().weekday(day).format("dd").charAt(0),$weekdays.append("<td>"+weekDayLetter+"</td>")},renderMonthHeader:function(dateMoment){var $previous,$next,view=this,monthText=this.formatAbbrMonthName(dateMoment),yearText=dateMoment.format("YYYY"),$fragment=$('<thead><th colspan="7"><span class="previous"><span class="icon-arrow-left"></span></span><span class="next"><span class="icon-arrow-right"></span></span>'+monthText+" "+yearText+"</th></thead>"),extraArgs={};this.$el.append($fragment),$previous=$fragment.find(".previous"),$next=$fragment.find(".next"),this.isPreviousMonthAccessible(dateMoment)?$previous.click(function(e){var previousMonth=moment(dateMoment).subtract("month",1);extraArgs.displayingMonth=previousMonth.format("MMMM"),view.notifier.tell("PreviousMonth:Click","click",extraArgs,function(){view.clickPreviousMonth(previousMonth)}),e.stopPropagation()}):$previous.addClass("disabled"),this.isNextMonthAccessible(dateMoment)?$next.click(function(e){var nextMonth=moment(dateMoment).add("month",1);extraArgs.displayingMonth=nextMonth.format("MMMM"),view.notifier.tell("NextMonth:Click","click",extraArgs,function(){view.clickNextMonth(nextMonth)}),e.stopPropagation()}):$next.addClass("disabled")},renderMonthView:function(dateMoment){dateMoment=dateMoment||this.checkOutMoment||this.checkInMoment||this.todayMoment,this.$el.empty(),this.currentMoment=dateMoment,this.momentIndex=this.createMonthDisplayIndex(dateMoment),this.mutateMomentIndexClasses(dateMoment),this.renderMonthHeader(moment(dateMoment)),this.renderDayNames(),this.renderWeeks(moment(dateMoment))},renderWeeks:function(){var $week,$weekdays=this.$el.find("tbody"),c=0;_.each(this.momentIndex,function(dateMomentStructure){dateMomentStructure.instance,0===c%7&&($week=$weekdays.append(this.createWeekElement(["week"])).find("tr:last-child")),$week.append(this.createDayElement(dateMomentStructure)),c++},this)},restoreSelected:function(){var index=-1;_.each(this.momentIndex,function(momentStructure){index++,this.mutateMomentEventHandler(this.currentMoment,momentStructure,index);var elem=this.$el.find("tbody .week td:eq("+index+")");elem.attr("class",momentStructure.classes.join(" "))},this)},updateSelected:function(element,dateMoment){if(this.checkInMoment&&!element.hasClass("unavailable")&&!this.isBetweenCheckinAndCheckout(dateMoment)){this.actualCheckInMoment=this.checkInMoment.clone(),this.checkOutMoment&&(this.actualCheckOutMoment=this.checkOutMoment.clone()),dateMoment.isAfter(this.checkInMoment)?this.checkOutMoment=dateMoment:dateMoment.isBefore(this.checkInMoment)&&(this.checkInMoment=dateMoment,this.checkOutMoment=this.checkOutMoment||this.actualCheckInMoment);var index=-1;_.each(this.momentIndex,function(momentStructure){index++,this.mutateMomentEventHandler(this.currentMoment,momentStructure,index);var elem=this.$el.find("tbody .week td:eq("+index+")");elem.attr("class",momentStructure.classes.join(" "))},this),this.checkInMoment=this.actualCheckInMoment.clone(),this.checkOutMoment=this.actualCheckOutMoment?this.actualCheckOutMoment.clone():void 0}}}),Instrument.IconSelectionBox=Instrument.BaseView.extend({className:"icon-selection-box",name:"IconSelectionBox",tagName:"div",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]),"undefined"==typeof this.options.onToggle&&alert("the toggle event  must be provided for this component to function")},render:function(){var view=this.constructor.__super__.render.apply(this);return view.$el.html(Instrument.Templates.iconSelectionBox),view.options.iconClass&&view.$el.find(".selection-box-icon").addClass(view.options.iconClass),view.$el.click(function(event){view.options.allowPropagation||event.stopPropagation(),view.notifier.tell("Click","click",function(){view.options.onToggle.call(view,event)})}),"undefined"!=typeof view.options.onMouseIn&&"undefined"!=typeof view.options.onMouseOut&&view.$el.hover(function(){view.options.onMouseIn.call(view)},function(){view.options.onMouseOut.call(view)}),view.updateText(this.options.initialText),view},updateText:function(html){this.notifier.tell("UpdateText","change",{text:html},function(){this.$el.find(".selection-text").html(html)})}}),Instrument}()}),require.define("/src/views/gallery-search.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module);require("/src/views/templates.js",module);var CalendarSelection=require("/src/views/calendar-selection.js",module),GallerySearchFooterView=require("/src/views/gallery-search-footer-view.js",module),DestinationFieldView=require("/src/views/destination-field-view.js",module),ExternalizedText=require("/src/views/externalized-text.js",module),Localizer=require("/src/localizers/localizer.js",module);module.exports=Instrument.BaseView.extend({className:"marketrate-search",name:"CalendarRoomSearch",tagName:"ul",template:'<ul id="marketrate-search"></ul>',defaults:{ROOM_COUNT:1,ADULTS_COUNT:2,DATE_FORMAT:"MMM DD"},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;this.options.submitObject=this.options.submitObject||{},this.setDefaultLocale(),this.defineViewSettings(),this.setViewOptions(this.parseUrlString()),$(document).click(function(e){view.closePopoverOnEvent(e)}),window.onkeydown=function(e){view.closePopoverOnEvent(e)},this.options.closePopover=this.closePopover,this.options.applyPopover=this.applyPopover},getUrlString:function(){var hashString=""===window.location.hash?window.location.href:window.location.hash;return hashString=hashString.indexOf("?")>0?hashString.split("?")[1]:0==hashString.indexOf("#")?hashString.substring(1):null},parseUrlString:function(){var hashString=this.getUrlString(),params=null;if(hashString){params={};for(var keyValue,pattern=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s)};keyValue=pattern.exec(hashString);)""!=keyValue[2]&&(params[decode(keyValue[1])]=decode(keyValue[2]))}return params},setViewOptions:function(object){if(null!=object){var views=this.options.views;void 0!=object.check_in&&(views.calendarSelection.checkIn=object.check_in),void 0!=object.check_out&&(views.calendarSelection.checkOut=object.check_out),void 0!=object.destination_name&&(views.destinationField.destinationFieldName=object.destination_name),void 0!=object.destination_id&&(views.destinationField.destination_id=object.destination_id),void 0!=object.city_slug&&(views.destinationField.destination_slug=object.city_slug)}},searchButtonClick:function(){var form=this.createForm(),submitUrl="";if(form.append(this.createNavigationElements()),this.options.submitObject.checkOut)submitUrl=this.options.searchConfiguration.urlBase+"?"+form.serialize().replace(/\+/g,"%20");else{var city_slug=this.$el.find("#destination_slug").val();submitUrl=_.template(this.options.searchConfiguration.cityUrl,{city_slug:city_slug},{interpolate:/\{\{(.+?)\}\}/g})}location.href=submitUrl,window.scroll(0,0)},capitalize:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},cloneConfiguration:function(default_options,options){return _.extend(_.clone(this.options),default_options,options)},applyPopover:function(el){el.find(".selection-box, .destination-box").addClass("selected")},closePopover:function(){var view=this;$(".marketrate-search .selection-box, .marketrate-search .destination-box").removeClass("selected"),null!=document.activeElement&&"dest_autocomplete"===document.activeElement.id&&view.applyPopover($(document.activeElement).parents(".destinationAutoComplete")),$(".marketrate-search div[class*=-background]").hide()},closePopoverOnEvent:function(ev){var view=this,popups=$(".marketrate-search div[class*=-background]");(!popups.is(ev.target)&&0===popups.has(ev.target).length||27===ev.keyCode)&&view.closePopover()},createForm:function(){return $('<form style="display: none;"></form>')},createInputElement:function(object){var template=_.template('<input type="<%= type %>" name="<%= name %>" value="<%= value %>"/>');return template({type:object.type,name:object.name,value:object.value})},createNavigationElements:function(){var elements=[],submitObject=this.options.submitObject,checkIn=submitObject.checkIn,checkOut=submitObject.checkOut,destinationSlug=this.$el.find("#destination_slug").val();!checkIn||checkIn instanceof Date||(checkIn=checkIn.replace(/-/g,"/")),!checkOut||checkOut instanceof Date||(checkOut=checkOut.replace(/-/g,"/"));var elementsHash={destination_id:this.$el.find("#destination_id").val(),destination_name:this.$el.find("#dest_autocomplete").val()};return elementsHash=$.extend(elementsHash,{check_in:checkIn?this.formatDate(new Date(checkIn)):void 0,check_out:checkOut?this.formatDate(new Date(checkOut)):void 0,city_slug:""!==destinationSlug?destinationSlug:void 0}),TrackingHub.add("Getaways-SearchExecuted",_.extend({timestamp:(new Date).getTime()},elementsHash)),_.each(elementsHash,function(value,key){elements.push(this.createInputElement({type:"hidden",name:key,value:value}))},this),elements.join("")},defineViewSettings:function(){_.each(this.options.views,function(config,view){this["displays"+this.capitalize(view)]=config},this)},formatDate:function(date){return date.getFullYear()+"-"+("0"+(date.getMonth()+1)).slice(-2)+"-"+("0"+date.getDate()).slice(-2)},toOption:function(room){return{label:'<span class="title">'+room.title()+"</span>"+'<span class="price" data-booking-descriptor="'+room.bookingDescriptor()+'">'+'<span class="symbol">$</span>'+room.lowestPrice().amount()+"/night"+"</span>"+'<div class="description">'+room.description()+"</div>",value:room.bookingDescriptor()}},clear:function(){this.options.submitObject.room_id=""},clearGallerySearchView:function(){this.calendarSelection.clear(),this.destinationFieldSection.clear()},render:function(){var config,view=this.constructor.__super__.render.apply(this);if(view.displaysSeeMoreHotels){var label='<li class="label"><span class="see-more">'+this.options.Localizer.translateText("see_more_hotel")+"</span></li>";view.$el.html(label)}if(view.displaysDestinationField&&(view.destinationFieldSection=new DestinationFieldView(view.cloneConfiguration(view.options.views.destinationField)),view.$el.append(view.destinationFieldSection.render().el)),view.displaysCalendarSelection){config=view.options.views.calendarSelection,view.options.submitObject.checkIn=config.checkIn,view.options.submitObject.checkOut=config.checkOut;var calendarConfiguration=view.cloneConfiguration({onDatesSelected:function(){view.options.submitObject.checkIn=this.checkInMoment.toDate(),view.options.submitObject.checkOut=this.checkOutMoment.toDate(),view.clear(),view.$el.find(".progress > div").toggle()},onDateCleared:function(){view.options.submitObject.checkIn="",view.options.submitObject.checkOut="",view.clear()},dateFormat:config.dateFormat||view.defaults.DATE_FORMAT},view.options.views.calendarSelection);view.calendarSelection=new CalendarSelection(calendarConfiguration),view.$el.append(view.calendarSelection.render().el),view.$el.find(".selection-box").attr("data-bhw","GalleryCalendar")}if(view.displaysFooter){var footerConfiguration=view.cloneConfiguration({onSearchButtonClick:function(){view.validates()&&(view.calendarSelection.$el.find(".selection-box").removeClass("validation-fail"),view.searchButtonClick.call(view))}},view.options.views.footer);view.footerView=new GallerySearchFooterView(footerConfiguration),view.$el.append(view.footerView.render().el)}return view},show:function(elem){var view=this;elem.html(view.render().el);var destinationView=view.destinationFieldSection,timeout=setTimeout(function(){destAutocompleteElement=destinationView.$el.find("#dest_autocomplete"),destinationView.$el.find("#dest_autocomplete").width(destinationView.getTextWidth()),destinationView.options.autofocus&&destAutocompleteElement.focus(),clearTimeout(timeout)},800)},setDefaultLocale:function(){var localizer,currencyFormat,dateFormat,translations,object,localization=this.options.localization;localization&&localization.i18n?(localizer=localization.i18n,translations=localizer.t(".gallery_search")):(currencyFormat=ExternalizedText.currency,dateFormat=ExternalizedText.dates,translations=ExternalizedText.translations),this.options.Localizer=$.extend(!0,{},Localizer),this.options.Localizer.setTranslation({localizer:localizer,currencyFormat:{},dateFormat:{},translations:translations,obj:object})},validates:function(){var calendarSelectionSuccess=this.calendarSelection.validates.call(this.calendarSelection),destinationFieldSuccess=this.destinationFieldSection.validates.call(this.destinationFieldSection),destinationSlug=this.$el.find("#destination_slug").val();return calendarSelectionSuccess?destinationFieldSuccess:this.options.searchConfiguration.cityUrl&&destinationSlug&&destinationFieldSuccess}})}),require.define("/src/localizers/localizer.js",function(module){var ExternalizedText=require("/src/views/externalized-text.js",module),accounting=require("/node_modules/accounting/accounting.js",module);module.exports={formatCurrency:function(amount,precision){return amount?(precision=isNaN(precision)?this.currency.precision:precision,accounting.formatMoney(amount,this.currency.symbol,precision,this.currency.thousand,this.currency.decimal)):this.currency.symbol+"&mdash;"},unFormatCurrency:function(amount){return accounting.unformat(amount)},formatDate:function(){},setTranslation:function(object){this.localizer=object.localizer,this.currency=object.currencyFormat,this.dates=object.dateFormat,this.translations=object.translations},translateText:function(str){return this.localizer&&this.translations?this.translations[str]:ExternalizedText.translations[str]}}}),require.define("/node_modules/accounting/accounting.js",function(module,exports){!function(root,undefined){function isString(obj){return!!(""===obj||obj&&obj.charCodeAt&&obj.substr)}function isArray(obj){return nativeIsArray?nativeIsArray(obj):"[object Array]"===toString.call(obj)}function isObject(obj){return"[object Object]"===toString.call(obj)}function defaults(object,defs){var key;object=object||{},defs=defs||{};for(key in defs)defs.hasOwnProperty(key)&&null==object[key]&&(object[key]=defs[key]);return object}function map(obj,iterator,context){var i,j,results=[];if(!obj)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);for(i=0,j=obj.length;j>i;i++)results[i]=iterator.call(context,obj[i],i,obj);return results}function checkPrecision(val,base){return val=Math.round(Math.abs(val)),isNaN(val)?base:val}function checkCurrencyFormat(format){var defaults=lib.settings.currency.format;return"function"==typeof format&&(format=format()),isString(format)&&format.match("%v")?{pos:format,neg:format.replace("-","").replace("%v","-%v"),zero:format}:format&&format.pos&&format.pos.match("%v")?format:isString(defaults)?lib.settings.currency.format={pos:defaults,neg:defaults.replace("%v","-%v"),zero:defaults}:defaults}var lib={};lib.version="0.3.2",lib.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var nativeMap=Array.prototype.map,nativeIsArray=Array.isArray,toString=Object.prototype.toString,unformat=lib.unformat=lib.parse=function(value,decimal){if(isArray(value))return map(value,function(val){return unformat(val,decimal)});if(value=value||0,"number"==typeof value)return value;decimal=decimal||".";var regex=new RegExp("[^0-9-"+decimal+"]",["g"]),unformatted=parseFloat((""+value).replace(/\((.*)\)/,"-$1").replace(regex,"").replace(decimal,"."));return isNaN(unformatted)?0:unformatted},toFixed=lib.toFixed=function(value,precision){precision=checkPrecision(precision,lib.settings.number.precision);var power=Math.pow(10,precision);return(Math.round(lib.unformat(value)*power)/power).toFixed(precision)},formatNumber=lib.formatNumber=function(number,precision,thousand,decimal){if(isArray(number))return map(number,function(val){return formatNumber(val,precision,thousand,decimal)});number=unformat(number);var opts=defaults(isObject(precision)?precision:{precision:precision,thousand:thousand,decimal:decimal},lib.settings.number),usePrecision=checkPrecision(opts.precision),negative=0>number?"-":"",base=parseInt(toFixed(Math.abs(number||0),usePrecision),10)+"",mod=base.length>3?base.length%3:0;return negative+(mod?base.substr(0,mod)+opts.thousand:"")+base.substr(mod).replace(/(\d{3})(?=\d)/g,"$1"+opts.thousand)+(usePrecision?opts.decimal+toFixed(Math.abs(number),usePrecision).split(".")[1]:"")},formatMoney=lib.formatMoney=function(number,symbol,precision,thousand,decimal,format){if(isArray(number))return map(number,function(val){return formatMoney(val,symbol,precision,thousand,decimal,format)});number=unformat(number);var opts=defaults(isObject(symbol)?symbol:{symbol:symbol,precision:precision,thousand:thousand,decimal:decimal,format:format},lib.settings.currency),formats=checkCurrencyFormat(opts.format),useFormat=number>0?formats.pos:0>number?formats.neg:formats.zero;return useFormat.replace("%s",opts.symbol).replace("%v",formatNumber(Math.abs(number),checkPrecision(opts.precision),opts.thousand,opts.decimal))};lib.formatColumn=function(list,symbol,precision,thousand,decimal,format){if(!list)return[];var opts=defaults(isObject(symbol)?symbol:{symbol:symbol,precision:precision,thousand:thousand,decimal:decimal,format:format},lib.settings.currency),formats=checkCurrencyFormat(opts.format),padAfterSymbol=formats.pos.indexOf("%s")<formats.pos.indexOf("%v")?!0:!1,maxLength=0,formatted=map(list,function(val){if(isArray(val))return lib.formatColumn(val,opts);val=unformat(val);var useFormat=val>0?formats.pos:0>val?formats.neg:formats.zero,fVal=useFormat.replace("%s",opts.symbol).replace("%v",formatNumber(Math.abs(val),checkPrecision(opts.precision),opts.thousand,opts.decimal));return fVal.length>maxLength&&(maxLength=fVal.length),fVal});return map(formatted,function(val){return isString(val)&&val.length<maxLength?padAfterSymbol?val.replace(opts.symbol,opts.symbol+new Array(maxLength-val.length+1).join(" ")):new Array(maxLength-val.length+1).join(" ")+val:val})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=lib),exports.accounting=lib):"function"==typeof define&&define.amd?define([],function(){return lib}):(lib.noConflict=function(oldAccounting){return function(){return root.accounting=oldAccounting,lib.noConflict=undefined,lib}}(root.accounting),root.accounting=lib)}(this)}),require.define("/src/views/externalized-text.js",function(module){module.exports={currency:{code:"USD",decimal:".",format:"%v%s",precision:0,symbol:"$",thousand:","},dates:{format:"%D/%M"},translations:{selectDates:"Select Dates",adult:"Adult",adults:"Adults",child:"Child",children:"Children",childAgeText:"Age of Child",selectRoom:"Select Room",noRoom:"No Rooms are available for the dates selected",book:"Book",checkingAvailability:"Checking Room Availability",bucksBack:"in Groupon Bucks back",averagePerNight:"Average Price/Night",roomDetails:"Room Details",hideDetails:"Hide Details",seeAllRooms:"See All Rooms",seeFewerRooms:"See Fewer Rooms",checkIn:"Check-in",checkOut:"Check-out",subtotal:"Subtotal",night:"night",nights:"nights",from:"From",bucksBack_desc:"Book this hotel on Groupon and get a Groupon Bucks Credit worth {{bucksBack_percent}}% of the room rate for every night you stay",inventoryError:"Oops!<br>This Hotel's rooms didn't load properly.<br>Please refresh the page.",max_night_stay:"Max {{max_night}} night stay",no_result_found:"No Result Found",see_more_hotel:"See more hotels in",destinationText:"Destination",search:"Search Getaways"}}}),require.define("/src/views/gallery-search-footer-view.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"footer",name:"SearchFooterView",defaults:{searchText:"search_getaways"},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]),this.options.searchText=this.options.searchText||this.defaults.searchText},render:function(){var view=this.constructor.__super__.render.apply(this);return view.$el.html(Templates.searchFooter),view.buyButton=new Instrument.Button({className:"btn-buy",eventHandler:this.options.eventHandler,eventCategories:this.options.eventCategories,onClick:view.options.onSearchButtonClick,text:this.options.Localizer.translateText(this.options.searchText)}),view.$el.find(".cta").html(view.buyButton.render().el),view.$el.find(".cta button").attr("data-bhc","getawaysSearch:searchGetaways"),view}})}),require.define("/src/views/calendar-selection.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"calendar",name:"CalendarSelection",defaults:{daysLimit:9999,dateFormat:"MMM DD, YYYY",maxStay:330,disabledDays:0},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var checkIn=this.options.checkIn,checkOut=this.options.checkOut;this.options.daysLimit=this.options.daysLimit||this.defaults.daysLimit,this.options.maxStay=this.options.maxStay||this.defaults.maxStay,this.options.dateFormat=this.options.dateFormat||this.defaults.dateFormat,this.options.disabledDays=this.options.disabledDays||this.defaults.disabledDays,this.setDates.call(this,checkIn,checkOut)},addClearIcon:function(){var iconElem=this.clearIcon.render().$el;iconElem.find(".selection-box-icon").remove(),iconElem.find(".selection-text").remove(),this.selectionBox.$el.find(".dates").append(iconElem),this.selectionBox.$el.find(".icon-close").attr("data-bhc","icon:clearIcon")},clear:function(event){var view=this;event&&event.stopPropagation(),view.calendarInstance.clear(),view.updateDate(),"none"===view.calendarBackground().css("display")?view.toggleCalendarInstance(!0):view.positionPopup(view.calendarBackground()),view.options.onDateCleared(),view.hideErrorMessage()},calendarBackground:function(){return this.$el.find(".calendar-background")},formatLongDateString:function(dateMoment){var formatString='[<span class="day-abbr">]ddd[</span>] [<span class="short-date">]'+this.options.dateFormat+"[</span>]";return dateMoment.format(formatString)},render:function(){var view=this.constructor.__super__.render.apply(this);return view.$el.html(Templates.calendarView),view.selectionBox=new Instrument.IconSelectionBox({eventHandler:view.options.eventHandler,eventCategories:view.options.eventCategories,iconClass:"icon-calendar",initialText:view.options.Localizer.translateText("selectDates"),onToggle:function(event){view.notifier.tell("Toggle","render",function(){event&&event.target==$(".btn-clear")[0]?view.clear(event):view.toggleCalendarInstance()})},onMouseIn:function(){view.toggleClearIcon({action:"show"})},onMouseOut:function(){view.toggleClearIcon({action:"hide"})}}).render(),view.$el.find(".selection-box").append(this.selectionBox.$el),view.calendarInstance=new Instrument.CalendarInstance({checkIn:view.options.checkIn,checkOut:view.options.checkOut,eventHandler:view.options.eventHandler,daysLimit:view.options.daysLimit,maxStay:view.options.maxStay,disabledDays:view.options.disabledDays,onCheckInSelected:function(){view.updateDate(view.calendarInstance.checkInMoment)},onCheckInCheckOutSelected:function(){view.options.onDatesSelected&&(view.options.onDatesSelected.call(this),_.delay(function(){view.toggleCalendarInstance.call(view)},200)),view.passesValidation=!0},onDateCleared:function(){view.updateDate.call(view),view.options.onDateCleared()},onMouseIn:function(){view.toggleClearIcon({action:"show"})},onMouseOut:function(){view.toggleClearIcon({action:"hide"})},showTooltip:function(element,dateMoment){var text="",localizer=view.options.Localizer;if(element.hasClass("unavailable")){if(element.hasClass("out-of-range"))var text=_.template(localizer.translateText("max_night_stay"),{max_night:view.options.maxStay},{interpolate:/\{\{(.+?)\}\}/g})}else view.calendarInstance.checkOutMoment?dateMoment.isBefore(view.calendarInstance.checkInMoment)?text=localizer.translateText("checkIn"):dateMoment.isAfter(view.calendarInstance.checkOutMoment)&&(text=localizer.translateText("checkOut")):view.calendarInstance.checkInMoment?dateMoment.isBefore(view.calendarInstance.checkInMoment)?text=localizer.translateText("checkIn"):dateMoment.isAfter(view.calendarInstance.checkInMoment)&&(text=localizer.translateText("checkOut")):text=localizer.translateText("checkIn"),dateMoment.isSame(view.calendarInstance.checkInMoment)?(text=localizer.translateText("checkIn"),element.addClass("checkin")):dateMoment.isSame(view.calendarInstance.checkOutMoment)&&(text=localizer.translateText("checkOut"),element.addClass("checkout"));if(""!==text){$('<p class="date-tooltip"></p>').text(text).appendTo($(element.find("span"))).fadeIn("slow");var left=($("p.date-tooltip").outerWidth()-$("tr.week td span").outerWidth())/2;$("p.date-tooltip").css("left",-1*left)}},hideTooltip:function(element){element.find(".date-tooltip").remove()}}),view.calendarBackground().html(view.calendarInstance.render().el),view.clearIcon=new Instrument.IconSelectionBox({className:"icon-close",tagName:"span",onToggle:function(){view.clear()}}),view.options.checkIn&&view.options.checkOut&&(view.updateDate(view.calendarInstance.checkInMoment,view.calendarInstance.checkOutMoment),view.passesValidation=!0),view},positionPopup:function(el){var margin_top=-((el.outerHeight()+el.parent().outerHeight())/2);el.css({"margin-top":margin_top+"px"})},validateDate:function(date){if(!date)return void 0;var curDate=new Date;curDate.setHours(0,0,0,0);var daysLimit=1e3*60*60*24*this.options.daysLimit,disabledDays=1e3*60*60*24*this.options.disabledDays;return date=date.replace(/-/g,"/"),""===date||isNaN(new Date(date).getTime())?void 0:(date=new Date(date),date&&daysLimit>=date-curDate&&date-curDate>=disabledDays?date:void 0)},setDates:function(checkIn,checkOut){this.options.checkIn=void 0,this.options.checkOut=void 0;var maxStay=1e3*60*60*24*this.options.maxStay;checkIn=this.validateDate(checkIn),checkIn&&(checkOut=this.validateDate(checkOut),checkOut&&checkOut>checkIn&&maxStay>=checkOut-checkIn&&(this.options.checkIn=checkIn,this.options.checkOut=checkOut))},toggleClearIcon:function(option){"show"==option.action?this.calendarInstance.checkInMoment&&this.$el.find(".icon-close").show():this.$el.find(".icon-close").hide()},toggleCalendarInstance:function(display){var view=this,isDisplayed="none"!==view.calendarBackground().css("display");view.notifier.tell("Toggle","click",{displaying:isDisplayed},function(){view.options.closePopover(),!isDisplayed||display?(view.calendarInstance.renderMonthView(),view.calendarBackground().show(),view.positionPopup(view.calendarBackground()),view.options.applyPopover(view.$el)):view.updateDate.call(view,view.calendarInstance.checkInMoment,view.calendarInstance.checkOutMoment)})},addBloodHoundTags:function(checkInMoment,checkOutMoment){var selectionDates=this.$el.find(".short-date");checkOutMoment?(selectionDates.get(0).setAttribute("data-bhc","checkin:"+checkInMoment.format("YYYY-MM-DD")),selectionDates.get(1).setAttribute("data-bhc","checkout:"+checkOutMoment.format("YYYY-MM-DD"))):selectionDates.attr("data-bhc","checkin:"+checkInMoment.format("YYYY-MM-DD"))},updateDate:function(checkInMoment,checkOutMoment){var nights,textArray=[],localizer=this.options.Localizer;if(checkInMoment){if(textArray.push('<span class="dates">'),textArray.push(this.formatLongDateString(checkInMoment)),textArray.push('<span class="date-separator"> &ndash; </span>'),checkOutMoment){nights=checkOutMoment.diff(checkInMoment,"days"),textArray.push(this.formatLongDateString(checkOutMoment)),textArray.push("</span>");var nightText=" "+localizer.translateText(1==nights?"night":"nights");textArray.push('<span class="total-nights">'+nights+nightText+"</span>"),this.options.submitObject.nights=nights,this.hideErrorMessage()}else textArray.push("</span>");this.selectionBox.updateText(textArray.join("")),this.addBloodHoundTags(checkInMoment,checkOutMoment),this.addClearIcon()}else this.selectionBox.updateText(localizer.translateText("selectDates"));this.$el.find(".selection-box").removeClass("validation-fail"),this.passesValidation=!0},showErrorMessage:function(){var errorTip=this.$el.find("#error-tip");if(0==errorTip.length){var tipText=this.options.Localizer.translateText("errorMessage");this.$el.find(".selection-box").append('<div class="error-tip" id="error-tip">'+tipText+"</div>")}else errorTip.show()},hideErrorMessage:function(){this.$el.find(".error-tip").hide()},autoSetCheckOut:function(){var checkOutMoment=this.calendarInstance.checkInMoment.clone();checkOutMoment.add("d",1),this.calendarInstance.checkOutMoment=checkOutMoment,this.updateDate(this.calendarInstance.checkInMoment,this.calendarInstance.checkOutMoment),this.options.onDatesSelected.call(this.calendarInstance)},validates:function(){return this.calendarInstance.checkInMoment&&this.calendarInstance.checkOutMoment?(this.$el.find(".selection-box").removeClass("validation-fail"),this.hideErrorMessage()):(this.$el.find(".selection-box").addClass("validation-fail"),this.calendarInstance.checkInMoment&&this.autoSetCheckOut()),this.calendarInstance.checkInMoment&&this.calendarInstance.checkOutMoment}})}),require.define("/src/views/room-instance.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module);module.exports=function(){var RoomInstance=Instrument.BaseView.extend({className:"room-instance",name:"RoomInstance",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options])},render:function(){var view=this.constructor.__super__.render.apply(this);return view}});return RoomInstance}}),require.define("/src/views/room-selection.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"rooms",name:"RoomSelection",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;view.$el.html(Templates.rooms)},render:function(){var view=this.constructor.__super__.render.apply(this);return view.iconSelectionBox=new Instrument.IconSelectionBox({eventHandler:this.options.eventHandler,eventCategories:this.options.eventCategories,iconClass:"icon-room",initialText:view.options.Localizer.translateText("selectRoom"),onToggle:view.options.onClick}),view.$el.find(".selection-box").append(view.iconSelectionBox.render().el),view},clear:function(){var roomSelected=this.iconSelectionBox.$el.find(".selection-text").html()!==this.options.Localizer.translateText("selectRoom");roomSelected&&(this.iconSelectionBox.updateText(this.options.Localizer.translateText("selectRoom")),this.$el.find(".room-description").hide(),this.options.onRoomSelect&&this.options.onRoomSelect())},toggleInstance:function(){$("div[class*='-background']").hide()},validates:function(){var rooomSelected=!1;return rooomSelected=this.iconSelectionBox.$el.find(".selection-text").html()!==this.options.Localizer.translateText("selectRoom"),rooomSelected?this.$el.find(".selection-box").removeClass("validation-fail"):this.$el.find(".selection-box").addClass("validation-fail"),rooomSelected
}})}),require.define("/src/views/child-selections.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Template=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"child-selections",name:"ChildSelections",defaults:{CHILD_MINIMUM_AGE:2,CHILD_MAXIMUM_AGE:11},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this,childMinimumAge=view.options.childMinimumAge||view.defaults.CHILD_MINIMUM_AGE,childMaximumAge=view.options.childMaximumAge||view.defaults.CHILD_MAXIMUM_AGE,childrenAges=(view.options.childrenAges||"").split(",");childrenAges=childrenAges.slice(0,this.options.childCount),view.selects=[],0===this.options.childCount?view.$el.find("child-selections").remove():_.each(_.range(1,this.options.childCount+1),function(number){var ageSelected=childrenAges[number-1]>childMaximumAge?childMaximumAge:childrenAges[number-1],dataList=_.map(_.range(childMinimumAge,childMaximumAge+1),function(number){return view.toOption({text:number,value:number})});dataList.unshift(view.toOption({text:"< 1",value:"0"})),view.childAgeSelect=new Instrument.IconSelectionBox({initialText:ageSelected?0==ageSelected?"< 1":ageSelected:"--",viewName:"AgeSelection",onToggle:function(){view.$el.find(".validation-fail").removeClass("validation-fail"),view.toggleAgeInstance(this)}}),view.childAgeSelect.selectedList=new Instrument.SelectionList({dataList:view.options.dataList||dataList,eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,selected:ageSelected,viewName:"AgeSelectionList",onSelect:function(){var age=this.$el.find(".map-label").text();this.$el.addClass("selected"),this.$el.siblings().removeClass("selected"),view.updateText.apply(this,[age]),view.options.onToggle.call(this),view.options.onChildAgeChange(),view.toggleAgeInstance(this)}}).render();var ageLabelElem=Template.childrenAges,childSelection=view.$el.append(ageLabelElem).find(".child-selection:last-child");childSelection.find(".age-text").html(view.options.Localizer.translateText("childAgeText")+" "+number);var ageBackGround='<div class="age-background"></div>';childSelection.find(".selection-box").html(view.childAgeSelect.render().el),childSelection.find(".selection-box").append(ageBackGround),childSelection.find(".age-background").html(view.childAgeSelect.selectedList.el),view.selects.push(view.childAgeSelect.selectedList)},this)},positionPopup:function(el){var margin_top=-((el.outerHeight()+el.parent().outerHeight())/2),margin_left=el.parent().outerWidth();el.css({"margin-top":margin_top+"px","margin-left":margin_left+"px"})},updateText:function(){this.$el.closest(".child-selection").find(".selection-text").text(arguments[0])},toggleAgeInstance:function(elem){var view=this,popover=elem.$el.parents("[class$=-selection]").find("[class$=-background]"),isDisplayed=popover.is(":visible"),selected=elem.options.initialText||elem.options.data.value;view.notifier.tell("Toggle","click",{displaying:isDisplayed,selected:selected},function(){view.options.closePopover(),isDisplayed||(popover.show(),popover.find(".selection-list").show(),view.positionPopup(popover),view.options.applyPopover(popover.parents(".child-selection")))})},render:function(){var view=this.constructor.__super__.render.apply(this);return view},toOption:function(option){return{label:'<span class="map-label">'+option.text+'</span><span class="map-value">'+option.value+"</span>",value:option.value}},validates:function(){var elementSuccesses=[];return _.each(this.selects,function(selectInstrument){var ageText=selectInstrument.$el.find(".selected .map-value").text(),selectInstrumentSuccess=""!=ageText&&+ageText>=0;selectInstrumentSuccess?selectInstrument.$el.closest(".child-selection").find(".selection-box").removeClass("validation-fail"):(success=!1,selectInstrument.$el.closest(".child-selection").find(".selection-box").addClass("validation-fail")),elementSuccesses.push(selectInstrumentSuccess)},this),!_.contains(elementSuccesses,!1)}})}),require.define("/src/views/room-options.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Template=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"room-options",name:"RoomOptions",defaults:{ADULT_MINIMUM:1,ADULT_MAXIMUM:4,CHILD_MINIMUM:0,CHILD_MAXIMUM:3,ADULT_SELECTED:2,CHILD_SELECTED:0},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this,adultMinimum=view.options.adultMinimum||view.defaults.ADULT_MINIMUM,adultMaximum=view.options.adultMaximum||view.defaults.ADULT_MAXIMUM,childMinimum=view.options.childMinimum||view.defaults.CHILD_MINIMUM,childMaximum=view.options.childMaximum||view.defaults.CHILD_MAXIMUM,adultCount=view.options.adultSelected;adultCount=isNaN(adultCount)?view.defaults.ADULT_SELECTED:adultCount;var childCount=view.options.childSelected||view.defaults.CHILD_SELECTED;view.options.adultSelected=adultCount>adultMaximum?adultMaximum:adultMinimum>adultCount?adultMinimum:adultCount,view.options.childSelected=childCount>childMaximum?childMaximum:childMinimum>childCount?childMinimum:childCount;var adultDataList=_.map(_.range(adultMinimum,adultMaximum+1),function(ndx){var adultText=this.getLocalizedLabel("adult",ndx),hash=this.toOption({text:ndx+" "+adultText,value:ndx});return view.options.adultSelected===ndx&&(hash.selected=!0),hash},view),childDataList=_.map(_.range(childMinimum,childMaximum+1),function(ndx){var childText=this.getLocalizedLabel("child",ndx),hash=this.toOption({text:ndx+" "+childText,value:ndx});return view.options.childSelected===ndx&&(hash.selected=!0),hash},view);view.roomOptionAdults=new Instrument.IconSelectionBox({iconClass:"icon-user",name:"AdultCount",viewName:"AdultCount",initialText:view.options.adultSelected+" "+view.getLocalizedLabel("adult",view.options.adultSelected),onToggle:function(){view.toggleInstance(view.roomOptionAdults.selectedList,"Click")}}),view.roomOptionAdults.selectedList=new Instrument.SelectionList({dataList:view.options.adultDataList||adultDataList,eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,selected:view.options.adultSelected,name:"AdultSelectionList",viewName:"AdultSelectionList",onSelect:function(){$view=this.$el;var count=this.$el.find(".map-value").text();this.$el.addClass("selected"),this.$el.siblings().removeClass("selected"),view.updateText.apply(view,["adult",count]),view.options.onAdultCountChange({value:this.$el.find(".map-value").text()}),view.toggleInstance(this,"Toggle")}}).render(),view.roomOptionChildren=new Instrument.IconSelectionBox({iconClass:"icon-child",name:"ChildCount",viewName:"ChildCount",initialText:view.options.childSelected+" "+view.getLocalizedLabel("child",view.options.childSelected),onToggle:function(){view.toggleInstance(view.roomOptionChildren.selectedList,"Click")}}),view.roomOptionChildren.selectedList=new Instrument.SelectionList({dataList:view.options.childDataList||childDataList,eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,selected:view.options.childSelected,name:"ChildSelectionList",viewName:"ChildSelectionList",onSelect:function(){var count=this.$el.find(".map-value").text();this.$el.addClass("selected"),this.$el.siblings().removeClass("selected"),view.updateText.apply(view,["child",count]),view.options.onChildCountChange({value:this.$el.find(".map-value").text()}),view.toggleInstance(this,"Toggle")}}).render()},toOption:function(option){return{label:'<span class="map-label">'+option.text+'</span><span class="map-value">'+option.value+"</span>",value:option.value}},getLocalizedLabel:function(type,value){var suffix=1==value?type:"adult"==type?"adults":"children";return this.options.Localizer.translateText(suffix)},updateText:function(){var view=this,type=arguments[0],count=arguments[1],roomOptions="adult"==type?view.roomOptionAdults:view.roomOptionChildren;roomOptions.$el.find(".selection-text").text(count+" "+view.getLocalizedLabel(type,count));var dataBhcHtml=_.template(Template.dataBhcTemplate,{data:type+"Count:"+roomOptions.$el.find(".selection-text").text()},{interpolate:/\{\{(.+?)\}\}/g});roomOptions.$el.find(".selection-text").append(dataBhcHtml)},toggleInstance:function(elem,type){var view=this,popover=elem.$el.closest("[class$=-background]"),isDisplayed=popover.is(":visible"),selected=popover.find(".selected .map-value").text();view.notifier.tell(type,type.toLowerCase(),{displaying:isDisplayed,selected:selected},function(){view.options.closePopover(),isDisplayed||(popover.show(),view.options.applyPopover(popover.parent()),popover.find(".selection-list").show())})},render:function(){var view=this.constructor.__super__.render.apply(this);view.$el.empty();var adultCount=view.$el.append(Template.adultCount).find(".adult-count");adultCount.find(".selection-box").append(view.roomOptionAdults.render().el),adultCount.find(".adult-background").html(view.roomOptionAdults.selectedList.el);var dataBhcHtml=_.template(Template.dataBhcTemplate,{data:"adultCount:"+adultCount.find(".selection-text").text()},{interpolate:/\{\{(.+?)\}\}/g});adultCount.find(".selection-text").append(dataBhcHtml);var childCount=view.$el.append(Template.childCount).find(".child-count");childCount.find(".selection-box").append(view.roomOptionChildren.render().el),childCount.find(".child-background").html(view.roomOptionChildren.selectedList.el);var dataBhcHtml=_.template(Template.dataBhcTemplate,{data:"childCount:"+childCount.find(".selection-text").text()},{interpolate:/\{\{(.+?)\}\}/g});return childCount.find(".selection-text").append(dataBhcHtml),view},validates:function(){var success=!1;return success=this.$el.find(".selection-list").size()==this.$el.find(".selection-list .selected").size()}})}),require.define("/src/views/calendar-room-search.js",function(module){require("/node_modules/accounting/accounting.js",module);var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module);require("/src/views/templates.js",module);var SearchHeaderView=require("/src/views/search-header-view.js",module),CalendarSelection=require("/src/views/calendar-selection.js",module),RoomOptions=require("/src/views/room-options.js",module),ChildSelections=require("/src/views/child-selections.js",module),RoomSelection=require("/src/views/room-selection.js",module),SearchFooterView=require("/src/views/search-footer-view.js",module),Hotels=require("/src/collections/hotels.js",module),Localizer=require("/src/localizers/localizer.js",module),RoomDetails=require("/src/views/room-details.js",module),ExternalizedText=require("/src/views/externalized-text.js",module),Errors=require("/src/errors/errors-index.js",module);module.exports=Instrument.BaseView.extend({className:"marketrate-search",name:"CalendarRoomSearch",tagName:"ul",template:'<ul id="marketrate-search"></ul>',defaults:{ROOM_COUNT:1},initialize:function(options){this.constructor.__super__.initialize.apply(this,[options]);var view=this;if(this.options.submitObject=this.options.submitObject||{rooms:this.defaults.ROOM_COUNT},!this.options.deal)throw new Errors.DealNotFoundException("a deal was not provided when creating this view");this.defineViewSettings(),this.setDefaultLocale();var urlHash=this.parseUrlString();this.setViewOptions(urlHash),this.hotels=new Hotels(options.deal.options[0]),this.hotelFetching=!1,this.hotels.bind("add",function(hotel){view.hotelFetching=!1;var background=view.roomSelection.$el.find(".rooms-background");if((background.is(":visible")||view.preFetch)&&background.hasClass("loading")){view.preFetch=!1;var rooms=hotel.rooms();rooms&&rooms.length?view.addRooms(hotel):view.showRoomErrorMessage(hotel.error())}}),this.hotels.bind("error",function(){view.hotelFetching=!1;var background=view.roomSelection.$el.find(".rooms-background");background.is(":visible")&&background.hasClass("loading")&&view.showRoomErrorMessage()}),$(document).click(function(e){view.closePopoverOnEvent(e)}),window.onkeydown=function(e){view.closePopoverOnEvent(e)},this.options.closePopover=this.closePopover,this.options.applyPopover=this.applyPopover},afterViewInitialization:function(){this.roomOptions.options.childSelected&&(this.roomOptions.options.onChildCountChange({value:this.roomOptions.options.childSelected}),this.childSelections.options.onToggle()),0==this.options.deal.active&&this.disableCalendar()},disableCalendar:function(){this.$el.find(".icon-selection-box").attr("disabled","disabled"),this.$el.find(".icon-selection-box").addClass("expired"),this.$el.find(".btn-buy-big").attr("disabled","disabled"),this.$el.find(".btn-buy-big").addClass("expired")},showRoomErrorMessage:function(error){var view=this,background=view.roomSelection.$el.find(".rooms-background");background.removeClass("loading"),view.closePopover(),error&&error.message&&"no rooms found"===error.message.toLowerCase()?(view.showPopupMessage({name:"rooms",value:"noRoom",classname:"no-room"}),background.find(".dynamic-bloodhound").attr("data-bhc","message:NoRoomsFound")):(view.showPopupMessage({name:"rooms",value:"inventoryError",classname:"room-load-issue"}),background.find(".dynamic-bloodhound").attr("data-bhc","message:InventoryError"))},addRooms:function(hotel){var view=this,dataList=[],collection=hotel.rooms(),background=view.roomSelection.$el.find(".rooms-background");background.removeClass("loading"),view.options.maxRooms=view.roomSelection.options.initialRooms,view.closePopover(),dataList=_.map(collection,function(room){return this.toOption(room)},view),view.notifier.tell("Render","render",function(){view.headerView.updatePrice(hotel.avgMinPrice({includeTax:view.options.includeTaxOnPrice})),view.roomSelection.selectionList=new Instrument.SelectionList({dataList:dataList,eventCategories:view.options.eventCategories,eventHandler:view.options.eventHandler,onSelect:function(){var totalPrice,netPrice,textArray=[],titleElement=this.$el.find(".title"),priceElement=this.$el.find(".price"),roomToken=priceElement.attr("data-booking-descriptor");if(background.hide(),!(priceElement.length<1)){var template=_.template('<div class="<%= theClass %>"><%= value %></div>');textArray.push(template({theClass:"title",value:titleElement.text()})),textArray.push(template({theClass:"price",value:priceElement.text()})),view.roomSelection.iconSelectionBox.updateText(textArray.join("")),netPrice=view.calculateTotalPrice(roomToken,!1),totalPrice=view.calculateTotalPrice(roomToken),view.footerView.animatePrice(totalPrice),null!=view.footerView.options.bucksBack&&view.footerView.updateBucksBack(netPrice),view.options.submitObject.room_id=priceElement.attr("data-booking-descriptor"),view.options.submitObject.price=priceElement.text(),view.options.submitObject.roomTitle=titleElement.text(),view.options.submitObject.roomDescription=this.$el.find(".description").text();var hotel=view.hotels.first(),roomModel=hotel.findByBookingDescriptor(roomToken);view.roomSelection.roomDescription=new RoomDetails(view.cloneConfiguration({roomDetails:roomModel.description()})),view.roomSelection.$el.find(".rooms-details").html(view.roomSelection.roomDescription.render().el);var roomSelection=view.options.views.roomSelection;if(roomSelection.onRoomSelect){var cancellationPolicy=roomModel.cancellationPolicy().join("<br>"),crsPolicy=roomModel.crsPolicy();roomSelection.onRoomSelect(cancellationPolicy+"<br><br>"+crsPolicy)}view.closePopover()}}}).render(),background.html("<div class='rooms-heading'>"+view.options.Localizer.translateText("averagePerNight")+"</div>"),background.html("<div class='dynamic-bloodhound'></div>"),background.find(".dynamic-bloodhound").append(view.roomSelection.selectionList.el),background.find(".dynamic-bloodhound").attr("data-bhc","message:"+collection.length+"_rooms_returned"),dataList.length>view.options.maxRooms&&(view.showMoreOption.call(view),view.showHideMoreOption({isExpanded:!0}),background.append(view.roomSelection.moreRooms.render().el)),background.show(),view.positionPopup(background),view.applyPopover(background.parent())})},addNoRoom:function(){return{label:'<span class="title">'+view.options.Localizer.translateText("noRoom")+"</span>",value:-1}},buyButtonClick:function(){var buyConfig=this.options.buyConfiguration;if(buyConfig&&"function"==typeof buyConfig.action)buyConfig.action(this.createNavigationMap());else{var form=this.createForm();form.append(this.createNavigationElements()),this.$el.append(form),_.delay(function(form){form.submit()},200,form)}},calculateTotalPrice:function(bookingDescriptor,includeTax){"undefined"==typeof includeTax&&(includeTax=this.options.includeTaxOnPrice);var price=0,hotel=this.hotels.first();if(hotel){var room=hotel.findByBookingDescriptor(bookingDescriptor);room&&(price=_.reduce(room.prices(),function(count,price){var amount=includeTax?price.totalAmount():price.amount();return count+ +amount},0))}return price},capitalize:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},clear:function(){this.roomSelection.clear(),this.options.submitObject.room_id="",this.footerView.clear(),this.options.submitObject.price="",this.hotelFetching=!1},cloneConfiguration:function(default_options,options){return _.extend(_.clone(this.options),default_options,options)},applyPopover:function(el){el.find(".selection-box").addClass("selected"),el.find(".selection-box").removeClass("validation-fail")},closePopover:function(){$(".marketrate-search .selection-box").removeClass("selected"),$(".marketrate-search div[class*=-background]").hide()},closePopoverOnEvent:function(ev){var view=this,popups=$(".marketrate-search div[class*=-background]");(!popups.is(ev.target)&&0===popups.has(ev.target).length||27===ev.keyCode)&&view.closePopover()},createForm:function(){var buyConfig=this.options.buyConfiguration;if(_.isEmpty(buyConfig)||_.isEmpty(buyConfig.action))throw new Errors.ParameterMissing("Form action has to be provided inside Buy configuration");return $('<form action="'+buyConfig.action+'" method="'+buyConfig.method+'" style="display: none;"></form>')},createInputElement:function(object){var template=_.template('<input type="<%= type %>" name="<%= name %>" value="<%= value %>"/>');return template({type:object.type,name:object.name,value:object.value})},createNavigationElements:function(){var elementsHash=this.createNavigationMap(),elements=[];return _.each(elementsHash,function(value,key){elements.push(this.createInputElement({type:"hidden",name:key,value:value}))},this),elements.join("")},createNavigationMap:function(){var submitObject=this.options.submitObject;return{check_in:this.formatDate(submitObject.checkIn),check_out:this.formatDate(submitObject.checkOut),children:_.map(submitObject.childrenAges,function(age){return age}).join(","),adults:submitObject.adultSelected,number_of_rooms:submitObject.rooms||this.defalts.ROOM_COUNT,number_of_nights:submitObject.nights,room_id:submitObject.room_id,room_title:submitObject.roomTitle,room_description:submitObject.roomDescription}},defineViewSettings:function(){_.each(this.options.views,function(config,view){this["displays"+this.capitalize(view)]=config},this)},formatDate:function(date){return date.getFullYear()+"-"+("0"+(date.getMonth()+1)).slice(-2)+"-"+("0"+date.getDate()).slice(-2)},positionPopup:function(el){var margin_top=-((el.outerHeight()+el.parent().outerHeight())/2),margin_left=el.parent().outerWidth();el.css({"margin-top":margin_top+"px","margin-left":margin_left+"px"})},toOption:function(room){return{label:'<span class="title">'+room.title()+"</span>"+'<span class="price" data-booking-descriptor="'+room.bookingDescriptor()+'">'+this.options.Localizer.formatCurrency(room.averagePrice({includeTax:this.options.includeTaxOnPrice}))+"/"+this.options.Localizer.translateText("night")+"</span>",value:room.bookingDescriptor()}},show:function(elem){var view=this;elem.html(view.render().el),"true"===view.options.views.roomSelection.preFetch&&(view.fetchRoomAvailability(),view.preFetch=!0)},render:function(){var view=this.constructor.__super__.render.apply(this);if(view.$el.attr("data-bhw","CalendarRoomSearch"),view.$el.attr("data-bh-viewport","respect"),view.displaysHeader&&(view.headerView=new SearchHeaderView(view.cloneConfiguration(view.options.views.header)),view.$el.append(view.headerView.render().el)),view.displaysCalendarSelection){var calendarConfiguration=view.cloneConfiguration({onDatesSelected:function(){view.options.submitObject.checkIn=this.checkInMoment.toDate(),view.options.submitObject.checkOut=this.checkOutMoment.toDate(),view.updateUrlHash(),view.clear(),view.$el.find(".progress > div").toggle()},onDateCleared:function(){view.clear(),view.options.submitObject.checkIn="",view.options.submitObject.checkOut="",view.updateUrlHash()}},view.options.views.calendarSelection);view.calendarSelection=new CalendarSelection(calendarConfiguration),view.options.submitObject.checkIn=view.calendarSelection.options.checkIn,view.options.submitObject.checkOut=view.calendarSelection.options.checkOut,view.$el.append(view.calendarSelection.render().el),view.$el.find(".selection-box").attr("data-bhc","message:RoomCalendar")}if(view.displaysRoomOptions){var roomOptionsConfiguration=view.cloneConfiguration({onAdultCountChange:function(option){view.options.submitObject.adultSelected=option.value,view.updateUrlHash(),view.clear()},onChildCountChange:function(option){view.options.submitObject.childSelected=option.value;var roomOptions=view.options.views.roomOptions,childrenAges=view.options.submitObject.childrenAges;childrenAges=childrenAges?childrenAges.slice(0,option.value):void 0,childrenAges=childrenAges?childrenAges.join(","):roomOptions.childrenAges,view.options.submitObject.childrenAges=(childrenAges||"").split(",");var childAgeConfiguration=view.cloneConfiguration({childMaximumAge:roomOptions.childMaximumAge,childMinimumAge:roomOptions.childMinimumAge,childCount:+option.value,childrenAges:childrenAges,onChildAgeChange:function(){view.updateUrlHash()},onToggle:function(){view.options.submitObject.childrenAges=new Array,_.each(view.childSelections.selects,function(select,ndx){view.options.submitObject.childrenAges[ndx]=select.$el.find(".selected .map-value").text()}),view.clear()}});view.childSelections=new ChildSelections(childAgeConfiguration),view.$el.find(".instrument.child-selections").remove(),+option.value>0&&view.$el.find(".instrument.room-options").after(view.childSelections.render().el),view.updateUrlHash(),view.clear()}},view.options.views.roomOptions);view.roomOptions=new RoomOptions(roomOptionsConfiguration),view.options.submitObject.adultSelected=view.roomOptions.options.adultSelected,view.options.submitObject.childSelected=view.roomOptions.options.childSelected,view.$el.append(view.roomOptions.render().el)}if(view.displaysRoomSelection){var roomSelectionConfiguration=view.cloneConfiguration({onClick:function(){view.fetchRoomAvailability()}},view.options.views.roomSelection);view.roomSelection=new RoomSelection(roomSelectionConfiguration),view.$el.append(view.roomSelection.render().el)}if(view.displaysFooter){var displayMode=view.options.display?view.options.display.mode:"",footerConfiguration=view.cloneConfiguration({mode:displayMode,onBuyButtonClick:function(){view.validates()&&view.roomSelection.validates.call(view.roomSelection)&&view.buyButtonClick.call(view)}},view.options.views.footer);view.footerView=new SearchFooterView(footerConfiguration),view.$el.append(view.footerView.render().el)}return view.afterViewInitialization(),view},fetchRoomAvailability:function(){var view=this,background=view.roomSelection.$el.find(".rooms-background"),isExpanded=background.is(":visible");if(background.removeClass("no-room room-load-issue"),background.remove(".dynamic-bloodhound"),view.roomSelection.toggleInstance(),view.validates()){var trackyOptions=view.createTrackyOptions(view.options.submitObject);view.notifier.tell("Click","click",trackyOptions,function(){if(!isExpanded&&view.hotelFetching)view.showPopupMessage({name:"rooms",classname:"loading",value:"checkingAvailability"});else if(!isExpanded){var submitObject=view.options.submitObject;view.showPopupMessage({name:"rooms",classname:"loading",value:"checkingAvailability"}),view.hotels.reset(),utility="undefined"!=typeof App&&App.Utilities?App.Utilities.Utility:void 0,view.hotelFetching=!0,"undefined"!=typeof utility&&utility.treatAsNewPage(window.location.href),view.hotels.fetch({data:{check_in:view.formatDate(submitObject.checkIn),check_out:view.formatDate(submitObject.checkOut),children:_.map(submitObject.childrenAges,function(age){return age}).join(","),adults:submitObject.adultSelected,number_of_rooms:submitObject.rooms||view.defalts.ROOM_COUNT},timeout:view.roomSelection.options.timeout,cache:!1})}view.roomSelection.$el.find(".selection-box").removeClass("validation-fail")})}},createTrackyOptions:function(object){return{travel_start_date:this.formatDate(object.checkIn),travel_end_date:this.formatDate(object.checkOut),number_of_adults:object.adultSelected,number_of_children:object.childSelected,ages_of_children:object.childrenAges,hotel_permalink:this.options.deal.options[0].id,hotel_city:this.options.deal.city,room_id:object.room_id,room_name:object.roomTitle,number_of_nights:object.nights}},setDefaultLocale:function(){var localizer,currencyFormat,dateFormat,translations,localization=this.options.localization;this.options.locale=localization&&localization.i18n?localization.i18n.locale.replace("_","-"):"en-US",localization&&localization.i18n?(localizer=localization.i18n,currencyFormat=localizer.t(".currency"),dateFormat=localizer.t(".dates"),translations=localizer.t(".translations")):(currencyFormat=ExternalizedText.currency,dateFormat=ExternalizedText.dates,translations=ExternalizedText.translations),this.options.Localizer=$.extend(!0,{},Localizer),this.options.Localizer.setTranslation({localizer:localizer,currencyFormat:currencyFormat,dateFormat:dateFormat,translations:translations})},showMoreOption:function(){var view=this;view.roomSelection.moreRooms=new Instrument.Button({className:"btn-more icon-arrow-down",eventHandler:this.options.eventHandler,eventCategories:this.options.eventCategories,onClick:function(){view.showHideMoreOption({isExpanded:this.isExpanded})},text:view.options.Localizer.translateText("seeAllRooms")})},showHideMoreOption:function(options){var view=this,background=view.roomSelection.$el.find(".rooms-background");view.roomSelection.moreRooms.isExpanded=!options.isExpanded,options.isExpanded?(view.roomSelection.$el.find(".selection-option.instrument:gt("+(view.options.maxRooms-1)+")").css("display","none"),view.roomSelection.moreRooms.$el.html(view.options.Localizer.translateText("seeAllRooms")),view.roomSelection.moreRooms.$el.removeClass("icon-arrow-up").addClass("icon-arrow-down"),view.positionPopup(background)):(view.roomSelection.$el.find(".selection-option").css("display","block"),view.roomSelection.moreRooms.$el.html(view.options.Localizer.translateText("seeFewerRooms")),view.roomSelection.moreRooms.$el.removeClass("icon-arrow-down").addClass("icon-arrow-up"),view.positionPopup(background))},showPopupMessage:function(message){var view=this,background=view.$el.find("."+message.name+"-background");background.html("<div class='dynamic-bloodhound'></div>"),background.find(".dynamic-bloodhound").append(_.unescape(view.options.Localizer.translateText(message.value))),message.classname&&background.addClass(message.classname),background.show(),view.positionPopup(background),view.applyPopover(background.parent())},updateUrlHash:function(){var elementsHash=this.createElementsMap(this.options.submitObject);elementsHash=$.extend({},this.parseUrlString(),elementsHash),window.location.hash=$.param(elementsHash)},createElementsMap:function(submitObject){+submitObject.childSelected,submitObject.childrenAges;var hashObj={};return hashObj.check_in=submitObject.checkIn?this.formatDate(submitObject.checkIn):"",hashObj.check_out=submitObject.checkOut?this.formatDate(submitObject.checkOut):"",submitObject.adultSelected&&(hashObj.adults=submitObject.adultSelected),submitObject.childSelected&&(hashObj.children=_.filter(submitObject.childrenAges,function(age){return age}).join(",")),hashObj},parseUrlString:function(){var hashString=window.location.hash,params=null;if(hashString){hashString=hashString.substring(1),params={};for(var keyValue,pattern=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s)};keyValue=pattern.exec(hashString);)""!=keyValue[2]&&(params[decode(keyValue[1])]=decode(keyValue[2]))}return params},setViewOptions:function(object){if(null!=object){var views=this.options.views;this.options.deal.city=object.destination_name,views.calendarSelection.checkIn=object.check_in,views.calendarSelection.checkOut=object.check_out,views.roomOptions.adultSelected=object.adults;var childrenAges="undefined"==typeof object.children?[]:object.children.split(",");views.roomOptions.childSelected=childrenAges.length,views.roomOptions.childrenAges=_.map(childrenAges,function(val){var intVal=parseInt(val);return isNaN(intVal)||0>intVal?void 0:intVal}).join(",")}},validates:function(){var calendarSelectionSuccess=this.calendarSelection.validates.call(this.calendarSelection),roomOptionsSuccess=this.roomOptions.validates.call(this.roomOptions),childSelectionsSuccess=!0;return this.childSelections&&this.childSelections.options.childCount&&(childSelectionsSuccess=this.childSelections.validates.call(this.childSelections)),calendarSelectionSuccess&&roomOptionsSuccess&&childSelectionsSuccess}})}),require.define("/src/errors/errors-index.js",function(module){module.exports={DealNotFoundException:function(message){this.message=message},ParameterMissing:function(message){this.message=message}}}),require.define("/src/views/room-details.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"room-description",name:"RoomDetails",tagName:"div",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options])},render:function(){var view=this.constructor.__super__.render.apply(this),localizer=view.options.Localizer;return view.$el.html(Templates.roomDescription),view.$el.find(".link-text").html("+ "+localizer.translateText("roomDetails")),view.$el.find(".link-text").click(function(e){view.notifier.tell("Click","click",function(){var background=view.$el.find(".details-content"),isDisplayed=background.is(":visible");isDisplayed?(background.hide(),view.$el.find(".link-text").html("+ "+localizer.translateText("roomDetails"))):(background.show(),view.$el.find(".link-text").html("- "+localizer.translateText("hideDetails")))}),e.stopPropagation()}),view.$el.find(".details-content").html(view.options.roomDetails),view}})}),require.define("/src/collections/hotels.js",function(module){var Hotel=require("/src/models/hotel.js",module);module.exports=Backbone.Collection.extend({model:Hotel,initialize:function(options){this.url=options.inventoryUrl},parse:function(response){return response.hotel?[response.hotel]:response}})}),require.define("/src/models/hotel.js",function(module){var Room=require("/src/models/room.js",module);module.exports=Backbone.Model.extend({initialize:function(json){try{this.set({id:json.id,rooms:json.options,uuid:json.uuid})}catch(except){console.log(except)}},findByBookingDescriptor:function(bookingDescriptor){return _.find(this.rooms(),function(room){return room.bookingDescriptor()===bookingDescriptor},this)},id:function(){return this.get("id")},rooms:function(){return _.map(this.get("rooms"),function(json){return new Room(json)})},uuid:function(){return this.get("uuid")},error:function(){return this.get("error")},avgMinPrice:function(options){return options&&options.includeTax?.01*this.get("displayPrice").amount:.01*this.get("avgMinPrice").net
}})}),require.define("/src/models/room.js",function(module){var Price=require("/src/models/price.js",module);module.exports=Backbone.Model.extend({bookingDescriptor:function(){return this.customFields().roomToken},crsPolicy:function(){return this.customFields().crsPolicy},cancellationPolicy:function(){for(var policyObj=this.customFields().cancellationPolicy,description=[],len=policyObj?policyObj.length:0,i=0;len>i;i++){var desc=policyObj[i].description;""!=desc&&(description[i]=desc)}return description},customFields:function(){return this.get("customFields")[0]||{}},description:function(){return this.get("details")[0].description},lowestPrice:function(){return Price.lowestPrice(this.prices())},averagePrice:function(options){return options&&options.includeTax?this.prices().length>0?Price.averageOfTotalPrice(this.prices()):0:this.prices().length>0?Price.averagePrice(this.prices()):0},prices:function(){return _.map(this.get("prices"),function(json){return new Price(json)})},title:function(){return this.get("title")}})}),require.define("/src/models/price.js",function(module){module.exports=Backbone.Model.extend({amount:function(){return this.get("net")/100},currentCode:function(){return this.get("currencyCode")},date:function(){return this.get("date")},tax:function(){return.01*this.get("tax")},totalAmount:function(){return this.amount()+this.tax()}},{averagePrice:function(prices){var totalPrice=_.reduce(prices,function(total,price){return total+price.amount()},0);return totalPrice/prices.length},lowestPrice:function(prices){return _.reduce(prices,function(minimumPrice,iterationPrice){return minimumPrice.amount()>iterationPrice.amount()?iterationPrice:minimumPrice})},averageOfTotalPrice:function(prices){var totalPrice=_.reduce(prices,function(total,price){return total+price.totalAmount()},0);return totalPrice/prices.length}})}),require.define("/src/views/search-footer-view.js",function(module){require("/node_modules/accounting/accounting.js",module);var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"footer",name:"SearchFooterView",initialize:function(options){Instrument.BaseView.prototype.initialize.call(this,options),this.decimalPlaces=0},animateNumber:function(startValue,endValue,callback,context){var timeoutId,difference=Math.abs(endValue-startValue),duration=750,tickInterval=25,steps=duration/tickInterval,increment=Math.ceil(difference/steps),currentValue=startValue;"undefined"==typeof context&&(context=this);var tick=function(){Math.abs(currentValue-endValue)<increment?currentValue=endValue:endValue>currentValue?currentValue+=increment:currentValue-=increment,callback.call(context,currentValue),currentValue!==endValue&&(timeoutId=setTimeout(tick,tickInterval))};tick()},animatePrice:function(amount){var $priceElement=this.$el.find(".cta .subtotal-value");this.options.Localizer.unFormatCurrency($priceElement.text()),0===amount?$priceElement.removeClass("buyable"):$priceElement.addClass("buyable"),$priceElement.html(this.options.Localizer.formatCurrency(amount));var buyButton=this.$el.find(".btn-buy-big .title-book");buyButton.find('div[data-bhc*="price"]').remove();var dataBhcHtml=_.template(Templates.dataBhcTemplate,{data:"price:"+amount},{interpolate:/\{\{(.+?)\}\}/g});buyButton.append(dataBhcHtml)},updateBucksBack:function(amount){var $bucksBackElement=this.$el.find(".bucks-value"),initialAmount=$bucksBackElement.text();initialAmount=isNaN(initialAmount)?0:this.options.Localizer.unFormatCurrency($bucksBackElement.text());var bucksBackAmount;if(0==amount)$bucksBackElement.text(this.options.bucksBack+"%");else{var bucksBackAmount=.01*+amount*this.options.bucksBack;this.animateNumber(initialAmount,bucksBackAmount,function(currentAmount){$bucksBackElement.text(this.options.Localizer.formatCurrency(currentAmount))},this)}},render:function(){var view=this.constructor.__super__.render.apply(this),localizer=view.options.Localizer;view.$el.html(Templates.footer);var subtotalText,buttonText;if(null!=view.options.bucksBack){var bucksBackDesc=_.template(localizer.translateText("bucksBack_desc"),{bucksBack_percent:view.options.bucksBack},{interpolate:/\{\{(.+?)\}\}/g}),hash={bucksBack_percent:this.options.bucksBack,bucksBack_header:localizer.translateText("bucksBack"),bucksBack_desc:bucksBackDesc},bucksBackHtml=_.template(Templates.bucksBack,hash,{interpolate:/\{\{(.+?)\}\}/g});view.$el.append(bucksBackHtml)}var bText;return bText=0==this.options.deal.active?localizer.translateText("inactive"):localizer.translateText("book"),"interim"===this.options.mode?(subtotalText="<div class='subtotal'><span class='subtotal-text'>"+localizer.translateText("subtotal")+"</span><span class='subtotal-value'>"+localizer.formatCurrency(0)+"</span></div>",buttonText="<div class='title-book'>"+bText+"!</div>",view.$el.find(".cta").html(subtotalText)):(subtotalText="<div class='subtotal-value'>"+localizer.formatCurrency(0)+"</div>",buttonText=subtotalText+"<div class='title-book'>"+bText+" &gt;</div>"),view.buyButton=new Instrument.Button({className:"btn-buy-big",eventHandler:this.options.eventHandler,eventCategories:this.options.eventCategories,onClick:view.options.onBuyButtonClick,text:buttonText}),view.$el.find(".cta").append(view.buyButton.render().el),view.$el.find(".cta button").attr("data-bhw","Book"),view},clear:function(){this.animatePrice(0),this.updateBucksBack(0)}})}),require.define("/src/views/search-header-view.js",function(module){var Instrument=require("/node_modules/ui-instrument/dist/instrument-no-commonjs.js",module),Templates=require("/src/views/templates.js",module);module.exports=Instrument.BaseView.extend({className:"calendar-header",name:"HeaderView",initialize:function(options){this.constructor.__super__.initialize.apply(this,[options])},createHeaderInfoElement:function(object){return this.options.Localizer.formatCurrency(object.averagePerNight,0)+"<small>/"+this.options.Localizer.translateText("night")+"</span>"},formatCurrency:function(amount){var unformattedAmount=this.options.Localizer.unFormatCurrency(amount);return this.options.Localizer.formatCurrency(unformattedAmount)},render:function(){var view=this.constructor.__super__.render.apply(this);if(view.$el.html(Templates.header),view.$el.find(".nightly-minimum .price-label").html(view.options.Localizer.translateText("from")),view.updatePrice(view.options.averagePerNight),null!=this.options.bucksBack){var bucksBack='+ <span class = "back">'+this.options.bucksBack+"</span>% ";bucksBack+=view.options.Localizer.translateText("bucksBack")+'<span class="icon-bucks"></span>',view.$el.find(".bucks-back").html(bucksBack)}return view},updatePrice:function(price){this.$el.find(".nightly-minimum .price").html(this.createHeaderInfoElement({averagePerNight:price}))}})}),require.define("/src/collections/collections-index.js",function(module){module.exports={Hotels:require("/src/collections/hotels.js",module)}}),require.define("/src/models/models-index.js",function(module){module.exports={Hotel:require("/src/models/hotel.js",module),Price:require("/src/models/price.js",module),Room:require("/src/models/room.js",module)}}),global.MarketRate=require("/src/market-rate.js")}.call(this,this),function($,undefined){function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,element.href&&mapName&&"map"===map.nodeName.toLowerCase()?(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img)):!1):(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{},$.extend($.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({focus:function(orig){return function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):orig.apply(this,arguments)}}($.fn.focus),scrollParent:function(){var scrollParent;return scrollParent=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})},removeUniqueId:function(){return this.each(function(){runiqueId.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0,border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0),margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)}),size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return size===undefined?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(removeData){return function(key){return arguments.length?removeData.call(this,$.camelCase(key)):removeData.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.support.selectstart="onselectstart"in document.createElement("div"),$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var i,set=instance.plugins[name];if(set&&instance.element[0].parentNode&&11!==instance.element[0].parentNode.nodeType)for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0?!0:(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)}})}(jQuery),function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)},$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?(arguments.length&&this._createWidget(options,element),void 0):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?(proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}(),void 0):(proxiedPrototype[prop]=value,void 0)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor)},$.widget.extend=function(target){for(var key,value,input=slice.call(arguments,1),inputIndex=0,inputLength=input.length;inputLength>inputIndex;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&value!==undefined&&(target[key]=$.isPlainObject(value)?$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options,isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&methodValue!==undefined?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'")}):this.each(function(){var instance=$.data(this,fullName);instance?instance.option(options||{})._init():$.data(this,fullName,new object(options,this))}),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),value===undefined)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(value===undefined)return this.options[key]===undefined?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){return suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof handler?instance[handler]:handler).apply(instance,arguments):void 0}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName)},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}})}(jQuery),function($){var mouseHandled=!1;$(document).mouseup(function(){mouseHandled=!1}),$.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){return!0===$.data(event.target,that.widgetName+".preventClickEvent")?($.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var that=this,btnIsLeft=1===event.which,elIsCancel="string"==typeof this.options.cancel&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1;return btnIsLeft&&!elIsCancel&&this._mouseCapture(event)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(event)!==!1,!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0)):!0}},_mouseMove:function(event){return $.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button?this._mouseUp(event):this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function($,undefined){function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];return 9===raw.nodeType?{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}:$.isWindow(raw)?{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}:raw.preventDefault?{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}:{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;var w1,w2,div=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];return $("body").append(div),w1=innerDiv.offsetWidth,div.css("overflow","scroll"),w2=innerDiv.offsetWidth,w1===w2&&(w2=div[0].clientWidth),div.remove(),cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX="scroll"===overflowX||"auto"===overflowX&&within.width<within.element[0].scrollWidth,hasOverflowY="scroll"===overflowY||"auto"===overflowY&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()}}},$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};return dimensions=getDimensions(target),target[0].preventDefault&&(options.at="left top"),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset,basePosition=$.extend({},targetOffset),$.each(["my","at"],function(){var horizontalOffset,verticalOffset,pos=(options[this]||"").split(" ");1===pos.length&&(pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]),pos[0]=rhorizontal.test(pos[0])?pos[0]:"center",pos[1]=rvertical.test(pos[1])?pos[1]:"center",horizontalOffset=roffset.exec(pos[0]),verticalOffset=roffset.exec(pos[1]),offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0],options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]}),1===collision.length&&(collision[1]=collision[0]),"right"===options.at[0]?basePosition.left+=targetWidth:"center"===options.at[0]&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:"center"===options.at[1]&&(basePosition.top+=targetHeight/2),atOffset=getOffsets(offsets.at,targetWidth,targetHeight),basePosition.left+=atOffset[0],basePosition.top+=atOffset[1],this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());"right"===options.my[0]?position.left-=elemWidth:"center"===options.my[0]&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:"center"===options.my[1]&&(position.top-=elemHeight/2),position.left+=myOffset[0],position.top+=myOffset[1],$.support.offsetFractions||(position.left=round(position.left),position.top=round(position.top)),collisionPosition={marginLeft:marginLeft,marginTop:marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}),options.using&&(using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:0>right?"left":left>0?"right":"center",vertical:0>bottom?"top":top>0?"bottom":"middle"};elemWidth>targetWidth&&abs(left+right)<targetWidth&&(feedback.horizontal="center"),elemHeight>targetHeight&&abs(top+bottom)<targetHeight&&(feedback.vertical="middle"),feedback.important=max(abs(left),abs(right))>max(abs(top),abs(bottom))?"horizontal":"vertical",options.using.call(this,props,feedback)}),elem.offset($.extend(position,{using:using}))})},$.ui.position={fit:{left:function(position,data){var newOverRight,within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;data.collisionWidth>outerWidth?overLeft>0&&0>=overRight?(newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset,position.left+=overLeft-newOverRight):position.left=overRight>0&&0>=overLeft?withinOffset:overLeft>overRight?withinOffset+outerWidth-data.collisionWidth:withinOffset:overLeft>0?position.left+=overLeft:overRight>0?position.left-=overRight:position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var newOverBottom,within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;data.collisionHeight>outerHeight?overTop>0&&0>=overBottom?(newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset,position.top+=overTop-newOverBottom):position.top=overBottom>0&&0>=overTop?withinOffset:overTop>overBottom?withinOffset+outerHeight-data.collisionHeight:withinOffset:overTop>0?position.top+=overTop:overBottom>0?position.top-=overBottom:position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var newOverRight,newOverLeft,within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];
0>overLeft?(newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset,(0>newOverRight||newOverRight<abs(overLeft))&&(position.left+=myOffset+atOffset+offset)):overRight>0&&(newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft,(newOverLeft>0||abs(newOverLeft)<overRight)&&(position.left+=myOffset+atOffset+offset))},top:function(position,data){var newOverTop,newOverBottom,within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top="top"===data.my[1],myOffset=top?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];0>overTop?(newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset,position.top+myOffset+atOffset+offset>overTop&&(0>newOverBottom||newOverBottom<abs(overTop))&&(position.top+=myOffset+atOffset+offset)):overBottom>0&&(newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop,position.top+myOffset+atOffset+offset>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)&&(position.top+=myOffset+atOffset+offset))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});for(i in testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div),testElementParent=body||document.documentElement,testElementParent.insertBefore(testElement,testElementParent.firstChild),div.style.cssText="position: absolute; left: 10.7432222px;",offsetLeft=$(div).offset().left,$.support.offsetFractions=offsetLeft>10&&11>offsetLeft,testElement.innerHTML="",testElementParent.removeChild(testElement)}()}(jQuery),function($){var requestIndex=0;$.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea="textarea"===nodeName,isInput="input"===nodeName;this.isMultiLine=isTextarea?!0:isInput?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[isTextarea||isInput?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly"))return suppressKeyPress=!0,suppressInput=!0,suppressKeyPressRepeat=!0,void 0;suppressKeyPress=!1,suppressInput=!1,suppressKeyPressRepeat=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=!0,this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=!0,this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=!0,this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=!0,this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:this.menu.active&&(suppressKeyPress=!0,event.preventDefault(),this.menu.select(event));break;case keyCode.TAB:this.menu.active&&this.menu.select(event);break;case keyCode.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(event),event.preventDefault());break;default:suppressKeyPressRepeat=!0,this._searchTimeout(event)}},keypress:function(event){if(suppressKeyPress)return suppressKeyPress=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&event.preventDefault(),void 0;if(!suppressKeyPressRepeat){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event)}}},input:function(event){return suppressInput?(suppressInput=!1,event.preventDefault(),void 0):(this._searchTimeout(event),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(event){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(event),this._change(event),void 0)}}),this._initSource(),this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(event){event.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];$(event.target).closest(".ui-menu-item").length||this._delay(function(){var that=this;this.document.one("mousedown",function(event){event.target===that.element[0]||event.target===menuElement||$.contains(menuElement,event.target)||that.close()})})},menufocus:function(event,ui){if(this.isNewMenu&&(this.isNewMenu=!1,event.originalEvent&&/^mouse/.test(event.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)}),void 0;var item=ui.item.data("ui-autocomplete-item");!1!==this._trigger("focus",event,{item:item})?event.originalEvent&&/^key/.test(event.originalEvent.type)&&this._value(item.value):this.liveRegion.text(item.value)},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=previous,this._delay(function(){this.previous=previous,this.selectedItem=item})),!1!==this._trigger("select",event,{item:item})&&this._value(item.value),this.term=this._value(),this.close(event),this.selectedItem=item}}),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo(this._appendTo()),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element||(element=this.element.closest(".ui-front")),element.length||(element=this.document[0].body),element},_initSource:function(){var array,url,that=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){that.xhr&&that.xhr.abort(),that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}):this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,event))},this.options.delay)},search:function(value,event){return value=null!=value?value:this._value(),this.term=this._value(),value.length<this.options.minLength?this.close(event):this._trigger("search",event)!==!1?this._search(value):void 0},_search:function(value){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:value},this._response())},_response:function(){var that=this,index=++requestIndex;return function(content){index===requestIndex&&that.__response(content),that.pending--,that.pending||that.element.removeClass("ui-autocomplete-loading")}},__response:function(content){content&&(content=this._normalize(content)),this._trigger("response",null,{content:content}),!this.options.disabled&&content&&content.length&&!this.cancelSearch?(this._suggest(content),this._trigger("open")):this._close()},close:function(event){this.cancelSearch=!0,this._close(event)},_close:function(event){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",event))},_change:function(event){this.previous!==this._value()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({label:item.label||item.value,value:item.value||item.label},item)})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items),this.isNewMenu=!0,this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul)},_move:function(direction,event){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[direction](event),void 0):(this.search(null,event),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(keyEvent,event),event.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments),this.options.disabled||this.cancelSearch||(message=content&&content.length?this.options.messages.results(content.length):this.options.messages.noResults,this.liveRegion.text(message))}})}(jQuery),function($){$.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){this.options.disabled&&event.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault()},"click .ui-state-disabled > a":function(event){event.preventDefault()},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");!this.mouseHandled&&target.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(event),target.has(".ui-menu").length?this.expand(event):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(event,target)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);keepActiveItem||this.focus(event,item)},blur:function(event){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(event)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(event){$(event.target).closest(".ui-menu").length||this.collapseAll(event),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);elem.data("ui-menu-submenu-carat")&&elem.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(event){function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var match,prev,character,skip,regex,preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=!1,prev=this.previousFilter||"",character=String.fromCharCode(event.keyCode),skip=!1,clearTimeout(this.filterTimer),character===prev?skip=!0:character=prev+character,regex=new RegExp("^"+escape(character),"i"),match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())}),match=skip&&-1!==match.index(this.active.next())?this.active.nextAll(".ui-menu-item"):match,match.length||(character=String.fromCharCode(event.keyCode),regex=new RegExp("^"+escape(character),"i"),match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text())})),match.length?(this.focus(event,match),match.length>1?(this.previousFilter=character,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}preventDefault&&event.preventDefault()},_activate:function(event){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(event):this.select(event))},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",!0);item.attr("aria-haspopup","true").prepend(submenuCarat),menu.attr("aria-labelledby",item.attr("id"))}),menus=submenus.add(this.element),menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);/[^\-\u2014\u2013\s]/.test(item.text())||item.addClass("ui-widget-content ui-menu-divider")}),menus.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){"icons"===key&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu),this._super(key,value)},focus:function(event,item){var nested,focused;this.blur(event,event&&"focus"===event.type),this._scrollIntoView(item),this.active=item.first(),focused=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",focused.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),event&&"keydown"===event.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),nested=item.children(".ui-menu"),nested.length&&/^mouse/.test(event.type)&&this._startOpening(nested),this.activeMenu=item.parent(),this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;this._hasScroll()&&(borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop,scroll=this.activeMenu.scrollTop(),elementHeight=this.activeMenu.height(),itemHeight=item.height(),0>offset?this.activeMenu.scrollTop(scroll+offset):offset+itemHeight>elementHeight&&this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight))},blur:function(event,fromFocus){fromFocus||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",event,{item:this.active}))},_startOpening:function(submenu){clearTimeout(this.timer),"true"===submenu.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(submenu)},this.delay))},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true"),submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer),this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));currentMenu.length||(currentMenu=this.element),this._close(currentMenu),this.blur(event),this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){startMenu||(startMenu=this.active?this.active.parent():this.element),startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);newItem&&newItem.length&&(this._close(),this.focus(event,newItem))},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();newItem&&newItem.length&&(this._open(newItem.parent()),this._delay(function(){this.focus(event,newItem)}))},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;this.active&&(next="first"===direction||"last"===direction?this.active["first"===direction?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[direction+"All"](".ui-menu-item").eq(0)),next&&next.length&&this.active||(next=this.activeMenu.children(".ui-menu-item")[filter]()),this.focus(event,next)},nextPage:function(event){var item,base,height;return this.active?(this.isLastItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base-height<0}),this.focus(event,item)):this.focus(event,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(event),void 0)},previousPage:function(event){var item,base,height;return this.active?(this.isFirstItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base+height>0}),this.focus(event,item)):this.focus(event,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(event),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(event,!0),this._trigger("select",event,ui)}})}(jQuery),null!=window.Getaways?window.Getaways:window.Getaways={},null!=window.Getaways.SearchWidget?window.Getaways.SearchWidget:window.Getaways.SearchWidget={},Getaways.SearchWidget.init=function(options,done){var searchConfig,shouldShowBottomSearchBar,shouldShowTopSearchBar;return moment.lang(I18n.lang),shouldShowTopSearchBar=options.searchWidget.topSearch,shouldShowBottomSearchBar=options.searchWidget.bottomSearch,searchConfig={formConfiguration:{method:"GET",action:"action"},searchConfiguration:{cityUrl:"/travel/{{city_slug}}/hotels",destinationUrl:"/getaways",urlBase:"/getaways?function=search#search"},eventCategories:["change","click"],views:{seeMoreHotels:!1,destinationField:{},calendarSelection:{daysLimit:330},autoComplete:{resultsPerCategory:10},footer:{searchText:""}},localization:{i18n:I18n.scoped("modules.getaways")}},$(function(){var searchViewBottom,searchViewTop;return shouldShowTopSearchBar&&(searchConfig.views.seeMoreHotels=!0,searchConfig.views.footer.searchText="search",searchViewTop=new MarketRate.Views.GallerySearch(searchConfig),searchViewTop.show($("#search-component-top"))),shouldShowBottomSearchBar&&(searchConfig.views.seeMoreHotels=!1,searchConfig.views.footer.searchText="search_getaways",searchViewBottom=new MarketRate.Views.GallerySearch(searchConfig),searchViewBottom.show($("#search-component-bottom"))),done()})},window.ShortcutHeader={},ShortcutHeader.EventHandler=function(){function EventHandler(config,eventExtends){var animationConfig,cache$,cache$1,instance$;instance$=this,this.updateShortcutSelection=function(){return EventHandler.prototype.updateShortcutSelection.apply(instance$,arguments)},eventExtends&&(cache$=eventExtends,this.onSectionScroll=cache$.onSectionScroll,this.onShortcutClick=cache$.onShortcutClick),cache$1=config,this.stickyWatchElements=cache$1.stickyWatchElements,this.shortcutMap=cache$1.shortcutMap,this.stickyClass=cache$1.stickyClass,animationConfig=cache$1.animationConfig,this.$headers=$("#default-tab-header, #sticky-tab-header"),this.setDefaults(animationConfig)}var TOP_BUFFER;return TOP_BUFFER=10,EventHandler.prototype.setDefaults=function(config){return this.tickInterval=(null!=config?config.tickInterval:void 0)||15,this.visibleFactor=(null!=config?config.visibleFactor:void 0)||100,this.scrollDelay=(null!=config?config.scrollDelay:void 0)||20,null!=this.stickyClass?this.stickyClass:this.stickyClass="fixed",this.elemSelected=!1},EventHandler.prototype._getTopPosition=function(target){var $target;return $target=$(target),$target.length?$target.offset().top-this._offsetHeight()+TOP_BUFFER:void 0},EventHandler.prototype._isSectionInViewport=function(el){var offset,rect;return rect=null!=el[0]?el[0].getBoundingClientRect():void 0,offset=this._offsetHeight()+this.visibleFactor,(null!=rect?rect.bottom:void 0)>=offset},EventHandler.prototype._offsetHeight=function(){var bottom,height,index,len,stickyElements;for(height=0,index=0,stickyElements=$("."+this.stickyClass),len=stickyElements.length;len>index;)bottom=stickyElements[index].getBoundingClientRect().bottom,bottom>height&&(height=bottom),index++;return height},EventHandler.prototype.navigateTargetSection=function(target,callback){var current,difference,duration,final,increment,initial,stepAnimator;return initial=$(window).scrollTop(),final=this._getTopPosition(target),difference=Math.abs(final-initial),duration=difference/5+100,increment=Math.ceil(difference*this.tickInterval/duration),current=initial,stepAnimator=function(this$){return function(){return Math.abs(current-final)<increment?current=final:final>current?current+=increment:current-=increment,window.scrollTo(0,current),current!==final?(final=this$._getTopPosition(target)||final,setTimeout(stepAnimator,this$.tickInterval)):callback()}}(this),stepAnimator()},EventHandler.prototype.processShortcutSelection=function(el,ev){var $el,targetSection;return $el=$(el),targetSection=null!=this.shortcutMap?this.shortcutMap[$el.attr("id")]:void 0,this.elemSelected=!0,this.navigateTargetSection(targetSection,function(this$){return function(){return this$.elemSelected=!1}}(this)),this.$headers.find(".shortcut-group li").removeClass("selected"),$el.addClass("selected"),"function"==typeof this.onShortcutClick&&this.onShortcutClick($el),null!=ev?ev.preventDefault():void 0},EventHandler.prototype.stickHeader=function(watchElement){var $watchElement,isFixed,offset,offsetTop,processStickHeader,throttled,watchParentOffset;return offset=0,isFixed=!1,_.isObject(watchElement)?($watchElement=$(watchElement.elem),watchParentOffset=$(watchElement.parent).height()):$watchElement=$(watchElement),$watchElement&&$watchElement.offset()?(offsetTop=$watchElement.offset().top-offset,processStickHeader=function(){var scrollTop,shouldBeFixed;return scrollTop=$(window).scrollTop(),null==watchParentOffset&&(watchParentOffset=$(watchElement.parent).height()),isFixed||(offsetTop=$watchElement.offset().top-(null!=watchParentOffset?watchParentOffset:0)),shouldBeFixed=scrollTop>offsetTop,shouldBeFixed&&!isFixed?(isFixed=!0,$watchElement.trigger("stickElement",{offset:null!=watchParentOffset?watchParentOffset:0})):!shouldBeFixed&&isFixed?(isFixed=!1,$watchElement.trigger("unstickElement",[])):void 0},throttled=_.throttle(processStickHeader,this.scrollDelay),$(window).on("scroll",throttled)):void 0},EventHandler.prototype.updateShortcutSelection=function(){var $el,contentId,shortcutId;for(shortcutId in this.shortcutMap)if(contentId=this.shortcutMap[shortcutId],$el=$(contentId),!this.elemSelected&&1===$el.length&&this._isSectionInViewport($el)){this.$headers.find(".shortcut-group li").removeClass("selected"),this.$headers.find("."+shortcutId).addClass("selected"),"function"==typeof this.onSectionScroll&&this.onSectionScroll($el);break}},EventHandler.prototype.activate=function(){var elem,layout,processShortcutSelection;0===this.$headers.find(".shortcut-group li.selected").length&&this.$headers.find(".shortcut-group li:first").addClass("selected"),layout=this,this.$headers.find(".shortcut-group li").on("click",function(ev){return layout.processShortcutSelection($(this),ev)});for(elem in this.stickyWatchElements)this.stickHeader(this.stickyWatchElements[elem]);return processShortcutSelection=_.throttle(this.updateShortcutSelection,this.scrollDelay),$(window).on("resize scroll",processShortcutSelection)},EventHandler}(),void function(){var _adjustOptionsPosition,_toggleShowHide;null!=window.GetawaysHeaderHandler?window.GetawaysHeaderHandler:window.GetawaysHeaderHandler={},_toggleShowHide=function($element){return $element.hasClass("hide")?($element.removeClass("hide"),$element.addClass("show")):($element.removeClass("show"),$element.addClass("hide"))},_adjustOptionsPosition=function(referenceElement,optionsEl,opts){var func;return null==opts&&(opts={}),func=function(){var $referenceElement,offsetDelta;return $referenceElement=$(referenceElement).offset(),offsetDelta=null!=opts.offsetDelta?opts.offsetDelta:125,$(optionsEl).css({top:$referenceElement.top+offsetDelta})},_.delay(func,500)},GetawaysHeaderHandler.bindEvents=function(){var $buyElement,$defaultHeaderSubtitle,$defaultTabHeader,$header,$headers,$options,$purchaseCluster,$recommendationElements,$stickyClassDiv,$stickyHeaderSubtitle,$stickyTabHeader,buyElement,header,options,stickElementEvent,unstickElementEvent;return header="#default-tab-header",buyElement="#purchase-cluster .buy",options="#options",$purchaseCluster=$("#purchase-cluster"),$stickyTabHeader=$("#sticky-tab-header"),$defaultTabHeader=$("#default-tab-header"),$buyElement=$(buyElement),$stickyClassDiv=$(".sticky"),$options=$(options),$header=$(header),$headers=$("#default-tab-header, #sticky-tab-header"),$recommendationElements=$(".deal-recs"),$defaultHeaderSubtitle=$("#default-tab-header .deal-subtitle"),$stickyHeaderSubtitle=$("#sticky-tab-header .deal-subtitle"),stickElementEvent="stickElement",unstickElementEvent="unstickElement",$header.on(stickElementEvent,function(event,options){return $stickyTabHeader.show(),$stickyTabHeader.css({top:null!=options?options.offset:void 0}),_.delay(function(){return $headers.addClass("title-animate",100)}),_toggleShowHide($recommendationElements),$stickyHeaderSubtitle.addClass("hide"),$defaultHeaderSubtitle.addClass("hide"),$defaultHeaderSubtitle.removeClass("show")}),$header.on(unstickElementEvent,function(){return $stickyTabHeader.hide(),$stickyTabHeader.css({top:"auto"}),$headers.removeClass("title-animate"),_toggleShowHide($recommendationElements),$stickyHeaderSubtitle.removeClass("hide"),$defaultHeaderSubtitle.removeClass("hide"),$defaultHeaderSubtitle.addClass("show"),_adjustOptionsPosition(buyElement,options)}),$buyElement.on(stickElementEvent,function(event,options){var purchaseClusterOffset;return $buyElement.addClass("fixed"),$buyElement.css({top:null!=options?options.offset:void 0}),purchaseClusterOffset=$purchaseCluster.offset(),$buyElement.css({left:purchaseClusterOffset?purchaseClusterOffset.left:void 0}),$options.addClass("sticky"),$stickyClassDiv.addClass("border-bottom-grey"),$purchaseCluster.css({"margin-top":98})}),$buyElement.on(unstickElementEvent,function(){return $buyElement.removeClass("fixed"),$buyElement.css({left:"auto"}),$buyElement.css({top:"auto"}),$options.removeClass("sticky"),$stickyClassDiv.removeClass("border-bottom-grey"),$purchaseCluster.css({"margin-top":"auto"}),_adjustOptionsPosition(buyElement,options)})}}.call(this),void function(){var _handleWindowResize;null!=window.StickyHeader?window.StickyHeader:window.StickyHeader={},_handleWindowResize=function(){var $purchaseCluster;return $purchaseCluster=$("#purchase-cluster"),$(window).on("resize",function(){var $buyElement,cache$;return $buyElement=$purchaseCluster.find(".buy.fixed"),$buyElement.css({left:null!=$purchaseCluster&&null!=(cache$=$purchaseCluster.offset())?cache$.left:void 0})})},StickyHeader.init=function(param$,done){var cache$,config,header,pageType,shortcutMap,watchElements;return header=param$.header,cache$=header,shortcutMap=cache$.shortcutMap,watchElements=cache$.watchElements,pageType=cache$.pageType,config={stickyWatchElements:watchElements,shortcutMap:shortcutMap},"getaways"===pageType&&GetawaysHeaderHandler.bindEvents(),$(function(){var shortcutHeaderEventHandler;
return shortcutHeaderEventHandler=new ShortcutHeader.EventHandler(config),shortcutHeaderEventHandler.activate(),_handleWindowResize(),done()})}}.call(this),null!=window.Getaways?window.Getaways:window.Getaways={},null!=window.Getaways.FinePrintHandler?window.Getaways.FinePrintHandler:window.Getaways.FinePrintHandler={},Getaways.FinePrintHandler.init=function(obj,done){return $(function(){return $('a[href="#tabs-2"]').removeAttr("onclick"),$('a[href="#tabs-2"]').bind("click",function(){return $(".headerShortcut_fine_print").click()}),done()})};